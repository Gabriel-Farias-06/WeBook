(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rr(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function D_(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var e=c.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(c).forEach(function(r){var a=Object.getOwnPropertyDescriptor(c,r);Object.defineProperty(i,r,a.get?a:{enumerable:!0,get:function(){return c[r]}})}),i}var Mh={exports:{}},ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function R_(){if(tm)return ho;tm=1;var c=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:c,type:r,key:l,ref:a!==void 0?a:null,props:o}}return ho.Fragment=e,ho.jsx=i,ho.jsxs=i,ho}var im;function O_(){return im||(im=1,Mh.exports=R_()),Mh.exports}var O=O_(),Ih={exports:{}},fo={},Uh={exports:{}},zh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function N_(){return nm||(nm=1,function(c){function e(K,re){var ce=K.length;K.push(re);e:for(;0<ce;){var Ae=ce-1>>>1,G=K[Ae];if(0<a(G,re))K[Ae]=re,K[ce]=G,ce=Ae;else break e}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var re=K[0],ce=K.pop();if(ce!==re){K[0]=ce;e:for(var Ae=0,G=K.length,M=G>>>1;Ae<M;){var oe=2*(Ae+1)-1,ye=K[oe],xe=oe+1,Ue=K[xe];if(0>a(ye,ce))xe<G&&0>a(Ue,ye)?(K[Ae]=Ue,K[xe]=ce,Ae=xe):(K[Ae]=ye,K[oe]=ce,Ae=oe);else if(xe<G&&0>a(Ue,ce))K[Ae]=Ue,K[xe]=ce,Ae=xe;else break e}}return re}function a(K,re){var ce=K.sortIndex-re.sortIndex;return ce!==0?ce:K.id-re.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();c.unstable_now=function(){return l.now()-h}}var f=[],p=[],v=1,m=null,w=3,x=!1,R=!1,T=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function z(K){for(var re=i(p);re!==null;){if(re.callback===null)r(p);else if(re.startTime<=K)r(p),re.sortIndex=re.expirationTime,e(f,re);else break;re=i(p)}}function C(K){if(T=!1,z(K),!R)if(i(f)!==null)R=!0,N||(N=!0,W());else{var re=i(p);re!==null&&me(C,re.startTime-K)}}var N=!1,F=-1,V=5,I=-1;function H(){return _?!0:!(c.unstable_now()-I<V)}function le(){if(_=!1,N){var K=c.unstable_now();I=K;var re=!0;try{e:{R=!1,T&&(T=!1,S(F),F=-1),x=!0;var ce=w;try{t:{for(z(K),m=i(f);m!==null&&!(m.expirationTime>K&&H());){var Ae=m.callback;if(typeof Ae=="function"){m.callback=null,w=m.priorityLevel;var G=Ae(m.expirationTime<=K);if(K=c.unstable_now(),typeof G=="function"){m.callback=G,z(K),re=!0;break t}m===i(f)&&r(f),z(K)}else r(f);m=i(f)}if(m!==null)re=!0;else{var M=i(p);M!==null&&me(C,M.startTime-K),re=!1}}break e}finally{m=null,w=ce,x=!1}re=void 0}}finally{re?W():N=!1}}}var W;if(typeof A=="function")W=function(){A(le)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ke=pe.port2;pe.port1.onmessage=le,W=function(){ke.postMessage(null)}}else W=function(){E(le,0)};function me(K,re){F=E(function(){K(c.unstable_now())},re)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(K){K.callback=null},c.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<K?Math.floor(1e3/K):5},c.unstable_getCurrentPriorityLevel=function(){return w},c.unstable_next=function(K){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var ce=w;w=re;try{return K()}finally{w=ce}},c.unstable_requestPaint=function(){_=!0},c.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ce=w;w=K;try{return re()}finally{w=ce}},c.unstable_scheduleCallback=function(K,re,ce){var Ae=c.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ae+ce:Ae):ce=Ae,K){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ce+G,K={id:v++,callback:re,priorityLevel:K,startTime:ce,expirationTime:G,sortIndex:-1},ce>Ae?(K.sortIndex=ce,e(p,K),i(f)===null&&K===i(p)&&(T?(S(F),F=-1):T=!0,me(C,ce-Ae))):(K.sortIndex=G,e(f,K),R||x||(R=!0,N||(N=!0,W()))),K},c.unstable_shouldYield=H,c.unstable_wrapCallback=function(K){var re=w;return function(){var ce=w;w=re;try{return K.apply(this,arguments)}finally{w=ce}}}}(zh)),zh}var rm;function B_(){return rm||(rm=1,Uh.exports=N_()),Uh.exports}var Fh={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function L_(){if(am)return ct;am=1;var c=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,T={};function _(G,M,oe){this.props=G,this.context=M,this.refs=T,this.updater=oe||x}_.prototype.isReactComponent={},_.prototype.setState=function(G,M){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,M,"setState")},_.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=_.prototype;function S(G,M,oe){this.props=G,this.context=M,this.refs=T,this.updater=oe||x}var A=S.prototype=new E;A.constructor=S,R(A,_.prototype),A.isPureReactComponent=!0;var z=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function F(G,M,oe,ye,xe,Ue){return oe=Ue.ref,{$$typeof:c,type:G,key:M,ref:oe!==void 0?oe:null,props:Ue}}function V(G,M){return F(G.type,M,void 0,void 0,void 0,G.props)}function I(G){return typeof G=="object"&&G!==null&&G.$$typeof===c}function H(G){var M={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(oe){return M[oe]})}var le=/\/+/g;function W(G,M){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):M.toString(36)}function pe(){}function ke(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(pe,pe):(G.status="pending",G.then(function(M){G.status==="pending"&&(G.status="fulfilled",G.value=M)},function(M){G.status==="pending"&&(G.status="rejected",G.reason=M)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function me(G,M,oe,ye,xe){var Ue=typeof G;(Ue==="undefined"||Ue==="boolean")&&(G=null);var ze=!1;if(G===null)ze=!0;else switch(Ue){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(G.$$typeof){case c:case e:ze=!0;break;case v:return ze=G._init,me(ze(G._payload),M,oe,ye,xe)}}if(ze)return xe=xe(G),ze=ye===""?"."+W(G,0):ye,z(xe)?(oe="",ze!=null&&(oe=ze.replace(le,"$&/")+"/"),me(xe,M,oe,"",function(it){return it})):xe!=null&&(I(xe)&&(xe=V(xe,oe+(xe.key==null||G&&G.key===xe.key?"":(""+xe.key).replace(le,"$&/")+"/")+ze)),M.push(xe)),1;ze=0;var tt=ye===""?".":ye+":";if(z(G))for(var Me=0;Me<G.length;Me++)ye=G[Me],Ue=tt+W(ye,Me),ze+=me(ye,M,oe,Ue,xe);else if(Me=w(G),typeof Me=="function")for(G=Me.call(G),Me=0;!(ye=G.next()).done;)ye=ye.value,Ue=tt+W(ye,Me++),ze+=me(ye,M,oe,Ue,xe);else if(Ue==="object"){if(typeof G.then=="function")return me(ke(G),M,oe,ye,xe);throw M=String(G),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ze}function K(G,M,oe){if(G==null)return G;var ye=[],xe=0;return me(G,ye,"","",function(Ue){return M.call(oe,Ue,xe++)}),ye}function re(G){if(G._status===-1){var M=G._result;M=M(),M.then(function(oe){(G._status===0||G._status===-1)&&(G._status=1,G._result=oe)},function(oe){(G._status===0||G._status===-1)&&(G._status=2,G._result=oe)}),G._status===-1&&(G._status=0,G._result=M)}if(G._status===1)return G._result.default;throw G._result}var ce=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function Ae(){}return ct.Children={map:K,forEach:function(G,M,oe){K(G,function(){M.apply(this,arguments)},oe)},count:function(G){var M=0;return K(G,function(){M++}),M},toArray:function(G){return K(G,function(M){return M})||[]},only:function(G){if(!I(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},ct.Component=_,ct.Fragment=i,ct.Profiler=a,ct.PureComponent=S,ct.StrictMode=r,ct.Suspense=f,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ct.__COMPILER_RUNTIME={__proto__:null,c:function(G){return C.H.useMemoCache(G)}},ct.cache=function(G){return function(){return G.apply(null,arguments)}},ct.cloneElement=function(G,M,oe){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ye=R({},G.props),xe=G.key,Ue=void 0;if(M!=null)for(ze in M.ref!==void 0&&(Ue=void 0),M.key!==void 0&&(xe=""+M.key),M)!N.call(M,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&M.ref===void 0||(ye[ze]=M[ze]);var ze=arguments.length-2;if(ze===1)ye.children=oe;else if(1<ze){for(var tt=Array(ze),Me=0;Me<ze;Me++)tt[Me]=arguments[Me+2];ye.children=tt}return F(G.type,xe,void 0,void 0,Ue,ye)},ct.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},ct.createElement=function(G,M,oe){var ye,xe={},Ue=null;if(M!=null)for(ye in M.key!==void 0&&(Ue=""+M.key),M)N.call(M,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(xe[ye]=M[ye]);var ze=arguments.length-2;if(ze===1)xe.children=oe;else if(1<ze){for(var tt=Array(ze),Me=0;Me<ze;Me++)tt[Me]=arguments[Me+2];xe.children=tt}if(G&&G.defaultProps)for(ye in ze=G.defaultProps,ze)xe[ye]===void 0&&(xe[ye]=ze[ye]);return F(G,Ue,void 0,void 0,null,xe)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(G){return{$$typeof:h,render:G}},ct.isValidElement=I,ct.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:re}},ct.memo=function(G,M){return{$$typeof:p,type:G,compare:M===void 0?null:M}},ct.startTransition=function(G){var M=C.T,oe={};C.T=oe;try{var ye=G(),xe=C.S;xe!==null&&xe(oe,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Ae,ce)}catch(Ue){ce(Ue)}finally{C.T=M}},ct.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ct.use=function(G){return C.H.use(G)},ct.useActionState=function(G,M,oe){return C.H.useActionState(G,M,oe)},ct.useCallback=function(G,M){return C.H.useCallback(G,M)},ct.useContext=function(G){return C.H.useContext(G)},ct.useDebugValue=function(){},ct.useDeferredValue=function(G,M){return C.H.useDeferredValue(G,M)},ct.useEffect=function(G,M,oe){var ye=C.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(G,M)},ct.useId=function(){return C.H.useId()},ct.useImperativeHandle=function(G,M,oe){return C.H.useImperativeHandle(G,M,oe)},ct.useInsertionEffect=function(G,M){return C.H.useInsertionEffect(G,M)},ct.useLayoutEffect=function(G,M){return C.H.useLayoutEffect(G,M)},ct.useMemo=function(G,M){return C.H.useMemo(G,M)},ct.useOptimistic=function(G,M){return C.H.useOptimistic(G,M)},ct.useReducer=function(G,M,oe){return C.H.useReducer(G,M,oe)},ct.useRef=function(G){return C.H.useRef(G)},ct.useState=function(G){return C.H.useState(G)},ct.useSyncExternalStore=function(G,M,oe){return C.H.useSyncExternalStore(G,M,oe)},ct.useTransition=function(){return C.H.useTransition()},ct.version="19.1.0",ct}var sm;function ld(){return sm||(sm=1,Fh.exports=L_()),Fh.exports}var Ph={exports:{}},Bi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function j_(){if(om)return Bi;om=1;var c=ld();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,v){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:f,containerInfo:p,implementation:v}}var l=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bi.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,v)},Bi.flushSync=function(f){var p=l.T,v=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=p,r.p=v,r.d.f()}},Bi.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Bi.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Bi.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,m=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:m,integrity:w,fetchPriority:x}):v==="script"&&r.d.X(f,{crossOrigin:m,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bi.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Bi.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,m=h(v,p.crossOrigin);r.d.L(f,v,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bi.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Bi.requestFormReset=function(f){r.d.r(f)},Bi.unstable_batchedUpdates=function(f,p){return f(p)},Bi.useFormState=function(f,p,v){return l.H.useFormState(f,p,v)},Bi.useFormStatus=function(){return l.H.useHostTransitionStatus()},Bi.version="19.1.0",Bi}var lm;function M_(){if(lm)return Ph.exports;lm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(e){console.error(e)}}return c(),Ph.exports=j_(),Ph.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function I_(){if(um)return fo;um=1;var c=B_(),e=ld(),i=M_();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function l(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(o(t)!==t)throw Error(r(188))}function f(t){var n=t.alternate;if(!n){if(n=o(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,u=n;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){s=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return h(d),t;if(g===u)return h(d),n;g=g.sibling}throw Error(r(188))}if(s.return!==u.return)s=d,u=g;else{for(var k=!1,L=d.child;L;){if(L===s){k=!0,s=d,u=g;break}if(L===u){k=!0,u=d,s=g;break}L=L.sibling}if(!k){for(L=g.child;L;){if(L===s){k=!0,s=g,u=d;break}if(L===u){k=!0,u=g,s=d;break}L=L.sibling}if(!k)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,m=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function W(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case _:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case A:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:ke(t.type)||"Memo";case V:n=t._payload,t=t._init;try{return ke(t(n))}catch{}}return null}var me=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ae=[],G=-1;function M(t){return{current:t}}function oe(t){0>G||(t.current=Ae[G],Ae[G]=null,G--)}function ye(t,n){G++,Ae[G]=t.current,t.current=n}var xe=M(null),Ue=M(null),ze=M(null),tt=M(null);function Me(t,n){switch(ye(ze,n),ye(Ue,t),ye(xe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Dg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Dg(n),t=Rg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(xe),ye(xe,t)}function it(){oe(xe),oe(Ue),oe(ze)}function St(t){t.memoizedState!==null&&ye(tt,t);var n=xe.current,s=Rg(n,t.type);n!==s&&(ye(Ue,t),ye(xe,s))}function Ze(t){Ue.current===t&&(oe(xe),oe(Ue)),tt.current===t&&(oe(tt),so._currentValue=ce)}var ot=Object.prototype.hasOwnProperty,nt=c.unstable_scheduleCallback,lt=c.unstable_cancelCallback,Ot=c.unstable_shouldYield,bt=c.unstable_requestPaint,Ke=c.unstable_now,Ft=c.unstable_getCurrentPriorityLevel,Kt=c.unstable_ImmediatePriority,kt=c.unstable_UserBlockingPriority,$e=c.unstable_NormalPriority,Je=c.unstable_LowPriority,de=c.unstable_IdlePriority,Ye=c.log,wt=c.unstable_setDisableYieldValue,Pt=null,_t=null;function ni(t){if(typeof Ye=="function"&&wt(t),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Pt,t)}catch{}}var jt=Math.clz32?Math.clz32:yi,li=Math.log,ki=Math.LN2;function yi(t){return t>>>=0,t===0?32:31-(li(t)/ki|0)|0}var Mt=256,Qt=4194304;function bi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function U(t,n,s){var u=t.pendingLanes;if(u===0)return 0;var d=0,g=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var L=u&134217727;return L!==0?(u=L&~g,u!==0?d=bi(u):(k&=L,k!==0?d=bi(k):s||(s=L&~t,s!==0&&(d=bi(s))))):(L=u&~g,L!==0?d=bi(L):k!==0?d=bi(k):s||(s=u&~t,s!==0&&(d=bi(s)))),d===0?0:n!==0&&n!==d&&(n&g)===0&&(g=d&-d,s=n&-n,g>=s||g===32&&(s&4194048)!==0)?n:d}function Ee(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Re(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fe(){var t=Mt;return Mt<<=1,(Mt&4194048)===0&&(Mt=256),t}function Q(){var t=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),t}function be(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function y(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function D(t,n,s,u,d,g){var k=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var L=t.entanglements,$=t.expirationTimes,fe=t.hiddenUpdates;for(s=k&~s;0<s;){var _e=31-jt(s),Ce=1<<_e;L[_e]=0,$[_e]=-1;var ve=fe[_e];if(ve!==null)for(fe[_e]=null,_e=0;_e<ve.length;_e++){var ge=ve[_e];ge!==null&&(ge.lane&=-536870913)}s&=~Ce}u!==0&&q(t,u,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(k&~n))}function q(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var u=31-jt(n);t.entangledLanes|=n,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function b(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var u=31-jt(s),d=1<<u;d&n|t[u]&n&&(t[u]|=n),s&=~d}}function Y(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ie(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function B(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Xg(t.type))}function Z(t,n){var s=re.p;try{return re.p=t,n()}finally{re.p=s}}var ue=Math.random().toString(36).slice(2),Be="__reactFiber$"+ue,Oe="__reactProps$"+ue,je="__reactContainer$"+ue,Qe="__reactEvents$"+ue,ui="__reactListeners$"+ue,vt="__reactHandles$"+ue,rt="__reactResources$"+ue,Tt="__reactMarker$"+ue;function ft(t){delete t[Be],delete t[Oe],delete t[Qe],delete t[ui],delete t[vt]}function Zt(t){var n=t[Be];if(n)return n;for(var s=t.parentNode;s;){if(n=s[je]||s[Be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Lg(t);t!==null;){if(s=t[Be])return s;t=Lg(t)}return n}t=s,s=t.parentNode}return null}function fi(t){if(t=t[Be]||t[je]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Mi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function It(t){var n=t[rt];return n||(n=t[rt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[Tt]=!0}var ri=new Set,Fi={};function di(t,n){fn(t,n),fn(t+"Capture",n)}function fn(t,n){for(Fi[t]=n,t=0;t<n.length;t++)ri.add(n[t])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ds={},sr={};function Uo(t){return ot.call(sr,t)?!0:ot.call(ds,t)?!1:ju.test(t)?sr[t]=!0:(ds[t]=!0,!1)}function dn(t,n,s){if(Uo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function ua(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Pi(t,n,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+u)}}var Ur,zo;function or(t){if(Ur===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ur=n&&n[1]||"",zo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+zo}var zr=!1;function ps(t,n){if(!t||zr)return"";zr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ge){var ve=ge}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ge){ve=ge}t.call(Ce.prototype)}}else{try{throw Error()}catch(ge){ve=ge}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ge){if(ge&&ve&&typeof ge.stack=="string")return[ge.stack,ve.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),k=g[0],L=g[1];if(k&&L){var $=k.split(`
`),fe=L.split(`
`);for(d=u=0;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;for(;d<fe.length&&!fe[d].includes("DetermineComponentFrameRoot");)d++;if(u===$.length||d===fe.length)for(u=$.length-1,d=fe.length-1;1<=u&&0<=d&&$[u]!==fe[d];)d--;for(;1<=u&&0<=d;u--,d--)if($[u]!==fe[d]){if(u!==1||d!==1)do if(u--,d--,0>d||$[u]!==fe[d]){var _e=`
`+$[u].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=u&&0<=d);break}}}finally{zr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?or(s):""}function Mu(t){switch(t.tag){case 26:case 27:case 5:return or(t.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return ps(t.type,!1);case 11:return ps(t.type.render,!1);case 1:return ps(t.type,!0);case 31:return or("Activity");default:return""}}function j(t){try{var n="";do n+=Mu(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function X(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(t){var n=P(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(k){u=""+k,g.call(this,k)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function se(t){t._valueTracker||(t._valueTracker=ne(t))}function ee(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return t&&(u=P(t)?t.checked?"true":"false":t.value),t=u,t!==s?(n.setValue(t),!0):!1}function we(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var De=/[\n"\\]/g;function Te(t){return t.replace(De,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ne(t,n,s,u,d,g,k,L){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),n!=null?k==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+X(n)):t.value!==""+X(n)&&(t.value=""+X(n)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),n!=null?qe(t,k,X(n)):s!=null?qe(t,k,X(s)):u!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+X(L):t.removeAttribute("name")}function Le(t,n,s,u,d,g,k,L){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),n!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;s=s!=null?""+X(s):"",n=n!=null?""+X(n):s,L||n===t.value||(t.value=n),t.defaultValue=n}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=L?t.checked:!!u,t.defaultChecked=!!u,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k)}function qe(t,n,s){n==="number"&&we(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function st(t,n,s,u){if(t=t.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=n.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&u&&(t[s].defaultSelected=!0)}else{for(s=""+X(s),n=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function Rt(t,n,s){if(n!=null&&(n=""+X(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+X(s):""}function Nt(t,n,s,u){if(n==null){if(u!=null){if(s!=null)throw Error(r(92));if(me(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),n=s}s=X(n),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function Gt(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ti=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ii(t,n,s){var u=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":u?t.setProperty(n,s):typeof s!="number"||s===0||ti.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function lr(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in n)u=n[d],n.hasOwnProperty(d)&&s[d]!==u&&Ii(t,d,u)}else for(var g in n)n.hasOwnProperty(g)&&Ii(t,g,n[g])}function Fr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(t){return vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ms=null;function ys(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ln=null,ca=null;function Od(t){var n=fi(t);if(n&&(t=n.stateNode)){var s=t[Oe]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ne(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Te(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==t&&u.form===t.form){var d=u[Oe]||null;if(!d)throw Error(r(90));Ne(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<s.length;n++)u=s[n],u.form===t.form&&ee(u)}break e;case"textarea":Rt(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&st(t,!!s.multiple,n,!1)}}}var Uu=!1;function Nd(t,n,s){if(Uu)return t(n,s);Uu=!0;try{var u=t(n);return u}finally{if(Uu=!1,(Ln!==null||ca!==null)&&(Sl(),Ln&&(n=Ln,t=ca,ca=Ln=null,Od(n),t)))for(n=0;n<t.length;n++)Od(t[n])}}function bs(t,n){var s=t.stateNode;if(s===null)return null;var u=s[Oe]||null;if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=!1;if(jn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){zu=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{zu=!1}var ur=null,Fu=null,Fo=null;function Bd(){if(Fo)return Fo;var t,n=Fu,s=n.length,u,d="value"in ur?ur.value:ur.textContent,g=d.length;for(t=0;t<s&&n[t]===d[t];t++);var k=s-t;for(u=1;u<=k&&n[s-u]===d[g-u];u++);return Fo=d.slice(t,1<u?1-u:void 0)}function Po(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qo(){return!0}function Ld(){return!1}function qi(t){function n(s,u,d,g,k){this._reactName=s,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(s=t[L],this[L]=s?s(g):g[L]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?qo:Ld,this.isPropagationStopped=Ld,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),n}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=qi(Pr),ws=v({},Pr,{view:0,detail:0}),Db=qi(ws),Pu,qu,Es,Ho=v({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(Pu=t.screenX-Es.screenX,qu=t.screenY-Es.screenY):qu=Pu=0,Es=t),Pu)},movementY:function(t){return"movementY"in t?t.movementY:qu}}),jd=qi(Ho),Rb=v({},Ho,{dataTransfer:0}),Ob=qi(Rb),Nb=v({},ws,{relatedTarget:0}),Vu=qi(Nb),Bb=v({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lb=qi(Bb),jb=v({},Pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mb=qi(jb),Ib=v({},Pr,{data:0}),Md=qi(Ib),Ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pb(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Fb[t])?!!n[t]:!1}function Hu(){return Pb}var qb=v({},ws,{key:function(t){if(t.key){var n=Ub[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(t){return t.type==="keypress"?Po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vb=qi(qb),Hb=v({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=qi(Hb),Gb=v({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),$b=qi(Gb),Yb=v({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zb=qi(Yb),Xb=v({},Ho,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wb=qi(Xb),Kb=v({},Pr,{newState:0,oldState:0}),Qb=qi(Kb),Jb=[9,13,27,32],Gu=jn&&"CompositionEvent"in window,xs=null;jn&&"documentMode"in document&&(xs=document.documentMode);var e2=jn&&"TextEvent"in window&&!xs,Ud=jn&&(!Gu||xs&&8<xs&&11>=xs),zd=" ",Fd=!1;function Pd(t,n){switch(t){case"keyup":return Jb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function t2(t,n){switch(t){case"compositionend":return qd(n);case"keypress":return n.which!==32?null:(Fd=!0,zd);case"textInput":return t=n.data,t===zd&&Fd?null:t;default:return null}}function i2(t,n){if(ha)return t==="compositionend"||!Gu&&Pd(t,n)?(t=Bd(),Fo=Fu=ur=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ud&&n.locale!=="ko"?null:n.data;default:return null}}var n2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!n2[t.type]:n==="textarea"}function Hd(t,n,s,u){Ln?ca?ca.push(u):ca=[u]:Ln=u,n=Rl(n,"onChange"),0<n.length&&(s=new Vo("onChange","change",null,s,u),t.push({event:s,listeners:n}))}var Ss=null,As=null;function r2(t){Sg(t,0)}function Go(t){var n=Mi(t);if(ee(n))return t}function Gd(t,n){if(t==="change")return n}var $d=!1;if(jn){var $u;if(jn){var Yu="oninput"in document;if(!Yu){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Yu=typeof Yd.oninput=="function"}$u=Yu}else $u=!1;$d=$u&&(!document.documentMode||9<document.documentMode)}function Zd(){Ss&&(Ss.detachEvent("onpropertychange",Xd),As=Ss=null)}function Xd(t){if(t.propertyName==="value"&&Go(As)){var n=[];Hd(n,As,t,ys(t)),Nd(r2,n)}}function a2(t,n,s){t==="focusin"?(Zd(),Ss=n,As=s,Ss.attachEvent("onpropertychange",Xd)):t==="focusout"&&Zd()}function s2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Go(As)}function o2(t,n){if(t==="click")return Go(n)}function l2(t,n){if(t==="input"||t==="change")return Go(n)}function u2(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Yi=typeof Object.is=="function"?Object.is:u2;function Cs(t,n){if(Yi(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var d=s[u];if(!ot.call(n,d)||!Yi(t[d],n[d]))return!1}return!0}function Wd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,n){var s=Wd(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=n&&u>=n)return{node:s,offset:n-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Wd(s)}}function Qd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=we(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=we(t.document)}return n}function Zu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var c2=jn&&"documentMode"in document&&11>=document.documentMode,fa=null,Xu=null,ks=null,Wu=!1;function ep(t,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wu||fa==null||fa!==we(u)||(u=fa,"selectionStart"in u&&Zu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ks&&Cs(ks,u)||(ks=u,u=Rl(Xu,"onSelect"),0<u.length&&(n=new Vo("onSelect","select",null,n,s),t.push({event:n,listeners:u}),n.target=fa)))}function qr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var da={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Ku={},tp={};jn&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Vr(t){if(Ku[t])return Ku[t];if(!da[t])return t;var n=da[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in tp)return Ku[t]=n[s];return t}var ip=Vr("animationend"),np=Vr("animationiteration"),rp=Vr("animationstart"),h2=Vr("transitionrun"),f2=Vr("transitionstart"),d2=Vr("transitioncancel"),ap=Vr("transitionend"),sp=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function pn(t,n){sp.set(t,n),di(n,[t])}var op=new WeakMap;function nn(t,n){if(typeof t=="object"&&t!==null){var s=op.get(t);return s!==void 0?s:(n={value:t,source:n,stack:j(n)},op.set(t,n),n)}return{value:t,source:n,stack:j(n)}}var rn=[],pa=0,Ju=0;function $o(){for(var t=pa,n=Ju=pa=0;n<t;){var s=rn[n];rn[n++]=null;var u=rn[n];rn[n++]=null;var d=rn[n];rn[n++]=null;var g=rn[n];if(rn[n++]=null,u!==null&&d!==null){var k=u.pending;k===null?d.next=d:(d.next=k.next,k.next=d),u.pending=d}g!==0&&lp(s,d,g)}}function Yo(t,n,s,u){rn[pa++]=t,rn[pa++]=n,rn[pa++]=s,rn[pa++]=u,Ju|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ec(t,n,s,u){return Yo(t,n,s,u),Zo(t)}function va(t,n){return Yo(t,null,null,n),Zo(t)}function lp(t,n,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,u=g.alternate,u!==null&&(u.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&n!==null&&(d=31-jt(s),t=g.hiddenUpdates,u=t[d],u===null?t[d]=[n]:u.push(n),n.lane=s|536870912),g):null}function Zo(t){if(50<Qs)throw Qs=0,sh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ga={};function p2(t,n,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(t,n,s,u){return new p2(t,n,s,u)}function tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,n){var s=t.alternate;return s===null?(s=Zi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function up(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,s,u,d,g){var k=0;if(u=t,typeof t=="function")tc(t)&&(k=1);else if(typeof t=="string")k=g_(t,s,xe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Zi(31,s,n,d),t.elementType=I,t.lanes=g,t;case R:return Hr(s.children,d,g,n);case T:k=8,d|=24;break;case _:return t=Zi(12,s,n,d|2),t.elementType=_,t.lanes=g,t;case C:return t=Zi(13,s,n,d),t.elementType=C,t.lanes=g,t;case N:return t=Zi(19,s,n,d),t.elementType=N,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case A:k=10;break e;case S:k=9;break e;case z:k=11;break e;case F:k=14;break e;case V:k=16,u=null;break e}k=29,s=Error(r(130,t===null?"null":typeof t,"")),u=null}return n=Zi(k,s,n,d),n.elementType=t,n.type=u,n.lanes=g,n}function Hr(t,n,s,u){return t=Zi(7,t,u,n),t.lanes=s,t}function ic(t,n,s){return t=Zi(6,t,null,n),t.lanes=s,t}function nc(t,n,s){return n=Zi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ma=[],ya=0,Wo=null,Ko=0,an=[],sn=0,Gr=null,In=1,Un="";function $r(t,n){ma[ya++]=Ko,ma[ya++]=Wo,Wo=t,Ko=n}function cp(t,n,s){an[sn++]=In,an[sn++]=Un,an[sn++]=Gr,Gr=t;var u=In;t=Un;var d=32-jt(u)-1;u&=~(1<<d),s+=1;var g=32-jt(n)+d;if(30<g){var k=d-d%5;g=(u&(1<<k)-1).toString(32),u>>=k,d-=k,In=1<<32-jt(n)+d|s<<d|u,Un=g+t}else In=1<<g|s<<d|u,Un=t}function rc(t){t.return!==null&&($r(t,1),cp(t,1,0))}function ac(t){for(;t===Wo;)Wo=ma[--ya],ma[ya]=null,Ko=ma[--ya],ma[ya]=null;for(;t===Gr;)Gr=an[--sn],an[sn]=null,Un=an[--sn],an[sn]=null,In=an[--sn],an[sn]=null}var Ui=null,ai=null,Lt=!1,Yr=null,An=!1,sc=Error(r(519));function Zr(t){var n=Error(r(418,""));throw Rs(nn(n,t)),sc}function hp(t){var n=t.stateNode,s=t.type,u=t.memoizedProps;switch(n[Be]=t,n[Oe]=u,s){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(s=0;s<eo.length;s++)mt(eo[s],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":mt("invalid",n),Le(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),se(n);break;case"select":mt("invalid",n);break;case"textarea":mt("invalid",n),Nt(n,u.value,u.defaultValue,u.children),se(n)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||u.suppressHydrationWarning===!0||Tg(n.textContent,s)?(u.popover!=null&&(mt("beforetoggle",n),mt("toggle",n)),u.onScroll!=null&&mt("scroll",n),u.onScrollEnd!=null&&mt("scrollend",n),u.onClick!=null&&(n.onclick=Ol),n=!0):n=!1,n||Zr(t)}function fp(t){for(Ui=t.return;Ui;)switch(Ui.tag){case 5:case 13:An=!1;return;case 27:case 3:An=!0;return;default:Ui=Ui.return}}function Ts(t){if(t!==Ui)return!1;if(!Lt)return fp(t),Lt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Eh(t.type,t.memoizedProps)),s=!s),s&&ai&&Zr(t),fp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ai=gn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ai=null}}else n===27?(n=ai,Ar(t.type)?(t=Ch,Ch=null,ai=t):ai=n):ai=Ui?gn(t.stateNode.nextSibling):null;return!0}function Ds(){ai=Ui=null,Lt=!1}function dp(){var t=Yr;return t!==null&&(Gi===null?Gi=t:Gi.push.apply(Gi,t),Yr=null),t}function Rs(t){Yr===null?Yr=[t]:Yr.push(t)}var oc=M(null),Xr=null,zn=null;function cr(t,n,s){ye(oc,n._currentValue),n._currentValue=s}function Fn(t){t._currentValue=oc.current,oe(oc)}function lc(t,n,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===s)break;t=t.return}}function uc(t,n,s,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var k=d.child;g=g.firstContext;e:for(;g!==null;){var L=g;g=d;for(var $=0;$<n.length;$++)if(L.context===n[$]){g.lanes|=s,L=g.alternate,L!==null&&(L.lanes|=s),lc(g.return,s,t),u||(k=null);break e}g=L.next}}else if(d.tag===18){if(k=d.return,k===null)throw Error(r(341));k.lanes|=s,g=k.alternate,g!==null&&(g.lanes|=s),lc(k,s,t),k=null}else k=d.child;if(k!==null)k.return=d;else for(k=d;k!==null;){if(k===t){k=null;break}if(d=k.sibling,d!==null){d.return=k.return,k=d;break}k=k.return}d=k}}function Os(t,n,s,u){t=null;for(var d=n,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var k=d.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var L=d.type;Yi(d.pendingProps.value,k.value)||(t!==null?t.push(L):t=[L])}}else if(d===tt.current){if(k=d.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}d=d.return}t!==null&&uc(n,t,s,u),n.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!Yi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wr(t){Xr=t,zn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ni(t){return pp(Xr,t)}function Jo(t,n){return Xr===null&&Wr(t),pp(t,n)}function pp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zn===null){if(t===null)throw Error(r(308));zn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zn=zn.next=n;return s}var v2=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},g2=c.unstable_scheduleCallback,m2=c.unstable_NormalPriority,_i={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cc(){return{controller:new v2,data:new Map,refCount:0}}function Ns(t){t.refCount--,t.refCount===0&&g2(m2,function(){t.controller.abort()})}var Bs=null,hc=0,ba=0,_a=null;function y2(t,n){if(Bs===null){var s=Bs=[];hc=0,ba=dh(),_a={status:"pending",value:void 0,then:function(u){s.push(u)}}}return hc++,n.then(vp,vp),n}function vp(){if(--hc===0&&Bs!==null){_a!==null&&(_a.status="fulfilled");var t=Bs;Bs=null,ba=0,_a=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function b2(t,n){var s=[],u={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){u.status="fulfilled",u.value=n;for(var d=0;d<s.length;d++)(0,s[d])(n)},function(d){for(u.status="rejected",u.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),u}var gp=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&y2(t,n),gp!==null&&gp(t,n)};var Kr=M(null);function fc(){var t=Kr.current;return t!==null?t:Xt.pooledCache}function el(t,n){n===null?ye(Kr,Kr.current):ye(Kr,n.pool)}function mp(){var t=fc();return t===null?null:{parent:_i._currentValue,pool:t}}var Ls=Error(r(460)),yp=Error(r(474)),tl=Error(r(542)),dc={then:function(){}};function bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function il(){}function _p(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(il,il),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ep(t),t;default:if(typeof n.status=="string")n.then(il,il);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(u){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=u}},function(u){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ep(t),t}throw js=n,Ls}}var js=null;function wp(){if(js===null)throw Error(r(459));var t=js;return js=null,t}function Ep(t){if(t===Ls||t===tl)throw Error(r(483))}var hr=!1;function pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function dr(t,n,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ut&2)!==0){var d=u.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),u.pending=n,n=Zo(t),lp(t,null,s),n}return Yo(t,u,n,s),Zo(t)}function Ms(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,b(t,s)}}function gc(t,n){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var k={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=k:g=g.next=k,s=s.next}while(s!==null);g===null?d=g=n:g=g.next=n}else d=g=n;s={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var mc=!1;function Is(){if(mc){var t=_a;if(t!==null)throw t}}function Us(t,n,s,u){mc=!1;var d=t.updateQueue;hr=!1;var g=d.firstBaseUpdate,k=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var $=L,fe=$.next;$.next=null,k===null?g=fe:k.next=fe,k=$;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,L=_e.lastBaseUpdate,L!==k&&(L===null?_e.firstBaseUpdate=fe:L.next=fe,_e.lastBaseUpdate=$))}if(g!==null){var Ce=d.baseState;k=0,_e=fe=$=null,L=g;do{var ve=L.lane&-536870913,ge=ve!==L.lane;if(ge?(At&ve)===ve:(u&ve)===ve){ve!==0&&ve===ba&&(mc=!0),_e!==null&&(_e=_e.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var et=t,Xe=L;ve=n;var Ht=s;switch(Xe.tag){case 1:if(et=Xe.payload,typeof et=="function"){Ce=et.call(Ht,Ce,ve);break e}Ce=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Xe.payload,ve=typeof et=="function"?et.call(Ht,Ce,ve):et,ve==null)break e;Ce=v({},Ce,ve);break e;case 2:hr=!0}}ve=L.callback,ve!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=d.callbacks,ge===null?d.callbacks=[ve]:ge.push(ve))}else ge={lane:ve,tag:L.tag,payload:L.payload,callback:L.callback,next:null},_e===null?(fe=_e=ge,$=Ce):_e=_e.next=ge,k|=ve;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;ge=L,L=ge.next,ge.next=null,d.lastBaseUpdate=ge,d.shared.pending=null}}while(!0);_e===null&&($=Ce),d.baseState=$,d.firstBaseUpdate=fe,d.lastBaseUpdate=_e,g===null&&(d.shared.lanes=0),wr|=k,t.lanes=k,t.memoizedState=Ce}}function xp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Sp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)xp(s[t],n)}var wa=M(null),nl=M(0);function Ap(t,n){t=Yn,ye(nl,t),ye(wa,n),Yn=t|n.baseLanes}function yc(){ye(nl,Yn),ye(wa,wa.current)}function bc(){Yn=nl.current,oe(wa),oe(nl)}var pr=0,dt=null,qt=null,pi=null,rl=!1,Ea=!1,Qr=!1,al=0,zs=0,xa=null,_2=0;function ci(){throw Error(r(321))}function _c(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Yi(t[s],n[s]))return!1;return!0}function wc(t,n,s,u,d,g){return pr=g,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?lv:uv,Qr=!1,g=s(u,d),Qr=!1,Ea&&(g=kp(n,s,u,d)),Cp(t),g}function Cp(t){K.H=hl;var n=qt!==null&&qt.next!==null;if(pr=0,pi=qt=dt=null,rl=!1,zs=0,xa=null,n)throw Error(r(300));t===null||Ei||(t=t.dependencies,t!==null&&Qo(t)&&(Ei=!0))}function kp(t,n,s,u){dt=t;var d=0;do{if(Ea&&(xa=null),zs=0,Ea=!1,25<=d)throw Error(r(301));if(d+=1,pi=qt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=k2,g=n(s,u)}while(Ea);return g}function w2(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Fs(n):n,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(dt.flags|=1024),n}function Ec(){var t=al!==0;return al=0,t}function xc(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Sc(t){if(rl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}rl=!1}pr=0,pi=qt=dt=null,Ea=!1,zs=al=0,xa=null}function Vi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?dt.memoizedState=pi=t:pi=pi.next=t,pi}function vi(){if(qt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var n=pi===null?dt.memoizedState:pi.next;if(n!==null)pi=n,qt=t;else{if(t===null)throw dt.alternate===null?Error(r(467)):Error(r(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},pi===null?dt.memoizedState=pi=t:pi=pi.next=t}return pi}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(t){var n=zs;return zs+=1,xa===null&&(xa=[]),t=_p(xa,t,n),n=dt,(pi===null?n.memoizedState:pi.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?lv:uv),t}function sl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fs(t);if(t.$$typeof===A)return Ni(t)}throw Error(r(438,String(t)))}function Cc(t){var n=null,s=dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var u=dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ac(),dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),u=0;u<t;u++)s[u]=H;return n.index++,s}function Pn(t,n){return typeof n=="function"?n(t):n}function ol(t){var n=vi();return kc(n,qt,t)}function kc(t,n,s){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var d=t.baseQueue,g=u.pending;if(g!==null){if(d!==null){var k=d.next;d.next=g.next,g.next=k}n.baseQueue=d=g,u.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{n=d.next;var L=k=null,$=null,fe=n,_e=!1;do{var Ce=fe.lane&-536870913;if(Ce!==fe.lane?(At&Ce)===Ce:(pr&Ce)===Ce){var ve=fe.revertLane;if(ve===0)$!==null&&($=$.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ce===ba&&(_e=!0);else if((pr&ve)===ve){fe=fe.next,ve===ba&&(_e=!0);continue}else Ce={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},$===null?(L=$=Ce,k=g):$=$.next=Ce,dt.lanes|=ve,wr|=ve;Ce=fe.action,Qr&&s(g,Ce),g=fe.hasEagerState?fe.eagerState:s(g,Ce)}else ve={lane:Ce,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},$===null?(L=$=ve,k=g):$=$.next=ve,dt.lanes|=Ce,wr|=Ce;fe=fe.next}while(fe!==null&&fe!==n);if($===null?k=g:$.next=L,!Yi(g,t.memoizedState)&&(Ei=!0,_e&&(s=_a,s!==null)))throw s;t.memoizedState=g,t.baseState=k,t.baseQueue=$,u.lastRenderedState=g}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Tc(t){var n=vi(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=s.dispatch,d=s.pending,g=n.memoizedState;if(d!==null){s.pending=null;var k=d=d.next;do g=t(g,k.action),k=k.next;while(k!==d);Yi(g,n.memoizedState)||(Ei=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,u]}function Tp(t,n,s){var u=dt,d=vi(),g=Lt;if(g){if(s===void 0)throw Error(r(407));s=s()}else s=n();var k=!Yi((qt||d).memoizedState,s);k&&(d.memoizedState=s,Ei=!0),d=d.queue;var L=Op.bind(null,u,d,t);if(Ps(2048,8,L,[t]),d.getSnapshot!==n||k||pi!==null&&pi.memoizedState.tag&1){if(u.flags|=2048,Sa(9,ll(),Rp.bind(null,u,d,s,n),null),Xt===null)throw Error(r(349));g||(pr&124)!==0||Dp(u,n,s)}return s}function Dp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=dt.updateQueue,n===null?(n=Ac(),dt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Rp(t,n,s,u){n.value=s,n.getSnapshot=u,Np(n)&&Bp(t)}function Op(t,n,s){return s(function(){Np(n)&&Bp(t)})}function Np(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Yi(t,s)}catch{return!0}}function Bp(t){var n=va(t,2);n!==null&&Ji(n,t,2)}function Dc(t){var n=Vi();if(typeof t=="function"){var s=t;if(t=s(),Qr){ni(!0);try{s()}finally{ni(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:t},n}function Lp(t,n,s,u){return t.baseState=s,kc(t,qt,typeof u=="function"?u:Pn)}function E2(t,n,s,u,d){if(cl(t))throw Error(r(485));if(t=n.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){g.listeners.push(k)}};K.T!==null?s(!0):g.isTransition=!1,u(g),s=n.pending,s===null?(g.next=n.pending=g,jp(n,g)):(g.next=s.next,n.pending=s.next=g)}}function jp(t,n){var s=n.action,u=n.payload,d=t.state;if(n.isTransition){var g=K.T,k={};K.T=k;try{var L=s(d,u),$=K.S;$!==null&&$(k,L),Mp(t,n,L)}catch(fe){Rc(t,n,fe)}finally{K.T=g}}else try{g=s(d,u),Mp(t,n,g)}catch(fe){Rc(t,n,fe)}}function Mp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Ip(t,n,u)},function(u){return Rc(t,n,u)}):Ip(t,n,s)}function Ip(t,n,s){n.status="fulfilled",n.value=s,Up(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,jp(t,s)))}function Rc(t,n,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=s,Up(n),n=n.next;while(n!==u)}t.action=null}function Up(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function zp(t,n){return n}function Fp(t,n){if(Lt){var s=Xt.formState;if(s!==null){e:{var u=dt;if(Lt){if(ai){t:{for(var d=ai,g=An;d.nodeType!==8;){if(!g){d=null;break t}if(d=gn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ai=gn(d.nextSibling),u=d.data==="F!";break e}}Zr(u)}u=!1}u&&(n=s[0])}}return s=Vi(),s.memoizedState=s.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:n},s.queue=u,s=av.bind(null,dt,u),u.dispatch=s,u=Dc(!1),g=jc.bind(null,dt,!1,u.queue),u=Vi(),d={state:n,dispatch:null,action:t,pending:null},u.queue=d,s=E2.bind(null,dt,d,g,s),d.dispatch=s,u.memoizedState=t,[n,s,!1]}function Pp(t){var n=vi();return qp(n,qt,t)}function qp(t,n,s){if(n=kc(t,n,zp)[0],t=ol(Pn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Fs(n)}catch(k){throw k===Ls?tl:k}else u=n;n=vi();var d=n.queue,g=d.dispatch;return s!==n.memoizedState&&(dt.flags|=2048,Sa(9,ll(),x2.bind(null,d,s),null)),[u,g,t]}function x2(t,n){t.action=n}function Vp(t){var n=vi(),s=qt;if(s!==null)return qp(n,s,t);vi(),n=n.memoizedState,s=vi();var u=s.queue.dispatch;return s.memoizedState=t,[n,u,!1]}function Sa(t,n,s,u){return t={tag:t,create:s,deps:u,inst:n,next:null},n=dt.updateQueue,n===null&&(n=Ac(),dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,n.lastEffect=t),t}function ll(){return{destroy:void 0,resource:void 0}}function Hp(){return vi().memoizedState}function ul(t,n,s,u){var d=Vi();u=u===void 0?null:u,dt.flags|=t,d.memoizedState=Sa(1|n,ll(),s,u)}function Ps(t,n,s,u){var d=vi();u=u===void 0?null:u;var g=d.memoizedState.inst;qt!==null&&u!==null&&_c(u,qt.memoizedState.deps)?d.memoizedState=Sa(n,g,s,u):(dt.flags|=t,d.memoizedState=Sa(1|n,g,s,u))}function Gp(t,n){ul(8390656,8,t,n)}function $p(t,n){Ps(2048,8,t,n)}function Yp(t,n){return Ps(4,2,t,n)}function Zp(t,n){return Ps(4,4,t,n)}function Xp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wp(t,n,s){s=s!=null?s.concat([t]):null,Ps(4,4,Xp.bind(null,n,t),s)}function Oc(){}function Kp(t,n){var s=vi();n=n===void 0?null:n;var u=s.memoizedState;return n!==null&&_c(n,u[1])?u[0]:(s.memoizedState=[t,n],t)}function Qp(t,n){var s=vi();n=n===void 0?null:n;var u=s.memoizedState;if(n!==null&&_c(n,u[1]))return u[0];if(u=t(),Qr){ni(!0);try{t()}finally{ni(!1)}}return s.memoizedState=[u,n],u}function Nc(t,n,s){return s===void 0||(pr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=tg(),dt.lanes|=t,wr|=t,s)}function Jp(t,n,s,u){return Yi(s,n)?s:wa.current!==null?(t=Nc(t,s,u),Yi(t,n)||(Ei=!0),t):(pr&42)===0?(Ei=!0,t.memoizedState=s):(t=tg(),dt.lanes|=t,wr|=t,n)}function ev(t,n,s,u,d){var g=re.p;re.p=g!==0&&8>g?g:8;var k=K.T,L={};K.T=L,jc(t,!1,n,s);try{var $=d(),fe=K.S;if(fe!==null&&fe(L,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var _e=b2($,u);qs(t,n,_e,Qi(t))}else qs(t,n,u,Qi(t))}catch(Ce){qs(t,n,{then:function(){},status:"rejected",reason:Ce},Qi())}finally{re.p=g,K.T=k}}function S2(){}function Bc(t,n,s,u){if(t.tag!==5)throw Error(r(476));var d=tv(t).queue;ev(t,d,n,ce,s===null?S2:function(){return iv(t),s(u)})}function tv(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function iv(t){var n=tv(t).next.queue;qs(t,n,{},Qi())}function Lc(){return Ni(so)}function nv(){return vi().memoizedState}function rv(){return vi().memoizedState}function A2(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Qi();t=fr(s);var u=dr(n,t,s);u!==null&&(Ji(u,n,s),Ms(u,n,s)),n={cache:cc()},t.payload=n;return}n=n.return}}function C2(t,n,s){var u=Qi();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},cl(t)?sv(n,s):(s=ec(t,n,s,u),s!==null&&(Ji(s,t,u),ov(s,n,u)))}function av(t,n,s){var u=Qi();qs(t,n,s,u)}function qs(t,n,s,u){var d={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(cl(t))sv(n,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var k=n.lastRenderedState,L=g(k,s);if(d.hasEagerState=!0,d.eagerState=L,Yi(L,k))return Yo(t,n,d,0),Xt===null&&$o(),!1}catch{}finally{}if(s=ec(t,n,d,u),s!==null)return Ji(s,t,u),ov(s,n,u),!0}return!1}function jc(t,n,s,u){if(u={lane:2,revertLane:dh(),action:u,hasEagerState:!1,eagerState:null,next:null},cl(t)){if(n)throw Error(r(479))}else n=ec(t,s,u,2),n!==null&&Ji(n,t,2)}function cl(t){var n=t.alternate;return t===dt||n!==null&&n===dt}function sv(t,n){Ea=rl=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function ov(t,n,s){if((s&4194048)!==0){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,b(t,s)}}var hl={readContext:Ni,use:sl,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useLayoutEffect:ci,useInsertionEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useSyncExternalStore:ci,useId:ci,useHostTransitionStatus:ci,useFormState:ci,useActionState:ci,useOptimistic:ci,useMemoCache:ci,useCacheRefresh:ci},lv={readContext:Ni,use:sl,useCallback:function(t,n){return Vi().memoizedState=[t,n===void 0?null:n],t},useContext:Ni,useEffect:Gp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,ul(4194308,4,Xp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ul(4194308,4,t,n)},useInsertionEffect:function(t,n){ul(4,2,t,n)},useMemo:function(t,n){var s=Vi();n=n===void 0?null:n;var u=t();if(Qr){ni(!0);try{t()}finally{ni(!1)}}return s.memoizedState=[u,n],u},useReducer:function(t,n,s){var u=Vi();if(s!==void 0){var d=s(n);if(Qr){ni(!0);try{s(n)}finally{ni(!1)}}}else d=n;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=C2.bind(null,dt,t),[u.memoizedState,t]},useRef:function(t){var n=Vi();return t={current:t},n.memoizedState=t},useState:function(t){t=Dc(t);var n=t.queue,s=av.bind(null,dt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Oc,useDeferredValue:function(t,n){var s=Vi();return Nc(s,t,n)},useTransition:function(){var t=Dc(!1);return t=ev.bind(null,dt,t.queue,!0,!1),Vi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var u=dt,d=Vi();if(Lt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Xt===null)throw Error(r(349));(At&124)!==0||Dp(u,n,s)}d.memoizedState=s;var g={value:s,getSnapshot:n};return d.queue=g,Gp(Op.bind(null,u,g,t),[t]),u.flags|=2048,Sa(9,ll(),Rp.bind(null,u,g,s,n),null),s},useId:function(){var t=Vi(),n=Xt.identifierPrefix;if(Lt){var s=Un,u=In;s=(u&~(1<<32-jt(u)-1)).toString(32)+s,n="«"+n+"R"+s,s=al++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=_2++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Lc,useFormState:Fp,useActionState:Fp,useOptimistic:function(t){var n=Vi();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=jc.bind(null,dt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Cc,useCacheRefresh:function(){return Vi().memoizedState=A2.bind(null,dt)}},uv={readContext:Ni,use:sl,useCallback:Kp,useContext:Ni,useEffect:$p,useImperativeHandle:Wp,useInsertionEffect:Yp,useLayoutEffect:Zp,useMemo:Qp,useReducer:ol,useRef:Hp,useState:function(){return ol(Pn)},useDebugValue:Oc,useDeferredValue:function(t,n){var s=vi();return Jp(s,qt.memoizedState,t,n)},useTransition:function(){var t=ol(Pn)[0],n=vi().memoizedState;return[typeof t=="boolean"?t:Fs(t),n]},useSyncExternalStore:Tp,useId:nv,useHostTransitionStatus:Lc,useFormState:Pp,useActionState:Pp,useOptimistic:function(t,n){var s=vi();return Lp(s,qt,t,n)},useMemoCache:Cc,useCacheRefresh:rv},k2={readContext:Ni,use:sl,useCallback:Kp,useContext:Ni,useEffect:$p,useImperativeHandle:Wp,useInsertionEffect:Yp,useLayoutEffect:Zp,useMemo:Qp,useReducer:Tc,useRef:Hp,useState:function(){return Tc(Pn)},useDebugValue:Oc,useDeferredValue:function(t,n){var s=vi();return qt===null?Nc(s,t,n):Jp(s,qt.memoizedState,t,n)},useTransition:function(){var t=Tc(Pn)[0],n=vi().memoizedState;return[typeof t=="boolean"?t:Fs(t),n]},useSyncExternalStore:Tp,useId:nv,useHostTransitionStatus:Lc,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,n){var s=vi();return qt!==null?Lp(s,qt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Cc,useCacheRefresh:rv},Aa=null,Vs=0;function fl(t){var n=Vs;return Vs+=1,Aa===null&&(Aa=[]),_p(Aa,t,n)}function Hs(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function dl(t,n){throw n.$$typeof===m?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cv(t){var n=t._init;return n(t._payload)}function hv(t){function n(ae,J){if(t){var he=ae.deletions;he===null?(ae.deletions=[J],ae.flags|=16):he.push(J)}}function s(ae,J){if(!t)return null;for(;J!==null;)n(ae,J),J=J.sibling;return null}function u(ae){for(var J=new Map;ae!==null;)ae.key!==null?J.set(ae.key,ae):J.set(ae.index,ae),ae=ae.sibling;return J}function d(ae,J){return ae=Mn(ae,J),ae.index=0,ae.sibling=null,ae}function g(ae,J,he){return ae.index=he,t?(he=ae.alternate,he!==null?(he=he.index,he<J?(ae.flags|=67108866,J):he):(ae.flags|=67108866,J)):(ae.flags|=1048576,J)}function k(ae){return t&&ae.alternate===null&&(ae.flags|=67108866),ae}function L(ae,J,he,Se){return J===null||J.tag!==6?(J=ic(he,ae.mode,Se),J.return=ae,J):(J=d(J,he),J.return=ae,J)}function $(ae,J,he,Se){var Ve=he.type;return Ve===R?_e(ae,J,he.props.children,Se,he.key):J!==null&&(J.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===V&&cv(Ve)===J.type)?(J=d(J,he.props),Hs(J,he),J.return=ae,J):(J=Xo(he.type,he.key,he.props,null,ae.mode,Se),Hs(J,he),J.return=ae,J)}function fe(ae,J,he,Se){return J===null||J.tag!==4||J.stateNode.containerInfo!==he.containerInfo||J.stateNode.implementation!==he.implementation?(J=nc(he,ae.mode,Se),J.return=ae,J):(J=d(J,he.children||[]),J.return=ae,J)}function _e(ae,J,he,Se,Ve){return J===null||J.tag!==7?(J=Hr(he,ae.mode,Se,Ve),J.return=ae,J):(J=d(J,he),J.return=ae,J)}function Ce(ae,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=ic(""+J,ae.mode,he),J.return=ae,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return he=Xo(J.type,J.key,J.props,null,ae.mode,he),Hs(he,J),he.return=ae,he;case x:return J=nc(J,ae.mode,he),J.return=ae,J;case V:var Se=J._init;return J=Se(J._payload),Ce(ae,J,he)}if(me(J)||W(J))return J=Hr(J,ae.mode,he,null),J.return=ae,J;if(typeof J.then=="function")return Ce(ae,fl(J),he);if(J.$$typeof===A)return Ce(ae,Jo(ae,J),he);dl(ae,J)}return null}function ve(ae,J,he,Se){var Ve=J!==null?J.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Ve!==null?null:L(ae,J,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return he.key===Ve?$(ae,J,he,Se):null;case x:return he.key===Ve?fe(ae,J,he,Se):null;case V:return Ve=he._init,he=Ve(he._payload),ve(ae,J,he,Se)}if(me(he)||W(he))return Ve!==null?null:_e(ae,J,he,Se,null);if(typeof he.then=="function")return ve(ae,J,fl(he),Se);if(he.$$typeof===A)return ve(ae,J,Jo(ae,he),Se);dl(ae,he)}return null}function ge(ae,J,he,Se,Ve){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ae=ae.get(he)||null,L(J,ae,""+Se,Ve);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case w:return ae=ae.get(Se.key===null?he:Se.key)||null,$(J,ae,Se,Ve);case x:return ae=ae.get(Se.key===null?he:Se.key)||null,fe(J,ae,Se,Ve);case V:var pt=Se._init;return Se=pt(Se._payload),ge(ae,J,he,Se,Ve)}if(me(Se)||W(Se))return ae=ae.get(he)||null,_e(J,ae,Se,Ve,null);if(typeof Se.then=="function")return ge(ae,J,he,fl(Se),Ve);if(Se.$$typeof===A)return ge(ae,J,he,Jo(J,Se),Ve);dl(J,Se)}return null}function et(ae,J,he,Se){for(var Ve=null,pt=null,He=J,We=J=0,Si=null;He!==null&&We<he.length;We++){He.index>We?(Si=He,He=null):Si=He.sibling;var Bt=ve(ae,He,he[We],Se);if(Bt===null){He===null&&(He=Si);break}t&&He&&Bt.alternate===null&&n(ae,He),J=g(Bt,J,We),pt===null?Ve=Bt:pt.sibling=Bt,pt=Bt,He=Si}if(We===he.length)return s(ae,He),Lt&&$r(ae,We),Ve;if(He===null){for(;We<he.length;We++)He=Ce(ae,he[We],Se),He!==null&&(J=g(He,J,We),pt===null?Ve=He:pt.sibling=He,pt=He);return Lt&&$r(ae,We),Ve}for(He=u(He);We<he.length;We++)Si=ge(He,ae,We,he[We],Se),Si!==null&&(t&&Si.alternate!==null&&He.delete(Si.key===null?We:Si.key),J=g(Si,J,We),pt===null?Ve=Si:pt.sibling=Si,pt=Si);return t&&He.forEach(function(Rr){return n(ae,Rr)}),Lt&&$r(ae,We),Ve}function Xe(ae,J,he,Se){if(he==null)throw Error(r(151));for(var Ve=null,pt=null,He=J,We=J=0,Si=null,Bt=he.next();He!==null&&!Bt.done;We++,Bt=he.next()){He.index>We?(Si=He,He=null):Si=He.sibling;var Rr=ve(ae,He,Bt.value,Se);if(Rr===null){He===null&&(He=Si);break}t&&He&&Rr.alternate===null&&n(ae,He),J=g(Rr,J,We),pt===null?Ve=Rr:pt.sibling=Rr,pt=Rr,He=Si}if(Bt.done)return s(ae,He),Lt&&$r(ae,We),Ve;if(He===null){for(;!Bt.done;We++,Bt=he.next())Bt=Ce(ae,Bt.value,Se),Bt!==null&&(J=g(Bt,J,We),pt===null?Ve=Bt:pt.sibling=Bt,pt=Bt);return Lt&&$r(ae,We),Ve}for(He=u(He);!Bt.done;We++,Bt=he.next())Bt=ge(He,ae,We,Bt.value,Se),Bt!==null&&(t&&Bt.alternate!==null&&He.delete(Bt.key===null?We:Bt.key),J=g(Bt,J,We),pt===null?Ve=Bt:pt.sibling=Bt,pt=Bt);return t&&He.forEach(function(T_){return n(ae,T_)}),Lt&&$r(ae,We),Ve}function Ht(ae,J,he,Se){if(typeof he=="object"&&he!==null&&he.type===R&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case w:e:{for(var Ve=he.key;J!==null;){if(J.key===Ve){if(Ve=he.type,Ve===R){if(J.tag===7){s(ae,J.sibling),Se=d(J,he.props.children),Se.return=ae,ae=Se;break e}}else if(J.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===V&&cv(Ve)===J.type){s(ae,J.sibling),Se=d(J,he.props),Hs(Se,he),Se.return=ae,ae=Se;break e}s(ae,J);break}else n(ae,J);J=J.sibling}he.type===R?(Se=Hr(he.props.children,ae.mode,Se,he.key),Se.return=ae,ae=Se):(Se=Xo(he.type,he.key,he.props,null,ae.mode,Se),Hs(Se,he),Se.return=ae,ae=Se)}return k(ae);case x:e:{for(Ve=he.key;J!==null;){if(J.key===Ve)if(J.tag===4&&J.stateNode.containerInfo===he.containerInfo&&J.stateNode.implementation===he.implementation){s(ae,J.sibling),Se=d(J,he.children||[]),Se.return=ae,ae=Se;break e}else{s(ae,J);break}else n(ae,J);J=J.sibling}Se=nc(he,ae.mode,Se),Se.return=ae,ae=Se}return k(ae);case V:return Ve=he._init,he=Ve(he._payload),Ht(ae,J,he,Se)}if(me(he))return et(ae,J,he,Se);if(W(he)){if(Ve=W(he),typeof Ve!="function")throw Error(r(150));return he=Ve.call(he),Xe(ae,J,he,Se)}if(typeof he.then=="function")return Ht(ae,J,fl(he),Se);if(he.$$typeof===A)return Ht(ae,J,Jo(ae,he),Se);dl(ae,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,J!==null&&J.tag===6?(s(ae,J.sibling),Se=d(J,he),Se.return=ae,ae=Se):(s(ae,J),Se=ic(he,ae.mode,Se),Se.return=ae,ae=Se),k(ae)):s(ae,J)}return function(ae,J,he,Se){try{Vs=0;var Ve=Ht(ae,J,he,Se);return Aa=null,Ve}catch(He){if(He===Ls||He===tl)throw He;var pt=Zi(29,He,null,ae.mode);return pt.lanes=Se,pt.return=ae,pt}finally{}}}var Ca=hv(!0),fv=hv(!1),on=M(null),Cn=null;function vr(t){var n=t.alternate;ye(wi,wi.current&1),ye(on,t),Cn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Cn=t)}function dv(t){if(t.tag===22){if(ye(wi,wi.current),ye(on,t),Cn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Cn=t)}}else gr()}function gr(){ye(wi,wi.current),ye(on,on.current)}function qn(t){oe(on),Cn===t&&(Cn=null),oe(wi)}var wi=M(0);function pl(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ah(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Mc(t,n,s,u){n=t.memoizedState,s=s(u,n),s=s==null?n:v({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ic={enqueueSetState:function(t,n,s){t=t._reactInternals;var u=Qi(),d=fr(u);d.payload=n,s!=null&&(d.callback=s),n=dr(t,d,u),n!==null&&(Ji(n,t,u),Ms(n,t,u))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var u=Qi(),d=fr(u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=dr(t,d,u),n!==null&&(Ji(n,t,u),Ms(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Qi(),u=fr(s);u.tag=2,n!=null&&(u.callback=n),n=dr(t,u,s),n!==null&&(Ji(n,t,s),Ms(n,t,s))}};function pv(t,n,s,u,d,g,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,k):n.prototype&&n.prototype.isPureReactComponent?!Cs(s,u)||!Cs(d,g):!0}function vv(t,n,s,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==t&&Ic.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var s=n;if("ref"in n){s={};for(var u in n)u!=="ref"&&(s[u]=n[u])}if(t=t.defaultProps){s===n&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var vl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gv(t){vl(t)}function mv(t){console.error(t)}function yv(t){vl(t)}function gl(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function bv(t,n,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Uc(t,n,s){return s=fr(s),s.tag=3,s.payload={element:null},s.callback=function(){gl(t,n)},s}function _v(t){return t=fr(t),t.tag=3,t}function wv(t,n,s,u){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;t.payload=function(){return d(g)},t.callback=function(){bv(n,s,u)}}var k=s.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){bv(n,s,u),typeof d!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})})}function T2(t,n,s,u,d){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=s.alternate,n!==null&&Os(n,s,d,!0),s=on.current,s!==null){switch(s.tag){case 13:return Cn===null?lh():s.alternate===null&&si===0&&(si=3),s.flags&=-257,s.flags|=65536,s.lanes=d,u===dc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([u]):n.add(u),ch(t,u,d)),!1;case 22:return s.flags|=65536,u===dc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([u]):s.add(u)),ch(t,u,d)),!1}throw Error(r(435,s.tag))}return ch(t,u,d),lh(),!1}if(Lt)return n=on.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,u!==sc&&(t=Error(r(422),{cause:u}),Rs(nn(t,s)))):(u!==sc&&(n=Error(r(423),{cause:u}),Rs(nn(n,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=nn(u,s),d=Uc(t.stateNode,u,d),gc(t,d),si!==4&&(si=2)),!1;var g=Error(r(520),{cause:u});if(g=nn(g,s),Ks===null?Ks=[g]:Ks.push(g),si!==4&&(si=2),n===null)return!0;u=nn(u,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Uc(s.stateNode,u,t),gc(s,t),!1;case 1:if(n=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Er===null||!Er.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=_v(d),wv(d,t,s,u),gc(s,d),!1}s=s.return}while(s!==null);return!1}var Ev=Error(r(461)),Ei=!1;function Ti(t,n,s,u){n.child=t===null?fv(n,null,s,u):Ca(n,t.child,s,u)}function xv(t,n,s,u,d){s=s.render;var g=n.ref;if("ref"in u){var k={};for(var L in u)L!=="ref"&&(k[L]=u[L])}else k=u;return Wr(n),u=wc(t,n,s,k,g,d),L=Ec(),t!==null&&!Ei?(xc(t,n,d),Vn(t,n,d)):(Lt&&L&&rc(n),n.flags|=1,Ti(t,n,u,d),n.child)}function Sv(t,n,s,u,d){if(t===null){var g=s.type;return typeof g=="function"&&!tc(g)&&g.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=g,Av(t,n,g,u,d)):(t=Xo(s.type,null,u,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(g=t.child,!$c(t,d)){var k=g.memoizedProps;if(s=s.compare,s=s!==null?s:Cs,s(k,u)&&t.ref===n.ref)return Vn(t,n,d)}return n.flags|=1,t=Mn(g,u),t.ref=n.ref,t.return=n,n.child=t}function Av(t,n,s,u,d){if(t!==null){var g=t.memoizedProps;if(Cs(g,u)&&t.ref===n.ref)if(Ei=!1,n.pendingProps=u=g,$c(t,d))(t.flags&131072)!==0&&(Ei=!0);else return n.lanes=t.lanes,Vn(t,n,d)}return zc(t,n,s,u,d)}function Cv(t,n,s){var u=n.pendingProps,d=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=g!==null?g.baseLanes|s:s,t!==null){for(d=n.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;n.childLanes=g&~u}else n.childLanes=0,n.child=null;return kv(t,n,u,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&el(n,g!==null?g.cachePool:null),g!==null?Ap(n,g):yc(),dv(n);else return n.lanes=n.childLanes=536870912,kv(t,n,g!==null?g.baseLanes|s:s,s)}else g!==null?(el(n,g.cachePool),Ap(n,g),gr(),n.memoizedState=null):(t!==null&&el(n,null),yc(),gr());return Ti(t,n,d,s),n.child}function kv(t,n,s,u){var d=fc();return d=d===null?null:{parent:_i._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&el(n,null),yc(),dv(n),t!==null&&Os(t,n,u,!0),null}function ml(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function zc(t,n,s,u,d){return Wr(n),s=wc(t,n,s,u,void 0,d),u=Ec(),t!==null&&!Ei?(xc(t,n,d),Vn(t,n,d)):(Lt&&u&&rc(n),n.flags|=1,Ti(t,n,s,d),n.child)}function Tv(t,n,s,u,d,g){return Wr(n),n.updateQueue=null,s=kp(n,u,s,d),Cp(t),u=Ec(),t!==null&&!Ei?(xc(t,n,g),Vn(t,n,g)):(Lt&&u&&rc(n),n.flags|=1,Ti(t,n,s,g),n.child)}function Dv(t,n,s,u,d){if(Wr(n),n.stateNode===null){var g=ga,k=s.contextType;typeof k=="object"&&k!==null&&(g=Ni(k)),g=new s(u,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ic,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=u,g.state=n.memoizedState,g.refs={},pc(n),k=s.contextType,g.context=typeof k=="object"&&k!==null?Ni(k):ga,g.state=n.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(Mc(n,s,k,u),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(k=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),k!==g.state&&Ic.enqueueReplaceState(g,g.state,null),Us(n,u,g,d),Is(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(t===null){g=n.stateNode;var L=n.memoizedProps,$=Jr(s,L);g.props=$;var fe=g.context,_e=s.contextType;k=ga,typeof _e=="object"&&_e!==null&&(k=Ni(_e));var Ce=s.getDerivedStateFromProps;_e=typeof Ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",L=n.pendingProps!==L,_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(L||fe!==k)&&vv(n,g,u,k),hr=!1;var ve=n.memoizedState;g.state=ve,Us(n,u,g,d),Is(),fe=n.memoizedState,L||ve!==fe||hr?(typeof Ce=="function"&&(Mc(n,s,Ce,u),fe=n.memoizedState),($=hr||pv(n,s,$,u,ve,fe,k))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=fe),g.props=u,g.state=fe,g.context=k,u=$):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{g=n.stateNode,vc(t,n),k=n.memoizedProps,_e=Jr(s,k),g.props=_e,Ce=n.pendingProps,ve=g.context,fe=s.contextType,$=ga,typeof fe=="object"&&fe!==null&&($=Ni(fe)),L=s.getDerivedStateFromProps,(fe=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==Ce||ve!==$)&&vv(n,g,u,$),hr=!1,ve=n.memoizedState,g.state=ve,Us(n,u,g,d),Is();var ge=n.memoizedState;k!==Ce||ve!==ge||hr||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof L=="function"&&(Mc(n,s,L,u),ge=n.memoizedState),(_e=hr||pv(n,s,_e,u,ve,ge,$)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(fe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ge,$),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ge,$)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===t.memoizedProps&&ve===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&ve===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=ge),g.props=u,g.state=ge,g.context=$,u=_e):(typeof g.componentDidUpdate!="function"||k===t.memoizedProps&&ve===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&ve===t.memoizedState||(n.flags|=1024),u=!1)}return g=u,ml(t,n),u=(n.flags&128)!==0,g||u?(g=n.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,t!==null&&u?(n.child=Ca(n,t.child,null,d),n.child=Ca(n,null,s,d)):Ti(t,n,s,d),n.memoizedState=g.state,t=n.child):t=Vn(t,n,d),t}function Rv(t,n,s,u){return Ds(),n.flags|=256,Ti(t,n,s,u),n.child}var Fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pc(t){return{baseLanes:t,cachePool:mp()}}function qc(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=ln),t}function Ov(t,n,s){var u=n.pendingProps,d=!1,g=(n.flags&128)!==0,k;if((k=g)||(k=t!==null&&t.memoizedState===null?!1:(wi.current&2)!==0),k&&(d=!0,n.flags&=-129),k=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(d?vr(n):gr(),Lt){var L=ai,$;if($=L){e:{for($=L,L=An;$.nodeType!==8;){if(!L){L=null;break e}if($=gn($.nextSibling),$===null){L=null;break e}}L=$}L!==null?(n.memoizedState={dehydrated:L,treeContext:Gr!==null?{id:In,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},$=Zi(18,null,null,0),$.stateNode=L,$.return=n,n.child=$,Ui=n,ai=null,$=!0):$=!1}$||Zr(n)}if(L=n.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return Ah(L)?n.lanes=32:n.lanes=536870912,null;qn(n)}return L=u.children,u=u.fallback,d?(gr(),d=n.mode,L=yl({mode:"hidden",children:L},d),u=Hr(u,d,s,null),L.return=n,u.return=n,L.sibling=u,n.child=L,d=n.child,d.memoizedState=Pc(s),d.childLanes=qc(t,k,s),n.memoizedState=Fc,u):(vr(n),Vc(n,L))}if($=t.memoizedState,$!==null&&(L=$.dehydrated,L!==null)){if(g)n.flags&256?(vr(n),n.flags&=-257,n=Hc(t,n,s)):n.memoizedState!==null?(gr(),n.child=t.child,n.flags|=128,n=null):(gr(),d=u.fallback,L=n.mode,u=yl({mode:"visible",children:u.children},L),d=Hr(d,L,s,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,Ca(n,t.child,null,s),u=n.child,u.memoizedState=Pc(s),u.childLanes=qc(t,k,s),n.memoizedState=Fc,n=d);else if(vr(n),Ah(L)){if(k=L.nextSibling&&L.nextSibling.dataset,k)var fe=k.dgst;k=fe,u=Error(r(419)),u.stack="",u.digest=k,Rs({value:u,source:null,stack:null}),n=Hc(t,n,s)}else if(Ei||Os(t,n,s,!1),k=(s&t.childLanes)!==0,Ei||k){if(k=Xt,k!==null&&(u=s&-s,u=(u&42)!==0?1:Y(u),u=(u&(k.suspendedLanes|s))!==0?0:u,u!==0&&u!==$.retryLane))throw $.retryLane=u,va(t,u),Ji(k,t,u),Ev;L.data==="$?"||lh(),n=Hc(t,n,s)}else L.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=$.treeContext,ai=gn(L.nextSibling),Ui=n,Lt=!0,Yr=null,An=!1,t!==null&&(an[sn++]=In,an[sn++]=Un,an[sn++]=Gr,In=t.id,Un=t.overflow,Gr=n),n=Vc(n,u.children),n.flags|=4096);return n}return d?(gr(),d=u.fallback,L=n.mode,$=t.child,fe=$.sibling,u=Mn($,{mode:"hidden",children:u.children}),u.subtreeFlags=$.subtreeFlags&65011712,fe!==null?d=Mn(fe,d):(d=Hr(d,L,s,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,L=t.child.memoizedState,L===null?L=Pc(s):($=L.cachePool,$!==null?(fe=_i._currentValue,$=$.parent!==fe?{parent:fe,pool:fe}:$):$=mp(),L={baseLanes:L.baseLanes|s,cachePool:$}),d.memoizedState=L,d.childLanes=qc(t,k,s),n.memoizedState=Fc,u):(vr(n),s=t.child,t=s.sibling,s=Mn(s,{mode:"visible",children:u.children}),s.return=n,s.sibling=null,t!==null&&(k=n.deletions,k===null?(n.deletions=[t],n.flags|=16):k.push(t)),n.child=s,n.memoizedState=null,s)}function Vc(t,n){return n=yl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yl(t,n){return t=Zi(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hc(t,n,s){return Ca(n,t.child,null,s),t=Vc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Nv(t,n,s){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),lc(t.return,n,s)}function Gc(t,n,s,u,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=s,g.tailMode=d)}function Bv(t,n,s){var u=n.pendingProps,d=u.revealOrder,g=u.tail;if(Ti(t,n,u.children,s),u=wi.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nv(t,s,n);else if(t.tag===19)Nv(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(ye(wi,u),d){case"forwards":for(s=n.child,d=null;s!==null;)t=s.alternate,t!==null&&pl(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),Gc(n,!1,d,s,g);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&pl(t)===null){n.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Gc(n,!0,s,null,g);break;case"together":Gc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),wr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Os(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Mn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Mn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function $c(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function D2(t,n,s){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),cr(n,_i,t.memoizedState.cache),Ds();break;case 27:case 5:St(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:cr(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(vr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ov(t,n,s):(vr(n),t=Vn(t,n,s),t!==null?t.sibling:null);vr(n);break;case 19:var d=(t.flags&128)!==0;if(u=(s&n.childLanes)!==0,u||(Os(t,n,s,!1),u=(s&n.childLanes)!==0),d){if(u)return Bv(t,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ye(wi,wi.current),u)break;return null;case 22:case 23:return n.lanes=0,Cv(t,n,s);case 24:cr(n,_i,t.memoizedState.cache)}return Vn(t,n,s)}function Lv(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ei=!0;else{if(!$c(t,s)&&(n.flags&128)===0)return Ei=!1,D2(t,n,s);Ei=(t.flags&131072)!==0}else Ei=!1,Lt&&(n.flags&1048576)!==0&&cp(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var u=n.elementType,d=u._init;if(u=d(u._payload),n.type=u,typeof u=="function")tc(u)?(t=Jr(u,t),n.tag=1,n=Dv(null,n,u,t,s)):(n.tag=0,n=zc(null,n,u,t,s));else{if(u!=null){if(d=u.$$typeof,d===z){n.tag=11,n=xv(null,n,u,t,s);break e}else if(d===F){n.tag=14,n=Sv(null,n,u,t,s);break e}}throw n=ke(u)||u,Error(r(306,n,""))}}return n;case 0:return zc(t,n,n.type,n.pendingProps,s);case 1:return u=n.type,d=Jr(u,n.pendingProps),Dv(t,n,u,d,s);case 3:e:{if(Me(n,n.stateNode.containerInfo),t===null)throw Error(r(387));u=n.pendingProps;var g=n.memoizedState;d=g.element,vc(t,n),Us(n,u,null,s);var k=n.memoizedState;if(u=k.cache,cr(n,_i,u),u!==g.cache&&uc(n,[_i],s,!0),Is(),u=k.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:k.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=Rv(t,n,u,s);break e}else if(u!==d){d=nn(Error(r(424)),n),Rs(d),n=Rv(t,n,u,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ai=gn(t.firstChild),Ui=n,Lt=!0,Yr=null,An=!0,s=fv(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ds(),u===d){n=Vn(t,n,s);break e}Ti(t,n,u,s)}n=n.child}return n;case 26:return ml(t,n),t===null?(s=Ug(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,t=n.pendingProps,u=Nl(ze.current).createElement(s),u[Be]=n,u[Oe]=t,Ri(u,s,t),Dt(u),n.stateNode=u):n.memoizedState=Ug(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return St(n),t===null&&Lt&&(u=n.stateNode=jg(n.type,n.pendingProps,ze.current),Ui=n,An=!0,d=ai,Ar(n.type)?(Ch=d,ai=gn(u.firstChild)):ai=d),Ti(t,n,n.pendingProps.children,s),ml(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((d=u=ai)&&(u=n_(u,n.type,n.pendingProps,An),u!==null?(n.stateNode=u,Ui=n,ai=gn(u.firstChild),An=!1,d=!0):d=!1),d||Zr(n)),St(n),d=n.type,g=n.pendingProps,k=t!==null?t.memoizedProps:null,u=g.children,Eh(d,g)?u=null:k!==null&&Eh(d,k)&&(n.flags|=32),n.memoizedState!==null&&(d=wc(t,n,w2,null,null,s),so._currentValue=d),ml(t,n),Ti(t,n,u,s),n.child;case 6:return t===null&&Lt&&((t=s=ai)&&(s=r_(s,n.pendingProps,An),s!==null?(n.stateNode=s,Ui=n,ai=null,t=!0):t=!1),t||Zr(n)),null;case 13:return Ov(t,n,s);case 4:return Me(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=Ca(n,null,u,s):Ti(t,n,u,s),n.child;case 11:return xv(t,n,n.type,n.pendingProps,s);case 7:return Ti(t,n,n.pendingProps,s),n.child;case 8:return Ti(t,n,n.pendingProps.children,s),n.child;case 12:return Ti(t,n,n.pendingProps.children,s),n.child;case 10:return u=n.pendingProps,cr(n,n.type,u.value),Ti(t,n,u.children,s),n.child;case 9:return d=n.type._context,u=n.pendingProps.children,Wr(n),d=Ni(d),u=u(d),n.flags|=1,Ti(t,n,u,s),n.child;case 14:return Sv(t,n,n.type,n.pendingProps,s);case 15:return Av(t,n,n.type,n.pendingProps,s);case 19:return Bv(t,n,s);case 31:return u=n.pendingProps,s=n.mode,u={mode:u.mode,children:u.children},t===null?(s=yl(u,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Mn(t.child,u),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Cv(t,n,s);case 24:return Wr(n),u=Ni(_i),t===null?(d=fc(),d===null&&(d=Xt,g=cc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),n.memoizedState={parent:u,cache:d},pc(n),cr(n,_i,d)):((t.lanes&s)!==0&&(vc(t,n),Us(n,null,null,s),Is()),d=t.memoizedState,g=n.memoizedState,d.parent!==u?(d={parent:u,cache:u},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),cr(n,_i,u)):(u=g.cache,cr(n,_i,u),u!==d.cache&&uc(n,[_i],s,!0))),Ti(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hn(t){t.flags|=4}function jv(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vg(n)){if(n=on.current,n!==null&&((At&4194048)===At?Cn!==null:(At&62914560)!==At&&(At&536870912)===0||n!==Cn))throw js=dc,yp;t.flags|=8192}}function bl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Q():536870912,t.lanes|=n,Ra|=n)}function Gs(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ii(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(n)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=s,n}function R2(t,n,s){var u=n.pendingProps;switch(ac(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(n),null;case 1:return ii(n),null;case 3:return s=n.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Fn(_i),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ts(n)?Hn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,dp())),ii(n),null;case 26:return s=n.memoizedState,t===null?(Hn(n),s!==null?(ii(n),jv(n,s)):(ii(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Hn(n),ii(n),jv(n,s)):(ii(n),n.flags&=-16777217):(t.memoizedProps!==u&&Hn(n),ii(n),n.flags&=-16777217),null;case 27:Ze(n),s=ze.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==u&&Hn(n);else{if(!u){if(n.stateNode===null)throw Error(r(166));return ii(n),null}t=xe.current,Ts(n)?hp(n):(t=jg(d,u,s),n.stateNode=t,Hn(n))}return ii(n),null;case 5:if(Ze(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&Hn(n);else{if(!u){if(n.stateNode===null)throw Error(r(166));return ii(n),null}if(t=xe.current,Ts(n))hp(n);else{switch(d=Nl(ze.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(s,{is:u.is}):d.createElement(s)}}t[Be]=n,t[Oe]=u;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;e:switch(Ri(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hn(n)}}return ii(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==u&&Hn(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(t=ze.current,Ts(n)){if(t=n.stateNode,s=n.memoizedProps,u=null,d=Ui,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[Be]=n,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Tg(t.nodeValue,s)),t||Zr(n)}else t=Nl(t).createTextNode(u),t[Be]=n,n.stateNode=t}return ii(n),null;case 13:if(u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ts(n),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Be]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ii(n),d=!1}else d=dp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(qn(n),n):(qn(n),null)}if(qn(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=n.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),bl(n,n.updateQueue),ii(n),null;case 4:return it(),t===null&&mh(n.stateNode.containerInfo),ii(n),null;case 10:return Fn(n.type),ii(n),null;case 19:if(oe(wi),d=n.memoizedState,d===null)return ii(n),null;if(u=(n.flags&128)!==0,g=d.rendering,g===null)if(u)Gs(d,!1);else{if(si!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(g=pl(t),g!==null){for(n.flags|=128,Gs(d,!1),t=g.updateQueue,n.updateQueue=t,bl(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)up(s,t),s=s.sibling;return ye(wi,wi.current&1|2),n.child}t=t.sibling}d.tail!==null&&Ke()>El&&(n.flags|=128,u=!0,Gs(d,!1),n.lanes=4194304)}else{if(!u)if(t=pl(g),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,bl(n,t),Gs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Lt)return ii(n),null}else 2*Ke()-d.renderingStartTime>El&&s!==536870912&&(n.flags|=128,u=!0,Gs(d,!1),n.lanes=4194304);d.isBackwards?(g.sibling=n.child,n.child=g):(t=d.last,t!==null?t.sibling=g:n.child=g,d.last=g)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ke(),n.sibling=null,t=wi.current,ye(wi,u?t&1|2:t&1),n):(ii(n),null);case 22:case 23:return qn(n),bc(),u=n.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(s&536870912)!==0&&(n.flags&128)===0&&(ii(n),n.subtreeFlags&6&&(n.flags|=8192)):ii(n),s=n.updateQueue,s!==null&&bl(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==s&&(n.flags|=2048),t!==null&&oe(Kr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Fn(_i),ii(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function O2(t,n){switch(ac(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fn(_i),it(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ze(n),null;case 13:if(qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ds()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(wi),null;case 4:return it(),null;case 10:return Fn(n.type),null;case 22:case 23:return qn(n),bc(),t!==null&&oe(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fn(_i),null;case 25:return null;default:return null}}function Mv(t,n){switch(ac(n),n.tag){case 3:Fn(_i),it();break;case 26:case 27:case 5:Ze(n);break;case 4:it();break;case 13:qn(n);break;case 19:oe(wi);break;case 10:Fn(n.type);break;case 22:case 23:qn(n),bc(),t!==null&&oe(Kr);break;case 24:Fn(_i)}}function $s(t,n){try{var s=n.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&t)===t){u=void 0;var g=s.create,k=s.inst;u=g(),k.destroy=u}s=s.next}while(s!==d)}}catch(L){$t(n,n.return,L)}}function mr(t,n,s){try{var u=n.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&t)===t){var k=u.inst,L=k.destroy;if(L!==void 0){k.destroy=void 0,d=n;var $=s,fe=L;try{fe()}catch(_e){$t(d,$,_e)}}}u=u.next}while(u!==g)}}catch(_e){$t(n,n.return,_e)}}function Iv(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Sp(n,s)}catch(u){$t(t,t.return,u)}}}function Uv(t,n,s){s.props=Jr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){$t(t,n,u)}}function Ys(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(d){$t(t,n,d)}}function kn(t,n){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(d){$t(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){$t(t,n,d)}else s.current=null}function zv(t){var n=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(d){$t(t,t.return,d)}}function Yc(t,n,s){try{var u=t.stateNode;Q2(u,t.type,s,n),u[Oe]=n}catch(d){$t(t,t.return,d)}}function Fv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ar(t.type)||t.tag===4}function Zc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xc(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ol));else if(u!==4&&(u===27&&Ar(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Xc(t,n,s),t=t.sibling;t!==null;)Xc(t,n,s),t=t.sibling}function _l(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(u!==4&&(u===27&&Ar(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(_l(t,n,s),t=t.sibling;t!==null;)_l(t,n,s),t=t.sibling}function Pv(t){var n=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Ri(n,u,s),n[Be]=t,n[Oe]=s}catch(g){$t(t,t.return,g)}}var Gn=!1,hi=!1,Wc=!1,qv=typeof WeakSet=="function"?WeakSet:Set,xi=null;function N2(t,n){if(t=t.containerInfo,_h=Ul,t=Jd(t),Zu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var k=0,L=-1,$=-1,fe=0,_e=0,Ce=t,ve=null;t:for(;;){for(var ge;Ce!==s||d!==0&&Ce.nodeType!==3||(L=k+d),Ce!==g||u!==0&&Ce.nodeType!==3||($=k+u),Ce.nodeType===3&&(k+=Ce.nodeValue.length),(ge=Ce.firstChild)!==null;)ve=Ce,Ce=ge;for(;;){if(Ce===t)break t;if(ve===s&&++fe===d&&(L=k),ve===g&&++_e===u&&($=k),(ge=Ce.nextSibling)!==null)break;Ce=ve,ve=Ce.parentNode}Ce=ge}s=L===-1||$===-1?null:{start:L,end:$}}else s=null}s=s||{start:0,end:0}}else s=null;for(wh={focusedElem:t,selectionRange:s},Ul=!1,xi=n;xi!==null;)if(n=xi,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,xi=t;else for(;xi!==null;){switch(n=xi,g=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=n,d=g.memoizedProps,g=g.memoizedState,u=s.stateNode;try{var et=Jr(s.type,d,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(et,g),u.__reactInternalSnapshotBeforeUpdate=t}catch(Xe){$t(s,s.return,Xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Sh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,xi=t;break}xi=n.return}}function Vv(t,n,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:yr(t,s),u&4&&$s(5,s);break;case 1:if(yr(t,s),u&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(k){$t(s,s.return,k)}else{var d=Jr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(k){$t(s,s.return,k)}}u&64&&Iv(s),u&512&&Ys(s,s.return);break;case 3:if(yr(t,s),u&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Sp(t,n)}catch(k){$t(s,s.return,k)}}break;case 27:n===null&&u&4&&Pv(s);case 26:case 5:yr(t,s),n===null&&u&4&&zv(s),u&512&&Ys(s,s.return);break;case 12:yr(t,s);break;case 13:yr(t,s),u&4&&$v(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=P2.bind(null,s),a_(t,s))));break;case 22:if(u=s.memoizedState!==null||Gn,!u){n=n!==null&&n.memoizedState!==null||hi,d=Gn;var g=hi;Gn=u,(hi=n)&&!g?br(t,s,(s.subtreeFlags&8772)!==0):yr(t,s),Gn=d,hi=g}break;case 30:break;default:yr(t,s)}}function Hv(t){var n=t.alternate;n!==null&&(t.alternate=null,Hv(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ft(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,Hi=!1;function $n(t,n,s){for(s=s.child;s!==null;)Gv(t,n,s),s=s.sibling}function Gv(t,n,s){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Pt,s)}catch{}switch(s.tag){case 26:hi||kn(s,n),$n(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:hi||kn(s,n);var u=Jt,d=Hi;Ar(s.type)&&(Jt=s.stateNode,Hi=!1),$n(t,n,s),io(s.stateNode),Jt=u,Hi=d;break;case 5:hi||kn(s,n);case 6:if(u=Jt,d=Hi,Jt=null,$n(t,n,s),Jt=u,Hi=d,Jt!==null)if(Hi)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(s.stateNode)}catch(g){$t(s,n,g)}else try{Jt.removeChild(s.stateNode)}catch(g){$t(s,n,g)}break;case 18:Jt!==null&&(Hi?(t=Jt,Bg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),co(t)):Bg(Jt,s.stateNode));break;case 4:u=Jt,d=Hi,Jt=s.stateNode.containerInfo,Hi=!0,$n(t,n,s),Jt=u,Hi=d;break;case 0:case 11:case 14:case 15:hi||mr(2,s,n),hi||mr(4,s,n),$n(t,n,s);break;case 1:hi||(kn(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Uv(s,n,u)),$n(t,n,s);break;case 21:$n(t,n,s);break;case 22:hi=(u=hi)||s.memoizedState!==null,$n(t,n,s),hi=u;break;default:$n(t,n,s)}}function $v(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(s){$t(n,n.return,s)}}function B2(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qv),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qv),n;default:throw Error(r(435,t.tag))}}function Kc(t,n){var s=B2(t);n.forEach(function(u){var d=q2.bind(null,t,u);s.has(u)||(s.add(u),u.then(d,d))})}function Xi(t,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var d=s[u],g=t,k=n,L=k;e:for(;L!==null;){switch(L.tag){case 27:if(Ar(L.type)){Jt=L.stateNode,Hi=!1;break e}break;case 5:Jt=L.stateNode,Hi=!1;break e;case 3:case 4:Jt=L.stateNode.containerInfo,Hi=!0;break e}L=L.return}if(Jt===null)throw Error(r(160));Gv(g,k,d),Jt=null,Hi=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Yv(n,t),n=n.sibling}var vn=null;function Yv(t,n){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xi(n,t),Wi(t),u&4&&(mr(3,t,t.return),$s(3,t),mr(5,t,t.return));break;case 1:Xi(n,t),Wi(t),u&512&&(hi||s===null||kn(s,s.return)),u&64&&Gn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var d=vn;if(Xi(n,t),Wi(t),u&512&&(hi||s===null||kn(s,s.return)),u&4){var g=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Tt]||g[Be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Ri(g,u,s),g[Be]=t,Dt(g),u=g;break e;case"link":var k=Pg("link","href",d).get(u+(s.href||""));if(k){for(var L=0;L<k.length;L++)if(g=k[L],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){k.splice(L,1);break t}}g=d.createElement(u),Ri(g,u,s),d.head.appendChild(g);break;case"meta":if(k=Pg("meta","content",d).get(u+(s.content||""))){for(L=0;L<k.length;L++)if(g=k[L],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){k.splice(L,1);break t}}g=d.createElement(u),Ri(g,u,s),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Be]=t,Dt(g),u=g}t.stateNode=u}else qg(d,t.type,t.stateNode);else t.stateNode=Fg(d,u,t.memoizedProps);else g!==u?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,u===null?qg(d,t.type,t.stateNode):Fg(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Yc(t,t.memoizedProps,s.memoizedProps)}break;case 27:Xi(n,t),Wi(t),u&512&&(hi||s===null||kn(s,s.return)),s!==null&&u&4&&Yc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Xi(n,t),Wi(t),u&512&&(hi||s===null||kn(s,s.return)),t.flags&32){d=t.stateNode;try{Gt(d,"")}catch(ge){$t(t,t.return,ge)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,Yc(t,d,s!==null?s.memoizedProps:d)),u&1024&&(Wc=!0);break;case 6:if(Xi(n,t),Wi(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(ge){$t(t,t.return,ge)}}break;case 3:if(jl=null,d=vn,vn=Bl(n.containerInfo),Xi(n,t),vn=d,Wi(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(ge){$t(t,t.return,ge)}Wc&&(Wc=!1,Zv(t));break;case 4:u=vn,vn=Bl(t.stateNode.containerInfo),Xi(n,t),Wi(t),vn=u;break;case 12:Xi(n,t),Wi(t);break;case 13:Xi(n,t),Wi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nh=Ke()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Kc(t,u)));break;case 22:d=t.memoizedState!==null;var $=s!==null&&s.memoizedState!==null,fe=Gn,_e=hi;if(Gn=fe||d,hi=_e||$,Xi(n,t),hi=_e,Gn=fe,Wi(t),u&8192)e:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(s===null||$||Gn||hi||ea(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){$=s=n;try{if(g=$.stateNode,d)k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{L=$.stateNode;var Ce=$.memoizedProps.style,ve=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;L.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(ge){$t($,$.return,ge)}}}else if(n.tag===6){if(s===null){$=n;try{$.stateNode.nodeValue=d?"":$.memoizedProps}catch(ge){$t($,$.return,ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Kc(t,s))));break;case 19:Xi(n,t),Wi(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Kc(t,u)));break;case 30:break;case 21:break;default:Xi(n,t),Wi(t)}}function Wi(t){var n=t.flags;if(n&2){try{for(var s,u=t.return;u!==null;){if(Fv(u)){s=u;break}u=u.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var d=s.stateNode,g=Zc(t);_l(t,g,d);break;case 5:var k=s.stateNode;s.flags&32&&(Gt(k,""),s.flags&=-33);var L=Zc(t);_l(t,L,k);break;case 3:case 4:var $=s.stateNode.containerInfo,fe=Zc(t);Xc(t,fe,$);break;default:throw Error(r(161))}}catch(_e){$t(t,t.return,_e)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Zv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Zv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function yr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vv(t,n.alternate,n),n=n.sibling}function ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:mr(4,n,n.return),ea(n);break;case 1:kn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Uv(n,n.return,s),ea(n);break;case 27:io(n.stateNode);case 26:case 5:kn(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}t=t.sibling}}function br(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,d=t,g=n,k=g.flags;switch(g.tag){case 0:case 11:case 15:br(d,g,s),$s(4,g);break;case 1:if(br(d,g,s),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(fe){$t(u,u.return,fe)}if(u=g,d=u.updateQueue,d!==null){var L=u.stateNode;try{var $=d.shared.hiddenCallbacks;if($!==null)for(d.shared.hiddenCallbacks=null,d=0;d<$.length;d++)xp($[d],L)}catch(fe){$t(u,u.return,fe)}}s&&k&64&&Iv(g),Ys(g,g.return);break;case 27:Pv(g);case 26:case 5:br(d,g,s),s&&u===null&&k&4&&zv(g),Ys(g,g.return);break;case 12:br(d,g,s);break;case 13:br(d,g,s),s&&k&4&&$v(d,g);break;case 22:g.memoizedState===null&&br(d,g,s),Ys(g,g.return);break;case 30:break;default:br(d,g,s)}n=n.sibling}}function Qc(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ns(s))}function Jc(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ns(t))}function Tn(t,n,s,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xv(t,n,s,u),n=n.sibling}function Xv(t,n,s,u){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Tn(t,n,s,u),d&2048&&$s(9,n);break;case 1:Tn(t,n,s,u);break;case 3:Tn(t,n,s,u),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ns(t)));break;case 12:if(d&2048){Tn(t,n,s,u),t=n.stateNode;try{var g=n.memoizedProps,k=g.id,L=g.onPostCommit;typeof L=="function"&&L(k,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch($){$t(n,n.return,$)}}else Tn(t,n,s,u);break;case 13:Tn(t,n,s,u);break;case 23:break;case 22:g=n.stateNode,k=n.alternate,n.memoizedState!==null?g._visibility&2?Tn(t,n,s,u):Zs(t,n):g._visibility&2?Tn(t,n,s,u):(g._visibility|=2,ka(t,n,s,u,(n.subtreeFlags&10256)!==0)),d&2048&&Qc(k,n);break;case 24:Tn(t,n,s,u),d&2048&&Jc(n.alternate,n);break;default:Tn(t,n,s,u)}}function ka(t,n,s,u,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=t,k=n,L=s,$=u,fe=k.flags;switch(k.tag){case 0:case 11:case 15:ka(g,k,L,$,d),$s(8,k);break;case 23:break;case 22:var _e=k.stateNode;k.memoizedState!==null?_e._visibility&2?ka(g,k,L,$,d):Zs(g,k):(_e._visibility|=2,ka(g,k,L,$,d)),d&&fe&2048&&Qc(k.alternate,k);break;case 24:ka(g,k,L,$,d),d&&fe&2048&&Jc(k.alternate,k);break;default:ka(g,k,L,$,d)}n=n.sibling}}function Zs(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,u=n,d=u.flags;switch(u.tag){case 22:Zs(s,u),d&2048&&Qc(u.alternate,u);break;case 24:Zs(s,u),d&2048&&Jc(u.alternate,u);break;default:Zs(s,u)}n=n.sibling}}var Xs=8192;function Ta(t){if(t.subtreeFlags&Xs)for(t=t.child;t!==null;)Wv(t),t=t.sibling}function Wv(t){switch(t.tag){case 26:Ta(t),t.flags&Xs&&t.memoizedState!==null&&y_(vn,t.memoizedState,t.memoizedProps);break;case 5:Ta(t);break;case 3:case 4:var n=vn;vn=Bl(t.stateNode.containerInfo),Ta(t),vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Xs,Xs=16777216,Ta(t),Xs=n):Ta(t));break;default:Ta(t)}}function Kv(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ws(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];xi=u,Jv(u,t)}Kv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qv(t),t=t.sibling}function Qv(t){switch(t.tag){case 0:case 11:case 15:Ws(t),t.flags&2048&&mr(9,t,t.return);break;case 3:Ws(t);break;case 12:Ws(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,wl(t)):Ws(t);break;default:Ws(t)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];xi=u,Jv(u,t)}Kv(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:mr(8,n,n.return),wl(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,wl(n));break;default:wl(n)}t=t.sibling}}function Jv(t,n){for(;xi!==null;){var s=xi;switch(s.tag){case 0:case 11:case 15:mr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ns(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,xi=u;else e:for(s=t;xi!==null;){u=xi;var d=u.sibling,g=u.return;if(Hv(u),u===s){xi=null;break e}if(d!==null){d.return=g,xi=d;break e}xi=g}}}var L2={getCacheForType:function(t){var n=Ni(_i),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},j2=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Xt=null,gt=null,At=0,zt=0,Ki=null,_r=!1,Da=!1,eh=!1,Yn=0,si=0,wr=0,ta=0,th=0,ln=0,Ra=0,Ks=null,Gi=null,ih=!1,nh=0,El=1/0,xl=null,Er=null,Di=0,xr=null,Oa=null,Na=0,rh=0,ah=null,eg=null,Qs=0,sh=null;function Qi(){if((Ut&2)!==0&&At!==0)return At&-At;if(K.T!==null){var t=ba;return t!==0?t:dh()}return B()}function tg(){ln===0&&(ln=(At&536870912)===0||Lt?Fe():536870912);var t=on.current;return t!==null&&(t.flags|=32),ln}function Ji(t,n,s){(t===Xt&&(zt===2||zt===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Sr(t,At,ln,!1)),y(t,s),((Ut&2)===0||t!==Xt)&&(t===Xt&&((Ut&2)===0&&(ta|=s),si===4&&Sr(t,At,ln,!1)),Dn(t))}function ig(t,n,s){if((Ut&6)!==0)throw Error(r(327));var u=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Ee(t,n),d=u?U2(t,n):uh(t,n,!0),g=u;do{if(d===0){Da&&!u&&Sr(t,n,0,!1);break}else{if(s=t.current.alternate,g&&!M2(s)){d=uh(t,n,!1),g=!1;continue}if(d===2){if(g=n,t.errorRecoveryDisabledLanes&g)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){n=k;e:{var L=t;d=Ks;var $=L.current.memoizedState.isDehydrated;if($&&(Ba(L,k).flags|=256),k=uh(L,k,!1),k!==2){if(eh&&!$){L.errorRecoveryDisabledLanes|=g,ta|=g,d=4;break e}g=Gi,Gi=d,g!==null&&(Gi===null?Gi=g:Gi.push.apply(Gi,g))}d=k}if(g=!1,d!==2)continue}}if(d===1){Ba(t,0),Sr(t,n,0,!0);break}e:{switch(u=t,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Sr(u,n,ln,!_r);break e;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(d=nh+300-Ke(),10<d)){if(Sr(u,n,ln,!_r),U(u,0,!0)!==0)break e;u.timeoutHandle=Og(ng.bind(null,u,s,Gi,xl,ih,n,ln,ta,Ra,_r,g,2,-0,0),d);break e}ng(u,s,Gi,xl,ih,n,ln,ta,Ra,_r,g,0,-0,0)}}break}while(!0);Dn(t)}function ng(t,n,s,u,d,g,k,L,$,fe,_e,Ce,ve,ge){if(t.timeoutHandle=-1,Ce=n.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:m_},Wv(n),Ce=b_(),Ce!==null)){t.cancelPendingCommit=Ce(cg.bind(null,t,n,g,s,u,d,k,L,$,_e,1,ve,ge)),Sr(t,g,k,!fe);return}cg(t,n,g,s,u,d,k,L,$)}function M2(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var d=s[u],g=d.getSnapshot;d=d.value;try{if(!Yi(g(),d))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Sr(t,n,s,u){n&=~th,n&=~ta,t.suspendedLanes|=n,t.pingedLanes&=~n,u&&(t.warmLanes|=n),u=t.expirationTimes;for(var d=n;0<d;){var g=31-jt(d),k=1<<g;u[g]=-1,d&=~k}s!==0&&q(t,s,n)}function Sl(){return(Ut&6)===0?(Js(0),!1):!0}function oh(){if(gt!==null){if(zt===0)var t=gt.return;else t=gt,zn=Xr=null,Sc(t),Aa=null,Vs=0,t=gt;for(;t!==null;)Mv(t.alternate,t),t=t.return;gt=null}}function Ba(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,e_(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),oh(),Xt=t,gt=s=Mn(t.current,null),At=n,zt=0,Ki=null,_r=!1,Da=Ee(t,n),eh=!1,Ra=ln=th=ta=wr=si=0,Gi=Ks=null,ih=!1,(n&8)!==0&&(n|=n&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=n;0<u;){var d=31-jt(u),g=1<<d;n|=t[d],u&=~g}return Yn=n,$o(),s}function rg(t,n){dt=null,K.H=hl,n===Ls||n===tl?(n=wp(),zt=3):n===yp?(n=wp(),zt=4):zt=n===Ev?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ki=n,gt===null&&(si=1,gl(t,nn(n,t.current)))}function ag(){var t=K.H;return K.H=hl,t===null?hl:t}function sg(){var t=K.A;return K.A=L2,t}function lh(){si=4,_r||(At&4194048)!==At&&on.current!==null||(Da=!0),(wr&134217727)===0&&(ta&134217727)===0||Xt===null||Sr(Xt,At,ln,!1)}function uh(t,n,s){var u=Ut;Ut|=2;var d=ag(),g=sg();(Xt!==t||At!==n)&&(xl=null,Ba(t,n)),n=!1;var k=si;e:do try{if(zt!==0&&gt!==null){var L=gt,$=Ki;switch(zt){case 8:oh(),k=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(n=!0);var fe=zt;if(zt=0,Ki=null,La(t,L,$,fe),s&&Da){k=0;break e}break;default:fe=zt,zt=0,Ki=null,La(t,L,$,fe)}}I2(),k=si;break}catch(_e){rg(t,_e)}while(!0);return n&&t.shellSuspendCounter++,zn=Xr=null,Ut=u,K.H=d,K.A=g,gt===null&&(Xt=null,At=0,$o()),k}function I2(){for(;gt!==null;)og(gt)}function U2(t,n){var s=Ut;Ut|=2;var u=ag(),d=sg();Xt!==t||At!==n?(xl=null,El=Ke()+500,Ba(t,n)):Da=Ee(t,n);e:do try{if(zt!==0&&gt!==null){n=gt;var g=Ki;t:switch(zt){case 1:zt=0,Ki=null,La(t,n,g,1);break;case 2:case 9:if(bp(g)){zt=0,Ki=null,lg(n);break}n=function(){zt!==2&&zt!==9||Xt!==t||(zt=7),Dn(t)},g.then(n,n);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:bp(g)?(zt=0,Ki=null,lg(n)):(zt=0,Ki=null,La(t,n,g,7));break;case 5:var k=null;switch(gt.tag){case 26:k=gt.memoizedState;case 5:case 27:var L=gt;if(!k||Vg(k)){zt=0,Ki=null;var $=L.sibling;if($!==null)gt=$;else{var fe=L.return;fe!==null?(gt=fe,Al(fe)):gt=null}break t}}zt=0,Ki=null,La(t,n,g,5);break;case 6:zt=0,Ki=null,La(t,n,g,6);break;case 8:oh(),si=6;break e;default:throw Error(r(462))}}z2();break}catch(_e){rg(t,_e)}while(!0);return zn=Xr=null,K.H=u,K.A=d,Ut=s,gt!==null?0:(Xt=null,At=0,$o(),si)}function z2(){for(;gt!==null&&!Ot();)og(gt)}function og(t){var n=Lv(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,n===null?Al(t):gt=n}function lg(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Tv(s,n,n.pendingProps,n.type,void 0,At);break;case 11:n=Tv(s,n,n.pendingProps,n.type.render,n.ref,At);break;case 5:Sc(n);default:Mv(s,n),n=gt=up(n,Yn),n=Lv(s,n,Yn)}t.memoizedProps=t.pendingProps,n===null?Al(t):gt=n}function La(t,n,s,u){zn=Xr=null,Sc(n),Aa=null,Vs=0;var d=n.return;try{if(T2(t,d,n,s,At)){si=1,gl(t,nn(s,t.current)),gt=null;return}}catch(g){if(d!==null)throw gt=d,g;si=1,gl(t,nn(s,t.current)),gt=null;return}n.flags&32768?(Lt||u===1?t=!0:Da||(At&536870912)!==0?t=!1:(_r=t=!0,(u===2||u===9||u===3||u===6)&&(u=on.current,u!==null&&u.tag===13&&(u.flags|=16384))),ug(n,t)):Al(n)}function Al(t){var n=t;do{if((n.flags&32768)!==0){ug(n,_r);return}t=n.return;var s=R2(n.alternate,n,Yn);if(s!==null){gt=s;return}if(n=n.sibling,n!==null){gt=n;return}gt=n=t}while(n!==null);si===0&&(si=5)}function ug(t,n){do{var s=O2(t.alternate,t);if(s!==null){s.flags&=32767,gt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){gt=t;return}gt=t=s}while(t!==null);si=6,gt=null}function cg(t,n,s,u,d,g,k,L,$){t.cancelPendingCommit=null;do Cl();while(Di!==0);if((Ut&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(g=n.lanes|n.childLanes,g|=Ju,D(t,s,g,k,L,$),t===Xt&&(gt=Xt=null,At=0),Oa=n,xr=t,Na=s,rh=g,ah=d,eg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,V2($e,function(){return vg(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,d=re.p,re.p=2,k=Ut,Ut|=4;try{N2(t,n,s)}finally{Ut=k,re.p=d,K.T=u}}Di=1,hg(),fg(),dg()}}function hg(){if(Di===1){Di=0;var t=xr,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var u=re.p;re.p=2;var d=Ut;Ut|=4;try{Yv(n,t);var g=wh,k=Jd(t.containerInfo),L=g.focusedElem,$=g.selectionRange;if(k!==L&&L&&L.ownerDocument&&Qd(L.ownerDocument.documentElement,L)){if($!==null&&Zu(L)){var fe=$.start,_e=$.end;if(_e===void 0&&(_e=fe),"selectionStart"in L)L.selectionStart=fe,L.selectionEnd=Math.min(_e,L.value.length);else{var Ce=L.ownerDocument||document,ve=Ce&&Ce.defaultView||window;if(ve.getSelection){var ge=ve.getSelection(),et=L.textContent.length,Xe=Math.min($.start,et),Ht=$.end===void 0?Xe:Math.min($.end,et);!ge.extend&&Xe>Ht&&(k=Ht,Ht=Xe,Xe=k);var ae=Kd(L,Xe),J=Kd(L,Ht);if(ae&&J&&(ge.rangeCount!==1||ge.anchorNode!==ae.node||ge.anchorOffset!==ae.offset||ge.focusNode!==J.node||ge.focusOffset!==J.offset)){var he=Ce.createRange();he.setStart(ae.node,ae.offset),ge.removeAllRanges(),Xe>Ht?(ge.addRange(he),ge.extend(J.node,J.offset)):(he.setEnd(J.node,J.offset),ge.addRange(he))}}}}for(Ce=[],ge=L;ge=ge.parentNode;)ge.nodeType===1&&Ce.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Ce.length;L++){var Se=Ce[L];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Ul=!!_h,wh=_h=null}finally{Ut=d,re.p=u,K.T=s}}t.current=n,Di=2}}function fg(){if(Di===2){Di=0;var t=xr,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var u=re.p;re.p=2;var d=Ut;Ut|=4;try{Vv(t,n.alternate,n)}finally{Ut=d,re.p=u,K.T=s}}Di=3}}function dg(){if(Di===4||Di===3){Di=0,bt();var t=xr,n=Oa,s=Na,u=eg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Di=5:(Di=0,Oa=xr=null,pg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Er=null),ie(s),n=n.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Pt,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=K.T,d=re.p,re.p=2,K.T=null;try{for(var g=t.onRecoverableError,k=0;k<u.length;k++){var L=u[k];g(L.value,{componentStack:L.stack})}}finally{K.T=n,re.p=d}}(Na&3)!==0&&Cl(),Dn(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===sh?Qs++:(Qs=0,sh=t):Qs=0,Js(0)}}function pg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ns(n)))}function Cl(t){return hg(),fg(),dg(),vg()}function vg(){if(Di!==5)return!1;var t=xr,n=rh;rh=0;var s=ie(Na),u=K.T,d=re.p;try{re.p=32>s?32:s,K.T=null,s=ah,ah=null;var g=xr,k=Na;if(Di=0,Oa=xr=null,Na=0,(Ut&6)!==0)throw Error(r(331));var L=Ut;if(Ut|=4,Qv(g.current),Xv(g,g.current,k,s),Ut=L,Js(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Pt,g)}catch{}return!0}finally{re.p=d,K.T=u,pg(t,n)}}function gg(t,n,s){n=nn(s,n),n=Uc(t.stateNode,n,2),t=dr(t,n,2),t!==null&&(y(t,2),Dn(t))}function $t(t,n,s){if(t.tag===3)gg(t,t,s);else for(;n!==null;){if(n.tag===3){gg(n,t,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Er===null||!Er.has(u))){t=nn(s,t),s=_v(2),u=dr(n,s,2),u!==null&&(wv(s,u,n,t),y(u,2),Dn(u));break}}n=n.return}}function ch(t,n,s){var u=t.pingCache;if(u===null){u=t.pingCache=new j2;var d=new Set;u.set(n,d)}else d=u.get(n),d===void 0&&(d=new Set,u.set(n,d));d.has(s)||(eh=!0,d.add(s),t=F2.bind(null,t,n,s),n.then(t,t))}function F2(t,n,s){var u=t.pingCache;u!==null&&u.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Xt===t&&(At&s)===s&&(si===4||si===3&&(At&62914560)===At&&300>Ke()-nh?(Ut&2)===0&&Ba(t,0):th|=s,Ra===At&&(Ra=0)),Dn(t)}function mg(t,n){n===0&&(n=Q()),t=va(t,n),t!==null&&(y(t,n),Dn(t))}function P2(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),mg(t,s)}function q2(t,n){var s=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(n),mg(t,s)}function V2(t,n){return nt(t,n)}var kl=null,ja=null,hh=!1,Tl=!1,fh=!1,ia=0;function Dn(t){t!==ja&&t.next===null&&(ja===null?kl=ja=t:ja=ja.next=t),Tl=!0,hh||(hh=!0,G2())}function Js(t,n){if(!fh&&Tl){fh=!0;do for(var s=!1,u=kl;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var k=u.suspendedLanes,L=u.pingedLanes;g=(1<<31-jt(42|t)+1)-1,g&=d&~(k&~L),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,wg(u,g))}else g=At,g=U(u,u===Xt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ee(u,g)||(s=!0,wg(u,g));u=u.next}while(s);fh=!1}}function H2(){yg()}function yg(){Tl=hh=!1;var t=0;ia!==0&&(J2()&&(t=ia),ia=0);for(var n=Ke(),s=null,u=kl;u!==null;){var d=u.next,g=bg(u,n);g===0?(u.next=null,s===null?kl=d:s.next=d,d===null&&(ja=s)):(s=u,(t!==0||(g&3)!==0)&&(Tl=!0)),u=d}Js(t)}function bg(t,n){for(var s=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var k=31-jt(g),L=1<<k,$=d[k];$===-1?((L&s)===0||(L&u)!==0)&&(d[k]=Re(L,n)):$<=n&&(t.expiredLanes|=L),g&=~L}if(n=Xt,s=At,s=U(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===n&&(zt===2||zt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&lt(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ee(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(u!==null&&lt(u),ie(s)){case 2:case 8:s=kt;break;case 32:s=$e;break;case 268435456:s=de;break;default:s=$e}return u=_g.bind(null,t),s=nt(s,u),t.callbackPriority=n,t.callbackNode=s,n}return u!==null&&u!==null&&lt(u),t.callbackPriority=2,t.callbackNode=null,2}function _g(t,n){if(Di!==0&&Di!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Cl()&&t.callbackNode!==s)return null;var u=At;return u=U(t,t===Xt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(ig(t,u,n),bg(t,Ke()),t.callbackNode!=null&&t.callbackNode===s?_g.bind(null,t):null)}function wg(t,n){if(Cl())return null;ig(t,n,!0)}function G2(){t_(function(){(Ut&6)!==0?nt(Kt,H2):yg()})}function dh(){return ia===0&&(ia=Fe()),ia}function Eg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gs(""+t)}function xg(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function $2(t,n,s,u,d){if(n==="submit"&&s&&s.stateNode===d){var g=Eg((d[Oe]||null).action),k=u.submitter;k&&(n=(n=k[Oe]||null)?Eg(n.formAction):k.getAttribute("formAction"),n!==null&&(g=n,k=null));var L=new Vo("action","action",null,u,d);t.push({event:L,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ia!==0){var $=k?xg(d,k):new FormData(d);Bc(s,{pending:!0,data:$,method:d.method,action:g},null,$)}}else typeof g=="function"&&(L.preventDefault(),$=k?xg(d,k):new FormData(d),Bc(s,{pending:!0,data:$,method:d.method,action:g},g,$))},currentTarget:d}]})}}for(var ph=0;ph<Qu.length;ph++){var vh=Qu[ph],Y2=vh.toLowerCase(),Z2=vh[0].toUpperCase()+vh.slice(1);pn(Y2,"on"+Z2)}pn(ip,"onAnimationEnd"),pn(np,"onAnimationIteration"),pn(rp,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(h2,"onTransitionRun"),pn(f2,"onTransitionStart"),pn(d2,"onTransitionCancel"),pn(ap,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function Sg(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],d=u.event;u=u.listeners;e:{var g=void 0;if(n)for(var k=u.length-1;0<=k;k--){var L=u[k],$=L.instance,fe=L.currentTarget;if(L=L.listener,$!==g&&d.isPropagationStopped())break e;g=L,d.currentTarget=fe;try{g(d)}catch(_e){vl(_e)}d.currentTarget=null,g=$}else for(k=0;k<u.length;k++){if(L=u[k],$=L.instance,fe=L.currentTarget,L=L.listener,$!==g&&d.isPropagationStopped())break e;g=L,d.currentTarget=fe;try{g(d)}catch(_e){vl(_e)}d.currentTarget=null,g=$}}}}function mt(t,n){var s=n[Qe];s===void 0&&(s=n[Qe]=new Set);var u=t+"__bubble";s.has(u)||(Ag(n,t,2,!1),s.add(u))}function gh(t,n,s){var u=0;n&&(u|=4),Ag(s,t,u,n)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function mh(t){if(!t[Dl]){t[Dl]=!0,ri.forEach(function(s){s!=="selectionchange"&&(X2.has(s)||gh(s,!1,t),gh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Dl]||(n[Dl]=!0,gh("selectionchange",!1,n))}}function Ag(t,n,s,u){switch(Xg(n)){case 2:var d=E_;break;case 8:d=x_;break;default:d=Oh}s=d.bind(null,n,s,t),d=void 0,!zu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(n,s,{capture:!0,passive:d}):t.addEventListener(n,s,!0):d!==void 0?t.addEventListener(n,s,{passive:d}):t.addEventListener(n,s,!1)}function yh(t,n,s,u,d){var g=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var k=u.tag;if(k===3||k===4){var L=u.stateNode.containerInfo;if(L===d)break;if(k===4)for(k=u.return;k!==null;){var $=k.tag;if(($===3||$===4)&&k.stateNode.containerInfo===d)return;k=k.return}for(;L!==null;){if(k=Zt(L),k===null)return;if($=k.tag,$===5||$===6||$===26||$===27){u=g=k;continue e}L=L.parentNode}}u=u.return}Nd(function(){var fe=g,_e=ys(s),Ce=[];e:{var ve=sp.get(t);if(ve!==void 0){var ge=Vo,et=t;switch(t){case"keypress":if(Po(s)===0)break e;case"keydown":case"keyup":ge=Vb;break;case"focusin":et="focus",ge=Vu;break;case"focusout":et="blur",ge=Vu;break;case"beforeblur":case"afterblur":ge=Vu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Ob;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=$b;break;case ip:case np:case rp:ge=Lb;break;case ap:ge=Zb;break;case"scroll":case"scrollend":ge=Db;break;case"wheel":ge=Wb;break;case"copy":case"cut":case"paste":ge=Mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Id;break;case"toggle":case"beforetoggle":ge=Qb}var Xe=(n&4)!==0,Ht=!Xe&&(t==="scroll"||t==="scrollend"),ae=Xe?ve!==null?ve+"Capture":null:ve;Xe=[];for(var J=fe,he;J!==null;){var Se=J;if(he=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||he===null||ae===null||(Se=bs(J,ae),Se!=null&&Xe.push(to(J,Se,he))),Ht)break;J=J.return}0<Xe.length&&(ve=new ge(ve,et,null,s,_e),Ce.push({event:ve,listeners:Xe}))}}if((n&7)===0){e:{if(ve=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",ve&&s!==ms&&(et=s.relatedTarget||s.fromElement)&&(Zt(et)||et[je]))break e;if((ge||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,ge?(et=s.relatedTarget||s.toElement,ge=fe,et=et?Zt(et):null,et!==null&&(Ht=o(et),Xe=et.tag,et!==Ht||Xe!==5&&Xe!==27&&Xe!==6)&&(et=null)):(ge=null,et=fe),ge!==et)){if(Xe=jd,Se="onMouseLeave",ae="onMouseEnter",J="mouse",(t==="pointerout"||t==="pointerover")&&(Xe=Id,Se="onPointerLeave",ae="onPointerEnter",J="pointer"),Ht=ge==null?ve:Mi(ge),he=et==null?ve:Mi(et),ve=new Xe(Se,J+"leave",ge,s,_e),ve.target=Ht,ve.relatedTarget=he,Se=null,Zt(_e)===fe&&(Xe=new Xe(ae,J+"enter",et,s,_e),Xe.target=he,Xe.relatedTarget=Ht,Se=Xe),Ht=Se,ge&&et)t:{for(Xe=ge,ae=et,J=0,he=Xe;he;he=Ma(he))J++;for(he=0,Se=ae;Se;Se=Ma(Se))he++;for(;0<J-he;)Xe=Ma(Xe),J--;for(;0<he-J;)ae=Ma(ae),he--;for(;J--;){if(Xe===ae||ae!==null&&Xe===ae.alternate)break t;Xe=Ma(Xe),ae=Ma(ae)}Xe=null}else Xe=null;ge!==null&&Cg(Ce,ve,ge,Xe,!1),et!==null&&Ht!==null&&Cg(Ce,Ht,et,Xe,!0)}}e:{if(ve=fe?Mi(fe):window,ge=ve.nodeName&&ve.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ve.type==="file")var Ve=Gd;else if(Vd(ve))if($d)Ve=l2;else{Ve=s2;var pt=a2}else ge=ve.nodeName,!ge||ge.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?fe&&Fr(fe.elementType)&&(Ve=Gd):Ve=o2;if(Ve&&(Ve=Ve(t,fe))){Hd(Ce,Ve,s,_e);break e}pt&&pt(t,ve,fe),t==="focusout"&&fe&&ve.type==="number"&&fe.memoizedProps.value!=null&&qe(ve,"number",ve.value)}switch(pt=fe?Mi(fe):window,t){case"focusin":(Vd(pt)||pt.contentEditable==="true")&&(fa=pt,Xu=fe,ks=null);break;case"focusout":ks=Xu=fa=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,ep(Ce,s,_e);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":ep(Ce,s,_e)}var He;if(Gu)e:{switch(t){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else ha?Pd(t,s)&&(We="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(We="onCompositionStart");We&&(Ud&&s.locale!=="ko"&&(ha||We!=="onCompositionStart"?We==="onCompositionEnd"&&ha&&(He=Bd()):(ur=_e,Fu="value"in ur?ur.value:ur.textContent,ha=!0)),pt=Rl(fe,We),0<pt.length&&(We=new Md(We,t,null,s,_e),Ce.push({event:We,listeners:pt}),He?We.data=He:(He=qd(s),He!==null&&(We.data=He)))),(He=e2?t2(t,s):i2(t,s))&&(We=Rl(fe,"onBeforeInput"),0<We.length&&(pt=new Md("onBeforeInput","beforeinput",null,s,_e),Ce.push({event:pt,listeners:We}),pt.data=He)),$2(Ce,t,fe,s,_e)}Sg(Ce,n)})}function to(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Rl(t,n){for(var s=n+"Capture",u=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=bs(t,s),d!=null&&u.unshift(to(t,d,g)),d=bs(t,n),d!=null&&u.push(to(t,d,g))),t.tag===3)return u;t=t.return}return[]}function Ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cg(t,n,s,u,d){for(var g=n._reactName,k=[];s!==null&&s!==u;){var L=s,$=L.alternate,fe=L.stateNode;if(L=L.tag,$!==null&&$===u)break;L!==5&&L!==26&&L!==27||fe===null||($=fe,d?(fe=bs(s,g),fe!=null&&k.unshift(to(s,fe,$))):d||(fe=bs(s,g),fe!=null&&k.push(to(s,fe,$)))),s=s.return}k.length!==0&&t.push({event:n,listeners:k})}var W2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function kg(t){return(typeof t=="string"?t:""+t).replace(W2,`
`).replace(K2,"")}function Tg(t,n){return n=kg(n),kg(t)===n}function Ol(){}function Vt(t,n,s,u,d,g){switch(s){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Gt(t,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Gt(t,""+u);break;case"className":ua(t,"class",u);break;case"tabIndex":ua(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ua(t,s,u);break;case"style":lr(t,u,g);break;case"data":if(n!=="object"){ua(t,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=gs(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(n!=="input"&&Vt(t,n,"name",d.name,d,null),Vt(t,n,"formEncType",d.formEncType,d,null),Vt(t,n,"formMethod",d.formMethod,d,null),Vt(t,n,"formTarget",d.formTarget,d,null)):(Vt(t,n,"encType",d.encType,d,null),Vt(t,n,"method",d.method,d,null),Vt(t,n,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=gs(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Ol);break;case"onScroll":u!=null&&mt("scroll",t);break;case"onScrollEnd":u!=null&&mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=gs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":mt("beforetoggle",t),mt("toggle",t),dn(t,"popover",u);break;case"xlinkActuate":Pi(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pi(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pi(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pi(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pi(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pi(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pi(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":dn(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Iu.get(s)||s,dn(t,s,u))}}function bh(t,n,s,u,d,g){switch(s){case"style":lr(t,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof u=="string"?Gt(t,u):(typeof u=="number"||typeof u=="bigint")&&Gt(t,""+u);break;case"onScroll":u!=null&&mt("scroll",t);break;case"onScrollEnd":u!=null&&mt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fi.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),n=s.slice(2,d?s.length-7:void 0),g=t[Oe]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(n,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,u,d);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):dn(t,s,u)}}}function Ri(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",t),mt("load",t);var u=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var k=s[g];if(k!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Vt(t,n,g,k,s,null)}}d&&Vt(t,n,"srcSet",s.srcSet,s,null),u&&Vt(t,n,"src",s.src,s,null);return;case"input":mt("invalid",t);var L=g=k=d=null,$=null,fe=null;for(u in s)if(s.hasOwnProperty(u)){var _e=s[u];if(_e!=null)switch(u){case"name":d=_e;break;case"type":k=_e;break;case"checked":$=_e;break;case"defaultChecked":fe=_e;break;case"value":g=_e;break;case"defaultValue":L=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,n));break;default:Vt(t,n,u,_e,s,null)}}Le(t,g,L,$,fe,k,d,!1),se(t);return;case"select":mt("invalid",t),u=k=g=null;for(d in s)if(s.hasOwnProperty(d)&&(L=s[d],L!=null))switch(d){case"value":g=L;break;case"defaultValue":k=L;break;case"multiple":u=L;default:Vt(t,n,d,L,s,null)}n=g,s=k,t.multiple=!!u,n!=null?st(t,!!u,n,!1):s!=null&&st(t,!!u,s,!0);return;case"textarea":mt("invalid",t),g=d=u=null;for(k in s)if(s.hasOwnProperty(k)&&(L=s[k],L!=null))switch(k){case"value":u=L;break;case"defaultValue":d=L;break;case"children":g=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Vt(t,n,k,L,s,null)}Nt(t,u,d,g),se(t);return;case"option":for($ in s)if(s.hasOwnProperty($)&&(u=s[$],u!=null))switch($){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Vt(t,n,$,u,s,null)}return;case"dialog":mt("beforetoggle",t),mt("toggle",t),mt("cancel",t),mt("close",t);break;case"iframe":case"object":mt("load",t);break;case"video":case"audio":for(u=0;u<eo.length;u++)mt(eo[u],t);break;case"image":mt("error",t),mt("load",t);break;case"details":mt("toggle",t);break;case"embed":case"source":case"link":mt("error",t),mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in s)if(s.hasOwnProperty(fe)&&(u=s[fe],u!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Vt(t,n,fe,u,s,null)}return;default:if(Fr(n)){for(_e in s)s.hasOwnProperty(_e)&&(u=s[_e],u!==void 0&&bh(t,n,_e,u,s,void 0));return}}for(L in s)s.hasOwnProperty(L)&&(u=s[L],u!=null&&Vt(t,n,L,u,s,null))}function Q2(t,n,s,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,k=null,L=null,$=null,fe=null,_e=null;for(ge in s){var Ce=s[ge];if(s.hasOwnProperty(ge)&&Ce!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":$=Ce;default:u.hasOwnProperty(ge)||Vt(t,n,ge,null,u,Ce)}}for(var ve in u){var ge=u[ve];if(Ce=s[ve],u.hasOwnProperty(ve)&&(ge!=null||Ce!=null))switch(ve){case"type":g=ge;break;case"name":d=ge;break;case"checked":fe=ge;break;case"defaultChecked":_e=ge;break;case"value":k=ge;break;case"defaultValue":L=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,n));break;default:ge!==Ce&&Vt(t,n,ve,ge,u,Ce)}}Ne(t,k,L,$,fe,_e,g,d);return;case"select":ge=k=L=ve=null;for(g in s)if($=s[g],s.hasOwnProperty(g)&&$!=null)switch(g){case"value":break;case"multiple":ge=$;default:u.hasOwnProperty(g)||Vt(t,n,g,null,u,$)}for(d in u)if(g=u[d],$=s[d],u.hasOwnProperty(d)&&(g!=null||$!=null))switch(d){case"value":ve=g;break;case"defaultValue":L=g;break;case"multiple":k=g;default:g!==$&&Vt(t,n,d,g,u,$)}n=L,s=k,u=ge,ve!=null?st(t,!!s,ve,!1):!!u!=!!s&&(n!=null?st(t,!!s,n,!0):st(t,!!s,s?[]:"",!1));return;case"textarea":ge=ve=null;for(L in s)if(d=s[L],s.hasOwnProperty(L)&&d!=null&&!u.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Vt(t,n,L,null,u,d)}for(k in u)if(d=u[k],g=s[k],u.hasOwnProperty(k)&&(d!=null||g!=null))switch(k){case"value":ve=d;break;case"defaultValue":ge=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Vt(t,n,k,d,u,g)}Rt(t,ve,ge);return;case"option":for(var et in s)if(ve=s[et],s.hasOwnProperty(et)&&ve!=null&&!u.hasOwnProperty(et))switch(et){case"selected":t.selected=!1;break;default:Vt(t,n,et,null,u,ve)}for($ in u)if(ve=u[$],ge=s[$],u.hasOwnProperty($)&&ve!==ge&&(ve!=null||ge!=null))switch($){case"selected":t.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:Vt(t,n,$,ve,u,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in s)ve=s[Xe],s.hasOwnProperty(Xe)&&ve!=null&&!u.hasOwnProperty(Xe)&&Vt(t,n,Xe,null,u,ve);for(fe in u)if(ve=u[fe],ge=s[fe],u.hasOwnProperty(fe)&&ve!==ge&&(ve!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,n));break;default:Vt(t,n,fe,ve,u,ge)}return;default:if(Fr(n)){for(var Ht in s)ve=s[Ht],s.hasOwnProperty(Ht)&&ve!==void 0&&!u.hasOwnProperty(Ht)&&bh(t,n,Ht,void 0,u,ve);for(_e in u)ve=u[_e],ge=s[_e],!u.hasOwnProperty(_e)||ve===ge||ve===void 0&&ge===void 0||bh(t,n,_e,ve,u,ge);return}}for(var ae in s)ve=s[ae],s.hasOwnProperty(ae)&&ve!=null&&!u.hasOwnProperty(ae)&&Vt(t,n,ae,null,u,ve);for(Ce in u)ve=u[Ce],ge=s[Ce],!u.hasOwnProperty(Ce)||ve===ge||ve==null&&ge==null||Vt(t,n,Ce,ve,u,ge)}var _h=null,wh=null;function Nl(t){return t.nodeType===9?t:t.ownerDocument}function Dg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Eh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xh=null;function J2(){var t=window.event;return t&&t.type==="popstate"?t===xh?!1:(xh=t,!0):(xh=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,e_=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(t){return Ng.resolve(null).then(t).catch(i_)}:Og;function i_(t){setTimeout(function(){throw t})}function Ar(t){return t==="head"}function Bg(t,n){var s=n,u=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<u&&8>u){s=u;var k=t.ownerDocument;if(s&1&&io(k.documentElement),s&2&&io(k.body),s&4)for(s=k.head,io(s),k=s.firstChild;k;){var L=k.nextSibling,$=k.nodeName;k[Tt]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&k.rel.toLowerCase()==="stylesheet"||s.removeChild(k),k=L}}if(d===0){t.removeChild(g),co(n);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:u=s.charCodeAt(0)-48;else u=0;s=g}while(s);co(n)}function Sh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Sh(s),ft(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function n_(t,n,s,u){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Tt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=gn(t.nextSibling),t===null)break}return null}function r_(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=gn(t.nextSibling),t===null))return null;return t}function Ah(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function a_(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var u=function(){n(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function gn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Ch=null;function Lg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function jg(t,n,s){switch(n=Nl(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function io(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ft(t)}var un=new Map,Mg=new Set;function Bl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zn=re.d;re.d={f:s_,r:o_,D:l_,C:u_,L:c_,m:h_,X:d_,S:f_,M:p_};function s_(){var t=Zn.f(),n=Sl();return t||n}function o_(t){var n=fi(t);n!==null&&n.tag===5&&n.type==="form"?iv(n):Zn.r(t)}var Ia=typeof document>"u"?null:document;function Ig(t,n,s){var u=Ia;if(u&&typeof n=="string"&&n){var d=Te(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Mg.has(d)||(Mg.add(d),t={rel:t,crossOrigin:s,href:n},u.querySelector(d)===null&&(n=u.createElement("link"),Ri(n,"link",t),Dt(n),u.head.appendChild(n)))}}function l_(t){Zn.D(t),Ig("dns-prefetch",t,null)}function u_(t,n){Zn.C(t,n),Ig("preconnect",t,n)}function c_(t,n,s){Zn.L(t,n,s);var u=Ia;if(u&&t&&n){var d='link[rel="preload"][as="'+Te(n)+'"]';n==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Te(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Te(s.imageSizes)+'"]')):d+='[href="'+Te(t)+'"]';var g=d;switch(n){case"style":g=Ua(t);break;case"script":g=za(t)}un.has(g)||(t=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),un.set(g,t),u.querySelector(d)!==null||n==="style"&&u.querySelector(no(g))||n==="script"&&u.querySelector(ro(g))||(n=u.createElement("link"),Ri(n,"link",t),Dt(n),u.head.appendChild(n)))}}function h_(t,n){Zn.m(t,n);var s=Ia;if(s&&t){var u=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Te(u)+'"][href="'+Te(t)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=za(t)}if(!un.has(g)&&(t=v({rel:"modulepreload",href:t},n),un.set(g,t),s.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ro(g)))return}u=s.createElement("link"),Ri(u,"link",t),Dt(u),s.head.appendChild(u)}}}function f_(t,n,s){Zn.S(t,n,s);var u=Ia;if(u&&t){var d=It(u).hoistableStyles,g=Ua(t);n=n||"default";var k=d.get(g);if(!k){var L={loading:0,preload:null};if(k=u.querySelector(no(g)))L.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},s),(s=un.get(g))&&kh(t,s);var $=k=u.createElement("link");Dt($),Ri($,"link",t),$._p=new Promise(function(fe,_e){$.onload=fe,$.onerror=_e}),$.addEventListener("load",function(){L.loading|=1}),$.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Ll(k,n,u)}k={type:"stylesheet",instance:k,count:1,state:L},d.set(g,k)}}}function d_(t,n){Zn.X(t,n);var s=Ia;if(s&&t){var u=It(s).hoistableScripts,d=za(t),g=u.get(d);g||(g=s.querySelector(ro(d)),g||(t=v({src:t,async:!0},n),(n=un.get(d))&&Th(t,n),g=s.createElement("script"),Dt(g),Ri(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function p_(t,n){Zn.M(t,n);var s=Ia;if(s&&t){var u=It(s).hoistableScripts,d=za(t),g=u.get(d);g||(g=s.querySelector(ro(d)),g||(t=v({src:t,async:!0,type:"module"},n),(n=un.get(d))&&Th(t,n),g=s.createElement("script"),Dt(g),Ri(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Ug(t,n,s,u){var d=(d=ze.current)?Bl(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=It(d).hoistableStyles,u=s.get(n),u||(u={type:"style",instance:null,count:0,state:null},s.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ua(s.href);var g=It(d).hoistableStyles,k=g.get(t);if(k||(d=d.ownerDocument||d,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,k),(g=d.querySelector(no(t)))&&!g._p&&(k.instance=g,k.state.loading=5),un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},un.set(t,s),g||v_(d,t,s,k.state))),n&&u===null)throw Error(r(528,""));return k}if(n&&u!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=It(d).hoistableScripts,u=s.get(n),u||(u={type:"script",instance:null,count:0,state:null},s.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ua(t){return'href="'+Te(t)+'"'}function no(t){return'link[rel="stylesheet"]['+t+"]"}function zg(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function v_(t,n,s,u){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=t.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Ri(n,"link",s),Dt(n),t.head.appendChild(n))}function za(t){return'[src="'+Te(t)+'"]'}function ro(t){return"script[async]"+t}function Fg(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var u=t.querySelector('style[data-href~="'+Te(s.href)+'"]');if(u)return n.instance=u,Dt(u),u;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Dt(u),Ri(u,"style",d),Ll(u,s.precedence,t),n.instance=u;case"stylesheet":d=Ua(s.href);var g=t.querySelector(no(d));if(g)return n.state.loading|=4,n.instance=g,Dt(g),g;u=zg(s),(d=un.get(d))&&kh(u,d),g=(t.ownerDocument||t).createElement("link"),Dt(g);var k=g;return k._p=new Promise(function(L,$){k.onload=L,k.onerror=$}),Ri(g,"link",u),n.state.loading|=4,Ll(g,s.precedence,t),n.instance=g;case"script":return g=za(s.src),(d=t.querySelector(ro(g)))?(n.instance=d,Dt(d),d):(u=s,(d=un.get(g))&&(u=v({},s),Th(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),Dt(d),Ri(d,"link",u),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Ll(u,s.precedence,t));return n.instance}function Ll(t,n,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,k=0;k<u.length;k++){var L=u[k];if(L.dataset.precedence===n)g=L;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function kh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Th(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var jl=null;function Pg(t,n,s){if(jl===null){var u=new Map,d=jl=new Map;d.set(s,u)}else d=jl,u=d.get(s),u||(u=new Map,d.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[Tt]||g[Be]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var k=g.getAttribute(n)||"";k=t+k;var L=u.get(k);L?L.push(g):u.set(k,[g])}}return u}function qg(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function g_(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ao=null;function m_(){}function y_(t,n,s){if(ao===null)throw Error(r(475));var u=ao;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Ua(s.href),g=t.querySelector(no(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Ml.bind(u),t.then(u,u)),n.state.loading|=4,n.instance=g,Dt(g);return}g=t.ownerDocument||t,s=zg(s),(d=un.get(d))&&kh(s,d),g=g.createElement("link"),Dt(g);var k=g;k._p=new Promise(function(L,$){k.onload=L,k.onerror=$}),Ri(g,"link",s),n.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Ml.bind(u),t.addEventListener("load",n),t.addEventListener("error",n))}}function b_(){if(ao===null)throw Error(r(475));var t=ao;return t.stylesheets&&t.count===0&&Dh(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Dh(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Ml(){if(this.count--,this.count===0){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Il=null;function Dh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Il=new Map,n.forEach(__,t),Il=null,Ml.call(t))}function __(t,n){if(!(n.state.loading&4)){var s=Il.get(t);if(s)var u=s.get(null);else{s=new Map,Il.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var k=d[g];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(s.set(k.dataset.precedence,k),u=k)}u&&s.set(null,u)}d=n.instance,k=d.getAttribute("data-precedence"),g=s.get(k)||u,g===u&&s.set(null,d),s.set(k,d),this.count++,u=Ml.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var so={$$typeof:A,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function w_(t,n,s,u,d,g,k,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=be(0),this.hiddenUpdates=be(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Hg(t,n,s,u,d,g,k,L,$,fe,_e,Ce){return t=new w_(t,n,s,k,L,$,fe,Ce),n=1,g===!0&&(n|=24),g=Zi(3,null,null,n),t.current=g,g.stateNode=t,n=cc(),n.refCount++,t.pooledCache=n,n.refCount++,g.memoizedState={element:u,isDehydrated:s,cache:n},pc(g),t}function Gg(t){return t?(t=ga,t):ga}function $g(t,n,s,u,d,g){d=Gg(d),u.context===null?u.context=d:u.pendingContext=d,u=fr(n),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=dr(t,u,n),s!==null&&(Ji(s,t,n),Ms(s,t,n))}function Yg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Rh(t,n){Yg(t,n),(t=t.alternate)&&Yg(t,n)}function Zg(t){if(t.tag===13){var n=va(t,67108864);n!==null&&Ji(n,t,67108864),Rh(t,67108864)}}var Ul=!0;function E_(t,n,s,u){var d=K.T;K.T=null;var g=re.p;try{re.p=2,Oh(t,n,s,u)}finally{re.p=g,K.T=d}}function x_(t,n,s,u){var d=K.T;K.T=null;var g=re.p;try{re.p=8,Oh(t,n,s,u)}finally{re.p=g,K.T=d}}function Oh(t,n,s,u){if(Ul){var d=Nh(u);if(d===null)yh(t,n,u,zl,s),Wg(t,u);else if(A_(d,t,n,s,u))u.stopPropagation();else if(Wg(t,u),n&4&&-1<S_.indexOf(t)){for(;d!==null;){var g=fi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var k=bi(g.pendingLanes);if(k!==0){var L=g;for(L.pendingLanes|=2,L.entangledLanes|=2;k;){var $=1<<31-jt(k);L.entanglements[1]|=$,k&=~$}Dn(g),(Ut&6)===0&&(El=Ke()+500,Js(0))}}break;case 13:L=va(g,2),L!==null&&Ji(L,g,2),Sl(),Rh(g,2)}if(g=Nh(u),g===null&&yh(t,n,u,zl,s),g===d)break;d=g}d!==null&&u.stopPropagation()}else yh(t,n,u,null,s)}}function Nh(t){return t=ys(t),Bh(t)}var zl=null;function Bh(t){if(zl=null,t=Zt(t),t!==null){var n=o(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=l(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return zl=t,null}function Xg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case Kt:return 2;case kt:return 8;case $e:case Je:return 32;case de:return 268435456;default:return 32}default:return 32}}var Lh=!1,Cr=null,kr=null,Tr=null,oo=new Map,lo=new Map,Dr=[],S_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wg(t,n){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(n.pointerId)}}function uo(t,n,s,u,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},n!==null&&(n=fi(n),n!==null&&Zg(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function A_(t,n,s,u,d){switch(n){case"focusin":return Cr=uo(Cr,t,n,s,u,d),!0;case"dragenter":return kr=uo(kr,t,n,s,u,d),!0;case"mouseover":return Tr=uo(Tr,t,n,s,u,d),!0;case"pointerover":var g=d.pointerId;return oo.set(g,uo(oo.get(g)||null,t,n,s,u,d)),!0;case"gotpointercapture":return g=d.pointerId,lo.set(g,uo(lo.get(g)||null,t,n,s,u,d)),!0}return!1}function Kg(t){var n=Zt(t.target);if(n!==null){var s=o(n);if(s!==null){if(n=s.tag,n===13){if(n=l(s),n!==null){t.blockedOn=n,Z(t.priority,function(){if(s.tag===13){var u=Qi();u=Y(u);var d=va(s,u);d!==null&&Ji(d,s,u),Rh(s,u)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fl(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Nh(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);ms=u,s.target.dispatchEvent(u),ms=null}else return n=fi(s),n!==null&&Zg(n),t.blockedOn=s,!1;n.shift()}return!0}function Qg(t,n,s){Fl(t)&&s.delete(n)}function C_(){Lh=!1,Cr!==null&&Fl(Cr)&&(Cr=null),kr!==null&&Fl(kr)&&(kr=null),Tr!==null&&Fl(Tr)&&(Tr=null),oo.forEach(Qg),lo.forEach(Qg)}function Pl(t,n){t.blockedOn===n&&(t.blockedOn=null,Lh||(Lh=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,C_)))}var ql=null;function Jg(t){ql!==t&&(ql=t,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){ql===t&&(ql=null);for(var n=0;n<t.length;n+=3){var s=t[n],u=t[n+1],d=t[n+2];if(typeof u!="function"){if(Bh(u||s)===null)continue;break}var g=fi(s);g!==null&&(t.splice(n,3),n-=3,Bc(g,{pending:!0,data:d,method:s.method,action:u},u,d))}}))}function co(t){function n($){return Pl($,t)}Cr!==null&&Pl(Cr,t),kr!==null&&Pl(kr,t),Tr!==null&&Pl(Tr,t),oo.forEach(n),lo.forEach(n);for(var s=0;s<Dr.length;s++){var u=Dr[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Dr.length&&(s=Dr[0],s.blockedOn===null);)Kg(s),s.blockedOn===null&&Dr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],k=d[Oe]||null;if(typeof g=="function")k||Jg(s);else if(k){var L=null;if(g&&g.hasAttribute("formAction")){if(d=g,k=g[Oe]||null)L=k.formAction;else if(Bh(d)!==null)continue}else L=k.action;typeof L=="function"?s[u+1]=L:(s.splice(u,3),u-=3),Jg(s)}}}function jh(t){this._internalRoot=t}Vl.prototype.render=jh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,u=Qi();$g(s,u,t,n,null,null)},Vl.prototype.unmount=jh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;$g(t.current,2,null,t,null,null),Sl(),n[je]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var n=B();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Dr.length&&n!==0&&n<Dr[s].priority;s++);Dr.splice(s,0,t),s===0&&Kg(t)}};var em=e.version;if(em!=="19.1.0")throw Error(r(527,em,"19.1.0"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=f(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var k_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Pt=Hl.inject(k_),_t=Hl}catch{}}return fo.createRoot=function(t,n){if(!a(t))throw Error(r(299));var s=!1,u="",d=gv,g=mv,k=yv,L=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(k=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(L=n.unstable_transitionCallbacks)),n=Hg(t,1,!1,null,null,s,u,d,g,k,L,null),t[je]=n.current,mh(t),new jh(n)},fo.hydrateRoot=function(t,n,s){if(!a(t))throw Error(r(299));var u=!1,d="",g=gv,k=mv,L=yv,$=null,fe=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(k=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&($=s.unstable_transitionCallbacks),s.formState!==void 0&&(fe=s.formState)),n=Hg(t,1,!0,n,s??null,u,d,g,k,L,$,fe),n.context=Gg(null),s=n.current,u=Qi(),u=Y(u),d=fr(u),d.callback=null,dr(s,d,u),s=u,n.current.lanes=s,y(n,s),Dn(n),t[je]=n.current,mh(t),new Vl(n)},fo.version="19.1.0",fo}var cm;function U_(){if(cm)return Ih.exports;cm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(e){console.error(e)}}return c(),Ih.exports=I_(),Ih.exports}var z_=U_(),te=ld();const Ct=rr(te);var po={},hm;function F_(){if(hm)return po;hm=1,Object.defineProperty(po,"__esModule",{value:!0}),po.parse=l,po.serialize=p;const c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,x){const R=new o,T=w.length;if(T<2)return R;const _=(x==null?void 0:x.decode)||v;let E=0;do{const S=w.indexOf("=",E);if(S===-1)break;const A=w.indexOf(";",E),z=A===-1?T:A;if(S>z){E=w.lastIndexOf(";",S-1)+1;continue}const C=h(w,E,S),N=f(w,S,C),F=w.slice(C,N);if(R[F]===void 0){let V=h(w,S+1,z),I=f(w,z,V);const H=_(w.slice(V,I));R[F]=H}E=z+1}while(E<T);return R}function h(w,x,R){do{const T=w.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<R);return R}function f(w,x,R){for(;x>R;){const T=w.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return R}function p(w,x,R){const T=(R==null?void 0:R.encode)||encodeURIComponent;if(!c.test(w))throw new TypeError(`argument name is invalid: ${w}`);const _=T(x);if(!e.test(_))throw new TypeError(`argument val is invalid: ${x}`);let E=w+"="+_;if(!R)return E;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);E+="; Max-Age="+R.maxAge}if(R.domain){if(!i.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);E+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);E+="; Path="+R.path}if(R.expires){if(!m(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);E+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(E+="; HttpOnly"),R.secure&&(E+="; Secure"),R.partitioned&&(E+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return E}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function m(w){return a.call(w)==="[object Date]"}return po}F_();var fm="popstate";function P_(c={}){function e(r,a){let{pathname:o,search:l,hash:h}=r.location;return Vf("",{pathname:o,search:l,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(r,a){return typeof a=="string"?a:To(a)}return V_(e,i,null,c)}function ei(c,e){if(c===!1||c===null||typeof c>"u")throw new Error(e)}function xn(c,e){if(!c){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q_(){return Math.random().toString(36).substring(2,10)}function dm(c,e){return{usr:c.state,key:c.key,idx:e}}function Vf(c,e,i=null,r){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof e=="string"?us(e):e,state:i,key:e&&e.key||r||q_()}}function To({pathname:c="/",search:e="",hash:i=""}){return e&&e!=="?"&&(c+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(c+=i.charAt(0)==="#"?i:"#"+i),c}function us(c){let e={};if(c){let i=c.indexOf("#");i>=0&&(e.hash=c.substring(i),c=c.substring(0,i));let r=c.indexOf("?");r>=0&&(e.search=c.substring(r),c=c.substring(0,r)),c&&(e.pathname=c)}return e}function V_(c,e,i,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,h="POP",f=null,p=v();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function v(){return(l.state||{idx:null}).idx}function m(){h="POP";let _=v(),E=_==null?null:_-p;p=_,f&&f({action:h,location:T.location,delta:E})}function w(_,E){h="PUSH";let S=Vf(T.location,_,E);p=v()+1;let A=dm(S,p),z=T.createHref(S);try{l.pushState(A,"",z)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(z)}o&&f&&f({action:h,location:T.location,delta:1})}function x(_,E){h="REPLACE";let S=Vf(T.location,_,E);p=v();let A=dm(S,p),z=T.createHref(S);l.replaceState(A,"",z),o&&f&&f({action:h,location:T.location,delta:0})}function R(_){return H_(_)}let T={get action(){return h},get location(){return c(a,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(fm,m),f=_,()=>{a.removeEventListener(fm,m),f=null}},createHref(_){return e(a,_)},createURL:R,encodeLocation(_){let E=R(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:x,go(_){return l.go(_)}};return T}function H_(c,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ei(i,"No window.location.(origin|href) available to create URL");let r=typeof c=="string"?c:To(c);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function J0(c,e,i="/"){return G_(c,e,i,!1)}function G_(c,e,i,r){let a=typeof e=="string"?us(e):e,o=er(a.pathname||"/",i);if(o==null)return null;let l=ey(c);$_(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=nw(o);h=tw(l[f],p,r)}return h}function ey(c,e=[],i=[],r=""){let a=(o,l,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(ei(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Jn([r,f.relativePath]),v=i.concat(f);o.children&&o.children.length>0&&(ei(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ey(o.children,e,v,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:J_(p,o.index),routesMeta:v})};return c.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,l);else for(let f of ty(o.path))a(o,l,f)}),e}function ty(c){let e=c.split("/");if(e.length===0)return[];let[i,...r]=e,a=i.endsWith("?"),o=i.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=ty(r.join("/")),h=[];return h.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...l),h.map(f=>c.startsWith("/")&&f===""?"/":f)}function $_(c){c.sort((e,i)=>e.score!==i.score?i.score-e.score:ew(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var Y_=/^:[\w-]+$/,Z_=3,X_=2,W_=1,K_=10,Q_=-2,pm=c=>c==="*";function J_(c,e){let i=c.split("/"),r=i.length;return i.some(pm)&&(r+=Q_),e&&(r+=X_),i.filter(a=>!pm(a)).reduce((a,o)=>a+(Y_.test(o)?Z_:o===""?W_:K_),r)}function ew(c,e){return c.length===e.length&&c.slice(0,-1).every((r,a)=>r===e[a])?c[c.length-1]-e[e.length-1]:0}function tw(c,e,i=!1){let{routesMeta:r}=c,a={},o="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",m=cu({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),w=f.route;if(!m&&p&&i&&!r[r.length-1].route.index&&(m=cu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Jn([o,m.pathname]),pathnameBase:ow(Jn([o,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(o=Jn([o,m.pathnameBase]))}return l}function cu(c,e){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[i,r]=iw(c.path,c.caseSensitive,c.end),a=e.match(i);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:m},w)=>{if(v==="*"){let R=h[w]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const x=h[w];return m&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:c}}function iw(c,e=!1,i=!0){xn(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let r=[],a="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(r.push({paramName:"*"}),a+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":c!==""&&c!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function nw(c){try{return c.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),c}}function er(c,e){if(e==="/")return c;if(!c.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=c.charAt(i);return r&&r!=="/"?null:c.slice(i)||"/"}function rw(c,e="/"){let{pathname:i,search:r="",hash:a=""}=typeof c=="string"?us(c):c;return{pathname:i?i.startsWith("/")?i:aw(i,e):e,search:lw(r),hash:uw(a)}}function aw(c,e){let i=e.replace(/\/+$/,"").split("/");return c.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function qh(c,e,i,r){return`Cannot include a '${c}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(c){return c.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function ud(c){let e=sw(c);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function cd(c,e,i,r=!1){let a;typeof c=="string"?a=us(c):(a={...c},ei(!a.pathname||!a.pathname.includes("?"),qh("?","pathname","search",a)),ei(!a.pathname||!a.pathname.includes("#"),qh("#","pathname","hash",a)),ei(!a.search||!a.search.includes("#"),qh("#","search","hash",a)));let o=c===""||a.pathname==="",l=o?"/":a.pathname,h;if(l==null)h=i;else{let m=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),m-=1;a.pathname=w.join("/")}h=m>=0?e[m]:"/"}let f=rw(a,h),p=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Jn=c=>c.join("/").replace(/\/\/+/g,"/"),ow=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,uw=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function cw(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var iy=["POST","PUT","PATCH","DELETE"];new Set(iy);var hw=["GET",...iy];new Set(hw);var cs=te.createContext(null);cs.displayName="DataRouter";var xu=te.createContext(null);xu.displayName="DataRouterState";var ny=te.createContext({isTransitioning:!1});ny.displayName="ViewTransition";var fw=te.createContext(new Map);fw.displayName="Fetchers";var dw=te.createContext(null);dw.displayName="Await";var Sn=te.createContext(null);Sn.displayName="Navigation";var Bo=te.createContext(null);Bo.displayName="Location";var Nn=te.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var hd=te.createContext(null);hd.displayName="RouteError";function pw(c,{relative:e}={}){ei(hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=te.useContext(Sn),{hash:a,pathname:o,search:l}=jo(c,{relative:e}),h=o;return i!=="/"&&(h=o==="/"?i:Jn([i,o])),r.createHref({pathname:h,search:l,hash:a})}function hs(){return te.useContext(Bo)!=null}function ar(){return ei(hs(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(Bo).location}var ry="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ay(c){te.useContext(Sn).static||te.useLayoutEffect(c)}function Lo(){let{isDataRoute:c}=te.useContext(Nn);return c?kw():vw()}function vw(){ei(hs(),"useNavigate() may be used only in the context of a <Router> component.");let c=te.useContext(cs),{basename:e,navigator:i}=te.useContext(Sn),{matches:r}=te.useContext(Nn),{pathname:a}=ar(),o=JSON.stringify(ud(r)),l=te.useRef(!1);return ay(()=>{l.current=!0}),te.useCallback((f,p={})=>{if(xn(l.current,ry),!l.current)return;if(typeof f=="number"){i.go(f);return}let v=cd(f,JSON.parse(o),a,p.relative==="path");c==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Jn([e,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[e,i,o,a,c])}te.createContext(null);function jo(c,{relative:e}={}){let{matches:i}=te.useContext(Nn),{pathname:r}=ar(),a=JSON.stringify(ud(i));return te.useMemo(()=>cd(c,JSON.parse(a),r,e==="path"),[c,a,r,e])}function gw(c,e){return sy(c,e)}function sy(c,e,i,r){var S;ei(hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=te.useContext(Sn),{matches:l}=te.useContext(Nn),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",m=h&&h.route;{let A=m&&m.path||"";oy(p,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let w=ar(),x;if(e){let A=typeof e=="string"?us(e):e;ei(v==="/"||((S=A.pathname)==null?void 0:S.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=w;let R=x.pathname||"/",T=R;if(v!=="/"){let A=v.replace(/^\//,"").split("/");T="/"+R.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=!o&&i&&i.matches&&i.matches.length>0?i.matches:J0(c,{pathname:T});xn(m||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=ww(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Jn([v,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?v:Jn([v,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,i,r);return e&&E?te.createElement(Bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function mw(){let c=Cw(),e=cw(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),i=c instanceof Error?c.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",c),l=te.createElement(te.Fragment,null,te.createElement("p",null,"💿 Hey developer 👋"),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:o},"ErrorBoundary")," or"," ",te.createElement("code",{style:o},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),i?te.createElement("pre",{style:a},i):null,l)}var yw=te.createElement(mw,null),bw=class extends te.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,e){return e.location!==c.location||e.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:e.error,location:e.location,revalidation:c.revalidation||e.revalidation}}componentDidCatch(c,e){console.error("React Router caught the following error during render",c,e)}render(){return this.state.error!==void 0?te.createElement(Nn.Provider,{value:this.props.routeContext},te.createElement(hd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _w({routeContext:c,match:e,children:i}){let r=te.useContext(cs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(Nn.Provider,{value:c},i)}function ww(c,e=[],i=null,r=null){if(c==null){if(!i)return null;if(i.errors)c=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)c=i.matches;else return null}let a=c,o=i==null?void 0:i.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ei(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,h=-1;if(i)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:m}=i,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!m||m[p.route.id]===void 0);if(p.route.lazy||w){l=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,v)=>{let m,w=!1,x=null,R=null;i&&(m=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||yw,l&&(h<0&&v===0?(oy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):h===v&&(w=!0,R=p.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,v+1)),_=()=>{let E;return m?E=x:w?E=R:p.route.Component?E=te.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=f,te.createElement(_w,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:i!=null},children:E})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?te.createElement(bw,{location:i.location,revalidation:i.revalidation,component:x,error:m,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}function fd(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ew(c){let e=te.useContext(cs);return ei(e,fd(c)),e}function xw(c){let e=te.useContext(xu);return ei(e,fd(c)),e}function Sw(c){let e=te.useContext(Nn);return ei(e,fd(c)),e}function dd(c){let e=Sw(c),i=e.matches[e.matches.length-1];return ei(i.route.id,`${c} can only be used on routes that contain a unique "id"`),i.route.id}function Aw(){return dd("useRouteId")}function Cw(){var r;let c=te.useContext(hd),e=xw("useRouteError"),i=dd("useRouteError");return c!==void 0?c:(r=e.errors)==null?void 0:r[i]}function kw(){let{router:c}=Ew("useNavigate"),e=dd("useNavigate"),i=te.useRef(!1);return ay(()=>{i.current=!0}),te.useCallback(async(a,o={})=>{xn(i.current,ry),i.current&&(typeof a=="number"?c.navigate(a):await c.navigate(a,{fromRouteId:e,...o}))},[c,e])}var vm={};function oy(c,e,i){!e&&!vm[c]&&(vm[c]=!0,xn(!1,i))}te.memo(Tw);function Tw({routes:c,future:e,state:i}){return sy(c,void 0,i,e)}function Dw({to:c,replace:e,state:i,relative:r}){ei(hs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=te.useContext(Sn);xn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=te.useContext(Nn),{pathname:l}=ar(),h=Lo(),f=cd(c,ud(o),l,r==="path"),p=JSON.stringify(f);return te.useEffect(()=>{h(JSON.parse(p),{replace:e,state:i,relative:r})},[h,p,r,e,i]),null}function nu(c){ei(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rw({basename:c="/",children:e=null,location:i,navigationType:r="POP",navigator:a,static:o=!1}){ei(!hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=c.replace(/^\/*/,"/"),h=te.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof i=="string"&&(i=us(i));let{pathname:f="/",search:p="",hash:v="",state:m=null,key:w="default"}=i,x=te.useMemo(()=>{let R=er(f,l);return R==null?null:{location:{pathname:R,search:p,hash:v,state:m,key:w},navigationType:r}},[l,f,p,v,m,w,r]);return xn(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:te.createElement(Sn.Provider,{value:h},te.createElement(Bo.Provider,{children:e,value:x}))}function Ow({children:c,location:e}){return gw(Hf(c),e)}function Hf(c,e=[]){let i=[];return te.Children.forEach(c,(r,a)=>{if(!te.isValidElement(r))return;let o=[...e,a];if(r.type===te.Fragment){i.push.apply(i,Hf(r.props.children,o));return}ei(r.type===nu,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ei(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Hf(r.props.children,o)),i.push(l)}),i}var ru="get",au="application/x-www-form-urlencoded";function Su(c){return c!=null&&typeof c.tagName=="string"}function Nw(c){return Su(c)&&c.tagName.toLowerCase()==="button"}function Bw(c){return Su(c)&&c.tagName.toLowerCase()==="form"}function Lw(c){return Su(c)&&c.tagName.toLowerCase()==="input"}function jw(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function Mw(c,e){return c.button===0&&(!e||e==="_self")&&!jw(c)}var Gl=null;function Iw(){if(Gl===null)try{new FormData(document.createElement("form"),0),Gl=!1}catch{Gl=!0}return Gl}var Uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vh(c){return c!=null&&!Uw.has(c)?(xn(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${au}"`),null):c}function zw(c,e){let i,r,a,o,l;if(Bw(c)){let h=c.getAttribute("action");r=h?er(h,e):null,i=c.getAttribute("method")||ru,a=Vh(c.getAttribute("enctype"))||au,o=new FormData(c)}else if(Nw(c)||Lw(c)&&(c.type==="submit"||c.type==="image")){let h=c.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=c.getAttribute("formaction")||h.getAttribute("action");if(r=f?er(f,e):null,i=c.getAttribute("formmethod")||h.getAttribute("method")||ru,a=Vh(c.getAttribute("formenctype"))||Vh(h.getAttribute("enctype"))||au,o=new FormData(h,c),!Iw()){let{name:p,type:v,value:m}=c;if(v==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,m)}}else{if(Su(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ru,r=null,a=au,l=c}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:i.toLowerCase(),encType:a,formData:o,body:l}}function pd(c,e){if(c===!1||c===null||typeof c>"u")throw new Error(e)}async function Fw(c,e){if(c.id in e)return e[c.id];try{let i=await import(c.module);return e[c.id]=i,i}catch(i){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pw(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function qw(c,e,i){let r=await Promise.all(c.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await Fw(o,i);return l.links?l.links():[]}return[]}));return $w(r.flat(1).filter(Pw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gm(c,e,i,r,a,o){let l=(f,p)=>i[p]?f.route.id!==i[p].route.id:!0,h=(f,p)=>{var v;return i[p].pathname!==f.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{var m;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=i[0])==null?void 0:m.params)||{},nextUrl:new URL(c,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Vw(c,e,{includeHydrateFallback:i}={}){return Hw(c.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),i&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Hw(c){return[...new Set(c)]}function Gw(c){let e={},i=Object.keys(c).sort();for(let r of i)e[r]=c[r];return e}function $w(c,e){let i=new Set;return new Set(e),c.reduce((r,a)=>{let o=JSON.stringify(Gw(a));return i.has(o)||(i.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yw=new Set([100,101,204,205]);function Zw(c,e){let i=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return i.pathname==="/"?i.pathname="_root.data":e&&er(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function ly(){let c=te.useContext(cs);return pd(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function Xw(){let c=te.useContext(xu);return pd(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var vd=te.createContext(void 0);vd.displayName="FrameworkContext";function uy(){let c=te.useContext(vd);return pd(c,"You must render this element inside a <HydratedRouter> element"),c}function Ww(c,e){let i=te.useContext(vd),[r,a]=te.useState(!1),[o,l]=te.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:m}=e,w=te.useRef(null);te.useEffect(()=>{if(c==="render"&&l(!0),c==="viewport"){let T=E=>{E.forEach(S=>{l(S.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[c]),te.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let x=()=>{a(!0)},R=()=>{a(!1),l(!1)};return i?c!=="intent"?[o,w,{}]:[o,w,{onFocus:vo(h,x),onBlur:vo(f,R),onMouseEnter:vo(p,x),onMouseLeave:vo(v,R),onTouchStart:vo(m,x)}]:[!1,w,{}]}function vo(c,e){return i=>{c&&c(i),i.defaultPrevented||e(i)}}function Kw({page:c,...e}){let{router:i}=ly(),r=te.useMemo(()=>J0(i.routes,c,i.basename),[i.routes,c,i.basename]);return r?te.createElement(Jw,{page:c,matches:r,...e}):null}function Qw(c){let{manifest:e,routeModules:i}=uy(),[r,a]=te.useState([]);return te.useEffect(()=>{let o=!1;return qw(c,e,i).then(l=>{o||a(l)}),()=>{o=!0}},[c,e,i]),r}function Jw({page:c,matches:e,...i}){let r=ar(),{manifest:a,routeModules:o}=uy(),{basename:l}=ly(),{loaderData:h,matches:f}=Xw(),p=te.useMemo(()=>gm(c,e,f,a,r,"data"),[c,e,f,a,r]),v=te.useMemo(()=>gm(c,e,f,a,r,"assets"),[c,e,f,a,r]),m=te.useMemo(()=>{if(c===r.pathname+r.search+r.hash)return[];let R=new Set,T=!1;if(e.forEach(E=>{var A;let S=a.routes[E.route.id];!S||!S.hasLoader||(!p.some(z=>z.route.id===E.route.id)&&E.route.id in h&&((A=o[E.route.id])!=null&&A.shouldRevalidate)||S.hasClientLoader?T=!0:R.add(E.route.id))}),R.size===0)return[];let _=Zw(c,l);return T&&R.size>0&&_.searchParams.set("_routes",e.filter(E=>R.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[l,h,r,a,p,e,c,o]),w=te.useMemo(()=>Vw(v,a),[v,a]),x=Qw(v);return te.createElement(te.Fragment,null,m.map(R=>te.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...i})),w.map(R=>te.createElement("link",{key:R,rel:"modulepreload",href:R,...i})),x.map(({key:R,link:T})=>te.createElement("link",{key:R,...T})))}function e1(...c){return e=>{c.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var cy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cy&&(window.__reactRouterVersion="7.6.0")}catch{}function t1({basename:c,children:e,window:i}){let r=te.useRef();r.current==null&&(r.current=P_({window:i,v5Compat:!0}));let a=r.current,[o,l]=te.useState({action:a.action,location:a.location}),h=te.useCallback(f=>{te.startTransition(()=>l(f))},[l]);return te.useLayoutEffect(()=>a.listen(h),[a,h]),te.createElement(Rw,{basename:c,children:e,location:o.location,navigationType:o.action,navigator:a})}var hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,as=te.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:h,target:f,to:p,preventScrollReset:v,viewTransition:m,...w},x){let{basename:R}=te.useContext(Sn),T=typeof p=="string"&&hy.test(p),_,E=!1;if(typeof p=="string"&&T&&(_=p,cy))try{let I=new URL(window.location.href),H=p.startsWith("//")?new URL(I.protocol+p):new URL(p),le=er(H.pathname,R);H.origin===I.origin&&le!=null?p=le+H.search+H.hash:E=!0}catch{xn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=pw(p,{relative:a}),[A,z,C]=Ww(r,w),N=a1(p,{replace:l,state:h,target:f,preventScrollReset:v,relative:a,viewTransition:m});function F(I){e&&e(I),I.defaultPrevented||N(I)}let V=te.createElement("a",{...w,...C,href:_||S,onClick:E||o?e:F,ref:e1(x,z),target:f,"data-discover":!T&&i==="render"?"true":void 0});return A&&!T?te.createElement(te.Fragment,null,V,te.createElement(Kw,{page:S})):V});as.displayName="Link";var i1=te.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:h,children:f,...p},v){let m=jo(l,{relative:p.relative}),w=ar(),x=te.useContext(xu),{navigator:R,basename:T}=te.useContext(Sn),_=x!=null&&c1(m)&&h===!0,E=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,S=w.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(S=S.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&T&&(A=er(A,T)||A);const z=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let C=S===E||!a&&S.startsWith(E)&&S.charAt(z)==="/",N=A!=null&&(A===E||!a&&A.startsWith(E)&&A.charAt(E.length)==="/"),F={isActive:C,isPending:N,isTransitioning:_},V=C?e:void 0,I;typeof r=="function"?I=r(F):I=[r,C?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let H=typeof o=="function"?o(F):o;return te.createElement(as,{...p,"aria-current":V,className:I,ref:v,style:H,to:l,viewTransition:h},typeof f=="function"?f(F):f)});i1.displayName="NavLink";var n1=te.forwardRef(({discover:c="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:a,state:o,method:l=ru,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:m,...w},x)=>{let R=l1(),T=u1(h,{relative:p}),_=l.toLowerCase()==="get"?"get":"post",E=typeof h=="string"&&hy.test(h),S=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let z=A.nativeEvent.submitter,C=(z==null?void 0:z.getAttribute("formmethod"))||l;R(z||A.currentTarget,{fetcherKey:e,method:C,navigate:i,replace:a,state:o,relative:p,preventScrollReset:v,viewTransition:m})};return te.createElement("form",{ref:x,method:_,action:T,onSubmit:r?f:S,...w,"data-discover":!E&&c==="render"?"true":void 0})});n1.displayName="Form";function r1(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fy(c){let e=te.useContext(cs);return ei(e,r1(c)),e}function a1(c,{target:e,replace:i,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let h=Lo(),f=ar(),p=jo(c,{relative:o});return te.useCallback(v=>{if(Mw(v,e)){v.preventDefault();let m=i!==void 0?i:To(f)===To(p);h(c,{replace:m,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[f,h,p,i,r,e,c,a,o,l])}var s1=0,o1=()=>`__${String(++s1)}__`;function l1(){let{router:c}=fy("useSubmit"),{basename:e}=te.useContext(Sn),i=Aw();return te.useCallback(async(r,a={})=>{let{action:o,method:l,encType:h,formData:f,body:p}=zw(r,e);if(a.navigate===!1){let v=a.fetcherKey||o1();await c.fetch(v,i,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||l,formEncType:a.encType||h,flushSync:a.flushSync})}else await c.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||l,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:i,flushSync:a.flushSync,viewTransition:a.viewTransition})},[c,e,i])}function u1(c,{relative:e}={}){let{basename:i}=te.useContext(Sn),r=te.useContext(Nn);ei(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...jo(c||".",{relative:e})},l=ar();if(c==null){o.search=l.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(m=>m).forEach(m=>h.append("index",m));let v=h.toString();o.search=v?`?${v}`:""}}return(!c||c===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(o.pathname=o.pathname==="/"?i:Jn([i,o.pathname])),To(o)}function c1(c,e={}){let i=te.useContext(ny);ei(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fy("useViewTransitionState"),a=jo(c,{relative:e.relative});if(!i.isTransitioning)return!1;let o=er(i.currentLocation.pathname,r)||i.currentLocation.pathname,l=er(i.nextLocation.pathname,r)||i.nextLocation.pathname;return cu(a.pathname,l)!=null||cu(a.pathname,o)!=null}[...Yw];const dy=te.createContext();function h1({children:c}){const[e,i]=te.useState(!0),[r,a]=te.useState(null);return te.useEffect(()=>{async function o(){try{const l=await fetch("https://webook-8d4j.onrender.com/api/genero",{method:"GET"});a(await l.json())}catch(l){console.error("Erro no console: ",l)}finally{i(!1)}}o()},[]),O.jsx(dy.Provider,{value:{generos:r,setGeneros:a,generosLoading:e},children:c})}function py(){return te.useContext(dy)}class xo extends Error{}xo.prototype.name="InvalidTokenError";function f1(c){return decodeURIComponent(atob(c).replace(/(.)/g,(e,i)=>{let r=i.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function d1(c){let e=c.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return f1(e)}catch{return atob(e)}}function vy(c,e){if(typeof c!="string")throw new xo("Invalid token specified: must be a string");e||(e={});const i=e.header===!0?0:1,r=c.split(".")[i];if(typeof r!="string")throw new xo(`Invalid token specified: missing part #${i+1}`);let a;try{a=d1(r)}catch(o){throw new xo(`Invalid token specified: invalid base64 for part #${i+1} (${o.message})`)}try{return JSON.parse(a)}catch(o){throw new xo(`Invalid token specified: invalid json for part #${i+1} (${o.message})`)}}const gy=te.createContext();function p1({children:c}){const[e,i]=te.useState(null),[r,a]=te.useState(!0),[o,l]=te.useState(!1);return te.useEffect(()=>{const h=localStorage.getItem("token");if(h)try{const f=vy(h);if(f.exp&&f.exp<Date.now()/1e3){i(null);return}async function p(){const m=await(await fetch(`https://webook-8d4j.onrender.com/api/usuario/${f.usuario_id}`,{method:"GET",headers:{Authorization:`Bearer ${h}`}})).json();m&&i({...m,token:h})}p()}catch(f){console.error("Erro ao logar:",f),localStorage.removeItem("token")}finally{a(!1)}else a(!1)},[o]),te.useEffect(()=>{e||localStorage.removeItem("token")},[e]),O.jsx(gy.Provider,{value:{usuario:e,setUsuario:i,loading:r,setUpdateUsuario:l},children:c})}function Au(){return te.useContext(gy)}const my=te.createContext();function v1({children:c}){const[e,i]=te.useState(!0),[r,a]=te.useState(null),{usuario:o}=Au(),[l,h]=te.useState(!1);return te.useEffect(()=>{async function f(){try{const v=await(await fetch("https://webook-8d4j.onrender.com/api/livro",{method:"GET"})).json();a(v)}catch(p){console.error("Erro no console: ",p)}finally{i(!1),h(!1)}}f()},[l,o,r]),O.jsx(my.Provider,{value:{livros:r,setLivros:a,livrosLoading:e,setUpdateLivro:h},children:c})}function yy(){return te.useContext(my)}function by(){return O.jsxs("footer",{className:"container",children:[O.jsxs("div",{id:"footer",children:[O.jsxs("div",{children:[O.jsx("h4",{children:"Informações"}),O.jsx("p",{children:"Política de privacidade"}),O.jsx("p",{children:"Próximos lançamentos"})]}),O.jsxs("div",{children:[O.jsx("h4",{children:"Serviços ao cliente"}),O.jsx("p",{children:"Fale conosco"}),O.jsx("p",{children:"FAQ"})]}),O.jsxs("div",{children:[O.jsx("h4",{children:"Minha conta"}),O.jsx("p",{children:"Meu perfil"}),O.jsx("p",{children:"Lista de desejos"})]}),O.jsxs("div",{children:[O.jsx("h4",{children:"Formas de pagamento"}),O.jsx("p",{children:"Política de privacidade"}),O.jsx("p",{children:"Próximos lançamentos"})]})]}),O.jsx("p",{id:"copyrigth",children:"WeBook ©. Alguns direitos reservados"})]})}function _y(){return O.jsx("section",{id:"links-bg",children:O.jsxs("article",{"aria-labelledby":"links",className:"container",id:"links",children:[O.jsxs("div",{children:[O.jsx("img",{src:"/img/Linkedin.svg",alt:"Linkedin"}),O.jsx("a",{href:"https://www.linkedin.com/in/gabriel-do-rego-farias-138378322/",children:"Gabriel"})," ",O.jsx("p",{children:"&"}),O.jsx("a",{href:"https://www.linkedin.com/in/hugo-resende/",children:"Hugo"})," ",O.jsx("p",{children:"&"}),O.jsx("a",{href:"https://www.linkedin.com/in/emily-gomes-miranda/",children:"Emily"})]}),O.jsxs("div",{children:[O.jsx("img",{src:"/img/Github.svg",alt:"Github"}),O.jsx("a",{href:"https://github.com/Gabriel-Farias-06",children:"Gabriel"})," ",O.jsx("p",{children:"&"}),O.jsx("a",{href:"https://github.com/Hugo-Oliveira-RD11",children:"Hugo"})," ",O.jsx("p",{children:"&"}),O.jsx("a",{href:"https://github.com/emily/",children:"Emily"})]}),O.jsxs("div",{children:[O.jsx("img",{src:"/img/Instagram.svg",alt:"Instagram"}),O.jsx("a",{href:"https://www.instagram.com/gabriel___farias___/",children:"Gabriel"})," ",O.jsx("p",{children:"&"}),O.jsx("a",{href:"https://www.instagram.com/hugo-resende/",children:"Hugo"})," ",O.jsx("p",{children:"&"}),O.jsx("a",{href:"https://www.instagram.com/emily/",children:"Emily"})]})]})})}function g1(){return O.jsx("div",{className:"modal",id:"login-bg",children:O.jsx("div",{className:"modal-content",children:O.jsx("h3",{children:"Carregando"})})})}var wy="basil",m1=function(e){return e===3?"v3":e},Ey="https://js.stripe.com",y1="".concat(Ey,"/").concat(wy,"/stripe.js"),b1=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,_1=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var w1=function(e){return b1.test(e)||_1.test(e)},E1=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ey,'"]')),i=0;i<e.length;i++){var r=e[i];if(w1(r.src))return r}return null},mm=function(e){var i="",r=document.createElement("script");r.src="".concat(y1).concat(i);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},x1=function(e,i){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:i})},go=null,$l=null,Yl=null,S1=function(e){return function(i){e(new Error("Failed to load Stripe.js",{cause:i}))}},A1=function(e,i){return function(){window.Stripe?e(window.Stripe):i(new Error("Stripe.js not available"))}},C1=function(e){return go!==null?go:(go=new Promise(function(i,r){if(typeof window>"u"||typeof document>"u"){i(null);return}if(window.Stripe){i(window.Stripe);return}try{var a=E1();if(!(a&&e)){if(!a)a=mm(e);else if(a&&Yl!==null&&$l!==null){var o;a.removeEventListener("load",Yl),a.removeEventListener("error",$l),(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=mm(e)}}Yl=A1(i,r),$l=S1(r),a.addEventListener("load",Yl),a.addEventListener("error",$l)}catch(l){r(l);return}}),go.catch(function(i){return go=null,Promise.reject(i)}))},k1=function(e,i,r){if(e===null)return null;var a=i[0],o=a.match(/^pk_test/),l=m1(e.version),h=wy;o&&l!==h&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,i);return x1(f,r),f},mo,xy=!1,Sy=function(){return mo||(mo=C1(null).catch(function(e){return mo=null,Promise.reject(e)}),mo)};Promise.resolve().then(function(){return Sy()}).catch(function(c){xy||console.warn(c)});var T1=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];xy=!0;var a=Date.now();return Sy().then(function(o){return k1(o,i,a)})},Hh={exports:{}},Gh,ym;function D1(){if(ym)return Gh;ym=1;var c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gh=c,Gh}var $h,bm;function R1(){if(bm)return $h;bm=1;var c=D1();function e(){}function i(){}return i.resetWarningCache=e,$h=function(){function r(l,h,f,p,v,m){if(m!==c){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:i,resetWarningCache:e};return o.PropTypes=o,o},$h}var _m;function O1(){return _m||(_m=1,Hh.exports=R1()()),Hh.exports}var N1=O1();const Ie=rr(N1);function wm(c,e){var i=Object.keys(c);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(c);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),i.push.apply(i,r)}return i}function Em(c){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?wm(Object(i),!0).forEach(function(r){Ay(c,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(i)):wm(Object(i)).forEach(function(r){Object.defineProperty(c,r,Object.getOwnPropertyDescriptor(i,r))})}return c}function su(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(e){return typeof e}:su=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(c)}function Ay(c,e,i){return e in c?Object.defineProperty(c,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):c[e]=i,c}function B1(c,e){if(c==null)return{};var i={},r=Object.keys(c),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(i[a]=c[a]);return i}function L1(c,e){if(c==null)return{};var i=B1(c,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(c);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(c,r)&&(i[r]=c[r])}return i}function Cy(c,e){return j1(c)||M1(c,e)||I1(c,e)||U1()}function j1(c){if(Array.isArray(c))return c}function M1(c,e){var i=c&&(typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"]);if(i!=null){var r=[],a=!0,o=!1,l,h;try{for(i=i.call(c);!(a=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));a=!0);}catch(f){o=!0,h=f}finally{try{!a&&i.return!=null&&i.return()}finally{if(o)throw h}}return r}}function I1(c,e){if(c){if(typeof c=="string")return xm(c,e);var i=Object.prototype.toString.call(c).slice(8,-1);if(i==="Object"&&c.constructor&&(i=c.constructor.name),i==="Map"||i==="Set")return Array.from(c);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xm(c,e)}}function xm(c,e){(e==null||e>c.length)&&(e=c.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=c[i];return r}function U1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var en=function(e,i,r){var a=!!r,o=Ct.useRef(r);Ct.useEffect(function(){o.current=r},[r]),Ct.useEffect(function(){if(!a||!e)return function(){};var l=function(){o.current&&o.current.apply(o,arguments)};return e.on(i,l),function(){e.off(i,l)}},[a,i,e,o])},Gf=function(e){var i=Ct.useRef(e);return Ct.useEffect(function(){i.current=e},[e]),i.current},ss=function(e){return e!==null&&su(e)==="object"},z1=function(e){return ss(e)&&typeof e.then=="function"},F1=function(e){return ss(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Sm="[object Object]",P1=function c(e,i){if(!ss(e)||!ss(i))return e===i;var r=Array.isArray(e),a=Array.isArray(i);if(r!==a)return!1;var o=Object.prototype.toString.call(e)===Sm,l=Object.prototype.toString.call(i)===Sm;if(o!==l)return!1;if(!o&&!r)return e===i;var h=Object.keys(e),f=Object.keys(i);if(h.length!==f.length)return!1;for(var p={},v=0;v<h.length;v+=1)p[h[v]]=!0;for(var m=0;m<f.length;m+=1)p[f[m]]=!0;var w=Object.keys(p);if(w.length!==h.length)return!1;var x=e,R=i,T=function(E){return c(x[E],R[E])};return w.every(T)},ky=function(e,i,r){return ss(e)?Object.keys(e).reduce(function(a,o){var l=!ss(i)||!P1(e[o],i[o]);return r.includes(o)?(l&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):l?Em(Em({},a||{}),{},Ay({},o,e[o])):a},null):null},Ty="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Am=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ty;if(e===null||F1(e))return e;throw new Error(i)},q1=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ty;if(z1(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return Am(a,i)})};var r=Am(e,i);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},V1=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Cu=Ct.createContext(null);Cu.displayName="ElementsContext";var Dy=function(e,i){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(i," in an <Elements> provider."));return e},Ry=function(e){var i=e.stripe,r=e.options,a=e.children,o=Ct.useMemo(function(){return q1(i)},[i]),l=Ct.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=Cy(l,2),f=h[0],p=h[1];Ct.useEffect(function(){var w=!0,x=function(T){p(function(_){return _.stripe?_:{stripe:T,elements:T.elements(r)}})};return o.tag==="async"&&!f.stripe?o.stripePromise.then(function(R){R&&w&&x(R)}):o.tag==="sync"&&!f.stripe&&x(o.stripe),function(){w=!1}},[o,f,r]);var v=Gf(i);Ct.useEffect(function(){v!==null&&v!==i&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[v,i]);var m=Gf(r);return Ct.useEffect(function(){if(f.elements){var w=ky(r,m,["clientSecret","fonts"]);w&&f.elements.update(w)}},[r,m,f.elements]),Ct.useEffect(function(){V1(f.stripe)},[f.stripe]),Ct.createElement(Cu.Provider,{value:f},a)};Ry.propTypes={stripe:Ie.any,options:Ie.object};var H1=function(e){var i=Ct.useContext(Cu);return Dy(i,e)},G1=function(){var e=H1("calls useElements()"),i=e.elements;return i};Ie.func.isRequired;var Oy=Ct.createContext(null);Oy.displayName="CheckoutSdkContext";var $1=function(e,i){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(i," in an <CheckoutProvider> provider."));return e},Y1=Ct.createContext(null);Y1.displayName="CheckoutContext";Ie.any,Ie.shape({fetchClientSecret:Ie.func.isRequired,elementsOptions:Ie.object}).isRequired;var $f=function(e){var i=Ct.useContext(Oy),r=Ct.useContext(Cu);if(i&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return i?$1(i,e):Dy(r,e)},Z1=["mode"],X1=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},gi=function(e,i){var r="".concat(X1(e),"Element"),a=function(f){var p=f.id,v=f.className,m=f.options,w=m===void 0?{}:m,x=f.onBlur,R=f.onFocus,T=f.onReady,_=f.onChange,E=f.onEscape,S=f.onClick,A=f.onLoadError,z=f.onLoaderStart,C=f.onNetworksChange,N=f.onConfirm,F=f.onCancel,V=f.onShippingAddressChange,I=f.onShippingRateChange,H=$f("mounts <".concat(r,">")),le="elements"in H?H.elements:null,W="checkoutSdk"in H?H.checkoutSdk:null,pe=Ct.useState(null),ke=Cy(pe,2),me=ke[0],K=ke[1],re=Ct.useRef(null),ce=Ct.useRef(null);en(me,"blur",x),en(me,"focus",R),en(me,"escape",E),en(me,"click",S),en(me,"loaderror",A),en(me,"loaderstart",z),en(me,"networkschange",C),en(me,"confirm",N),en(me,"cancel",F),en(me,"shippingaddresschange",V),en(me,"shippingratechange",I),en(me,"change",_);var Ae;T&&(e==="expressCheckout"?Ae=T:Ae=function(){T(me)}),en(me,"ready",Ae),Ct.useLayoutEffect(function(){if(re.current===null&&ce.current!==null&&(le||W)){var M=null;if(W)switch(e){case"payment":M=W.createPaymentElement(w);break;case"address":if("mode"in w){var oe=w.mode,ye=L1(w,Z1);if(oe==="shipping")M=W.createShippingAddressElement(ye);else if(oe==="billing")M=W.createBillingAddressElement(ye);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":M=W.createExpressCheckoutElement(w);break;case"currencySelector":M=W.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else le&&(M=le.create(e,w));re.current=M,K(M),M&&M.mount(ce.current)}},[le,W,w]);var G=Gf(w);return Ct.useEffect(function(){if(re.current){var M=ky(w,G,["paymentRequest"]);M&&"update"in re.current&&re.current.update(M)}},[w,G]),Ct.useLayoutEffect(function(){return function(){if(re.current&&typeof re.current.destroy=="function")try{re.current.destroy(),re.current=null}catch{}}},[]),Ct.createElement("div",{id:p,className:v,ref:ce})},o=function(f){$f("mounts <".concat(r,">"));var p=f.id,v=f.className;return Ct.createElement("div",{id:p,className:v})},l=i?o:a;return l.propTypes={id:Ie.string,className:Ie.string,onChange:Ie.func,onBlur:Ie.func,onFocus:Ie.func,onReady:Ie.func,onEscape:Ie.func,onClick:Ie.func,onLoadError:Ie.func,onLoaderStart:Ie.func,onNetworksChange:Ie.func,onConfirm:Ie.func,onCancel:Ie.func,onShippingAddressChange:Ie.func,onShippingRateChange:Ie.func,options:Ie.object},l.displayName=r,l.__elementType=e,l},mi=typeof window>"u",W1=Ct.createContext(null);W1.displayName="EmbeddedCheckoutProviderContext";var K1=function(){var e=$f("calls useStripe()"),i=e.stripe;return i};gi("auBankAccount",mi);gi("card",mi);gi("cardNumber",mi);gi("cardExpiry",mi);gi("cardCvc",mi);gi("fpxBank",mi);gi("iban",mi);gi("idealBank",mi);gi("p24Bank",mi);gi("epsBank",mi);var Q1=gi("payment",mi);gi("expressCheckout",mi);gi("currencySelector",mi);gi("paymentRequestButton",mi);gi("linkAuthentication",mi);gi("address",mi);gi("shippingAddress",mi);gi("paymentMethodMessaging",mi);gi("affirmMessage",mi);gi("afterpayClearpayMessage",mi);function J1({idLivros:c,idUsuario:e,setModalAberto:i,token:r,setUpdateLivro:a,setUpdateUsuario:o}){const l=K1(),h=G1(),[f,p]=te.useState(!1),v=async m=>{if(m.preventDefault(),!l||!h)return;p(!0);const{error:w,paymentIntent:x}=await l.confirmPayment({elements:h,confirmParams:{return_url:"http://localhost:3000/sucesso"},redirect:"if_required"});w?i("payment-error"):x.status==="succeeded"&&(c.forEach(async R=>{await fetch(`https://webook-8d4j.onrender.com/api/usuario/${e}/livros/${R}`,{method:"POST",headers:{Authorization:`Bearer ${r}`}})}),a(!0),o(!0),localStorage.setItem("carrinho",[]),i("sucess")),p(!1)};return O.jsx("div",{className:"modal",children:O.jsxs("form",{onSubmit:v,className:"modal-content",children:[O.jsx(Q1,{}),O.jsx("button",{type:"submit",disabled:!l||f,className:f?"inative":"",children:f?"Processando...":"Pagar"})]})})}const eE=T1("pk_test_51RTOLcBCTtyKhyoGfrv5YE70bTSpzD4xBGLopacRNzQMPO8eDaFxW3bU818oRLzq0JK5UN3cK942LB93T4gawMea00wxqmhomP");function tE({clientSecret:c,idLivros:e,idUsuario:i,setModalAberto:r,setUpdateLivro:a,setUpdateUsuario:o,token:l}){const h={clientSecret:c};return O.jsx(Ry,{stripe:eE,options:h,children:O.jsx(J1,{token:l,idLivros:e,idUsuario:i,setModalAberto:r,setUpdateLivro:a,setUpdateUsuario:o})})}function iE(){const c=Lo(),{generos:e,generosLoading:i}=py(),{livros:r,livrosLoading:a,setUpdateLivro:o}=yy(),{usuario:l,setUsuario:h,loading:f,setUpdateUsuario:p}=Au(),[v,m]=te.useState(),[w,x]=te.useState(""),[R,T]=te.useState(""),[_,E]=te.useState(!1),[S,A]=te.useState(null),[z,C]=te.useState(null),[N,F]=te.useState(null),[V,I]=te.useState(null),[H,le]=te.useState(null),[W,pe]=te.useState([]),[ke,me]=te.useState([]);te.useEffect(()=>{e&&m({nome:"Todos",genero_id:"unique"})},[e]),te.useEffect(()=>{r&&l?le(r.filter(M=>l.livros?!l.livros.some(oe=>oe.livro_id===M.livro_id):!0)):r&&le(r)},[r,l]),te.useEffect(()=>{const M=localStorage.getItem("carrinho");M&&pe(JSON.parse(M))},[]),te.useEffect(()=>{localStorage.setItem("carrinho",JSON.stringify(W))},[W]),te.useEffect(()=>{const M=setTimeout(()=>me(oe=>oe.slice(1)),36e5);return()=>clearTimeout(M)},[ke]),te.useEffect(()=>{l&&l.livros.length&&K(`Sua compra do livro ${l.livros[l.livros.length-1].titulo} foi realizada com sucesso`,"/img/LivroIcone.png")},[l]),te.useEffect(()=>{r&&K("Livros novos chegando na área, venha conferir os lançamentos da semana.","/img/NewIcone.png")},[r]);function K(M,oe){me(ye=>ye.some(xe=>xe.message===M)?ye:[...ye,{message_id:Date.now(),message:M,typePhoto:oe}])}function re(M=""){const oe=M.toLowerCase(),ye=r.filter(xe=>{const Ue=v.nome==="Todos"||xe.generos.some(tt=>tt.genero_id==v.genero_id),ze=xe.titulo.toLowerCase().includes(oe);return Ue&&ze});le(ye)}async function ce(M){const oe=vy(M);if(oe.exp&&oe.exp<Date.now()/1e3){h(null);return}const ye=await fetch(`https://webook-8d4j.onrender.com/api/usuario/${oe.usuario_id}`,{method:"GET",headers:{Authorization:`Bearer ${M}`}});if(!ye.ok)return;const xe=await ye.json();xe&&h({...xe,token:M}),localStorage.setItem("token",M)}async function Ae(){const M=await fetch("https://webook-8d4j.onrender.com/api/usuario/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:w,senha:R})});if(M.status!=200)return A("create-user-failed");A(null);const oe=await M.json();await ce(oe.token),c("/profile")}async function G(){const M=await fetch("https://webook-8d4j.onrender.com/api/usuario/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:w,senha:R})});if(M.status!=200)return A("login-failed");A(null);const oe=await M.json();await ce(oe.token),c("/profile")}return f||i||a?O.jsx(g1,{}):O.jsxs("div",{children:[O.jsxs("header",{className:"container",id:"header",children:[O.jsxs(as,{to:"/",id:"logo",children:[O.jsx("span",{children:"W"}),"e",O.jsx("span",{children:"B"}),"ook"]}),O.jsxs("div",{id:"input-wrapper",children:[O.jsx("input",{type:"text",id:"searchInput",placeholder:"pesquise seu livro",autoComplete:"on",onKeyUp:M=>{if(M.key=="Enter"){const oe=M.currentTarget.value.toLowerCase();re(oe)}}}),O.jsx("img",{src:"/img/Search.svg",className:"search-icon",onClick:()=>{const M=document.getElementById("searchInput").value.toLowerCase();re(M)}})]}),O.jsxs("div",{id:"symbols",children:[O.jsx("a",{href:"#",children:O.jsx("img",{src:"/img/Cart.svg",alt:"Carrinho",onClick:()=>{l?(document.body.style.overflow="hidden",A("shopping")):A("login")}})}),O.jsx("a",{href:"#",children:O.jsx("img",{src:"/img/Notification.svg",alt:"Notificações",onClick:()=>{l?(document.body.style.overflow="hidden",A("notifications")):A("login")}})}),O.jsx(as,{to:"/profile",id:"userLogin",onClick:M=>{l||(M.preventDefault(),A("login"))},children:O.jsx("img",{id:"profilePhoto",src:l&&l.caminhoFoto?l.caminhoFoto:"./img/UserDefault.png",alt:"Usuário"})})]}),S==="login"&&O.jsxs("div",{className:"modal",id:"login-bg",onClick:()=>A(null),children:[O.jsx("img",{src:"/img/Close.svg",onClick:()=>{A(null)}}),O.jsxs("form",{className:"modal-content",id:"login",onClick:M=>M.stopPropagation(),children:[O.jsx("h3",{children:"Entrar"}),O.jsx("div",{id:"container-flex",children:O.jsx("p",{className:"protect",children:"Dados pessoais criptografados."})}),O.jsx("label",{htmlFor:"email",children:"Insira seu email"}),O.jsx("input",{type:"email",id:"email",autoComplete:"email",onChange:M=>x(M.target.value)}),O.jsx("label",{htmlFor:"senha",children:"Insira sua senha"}),O.jsx("input",{type:"password",id:"senha",autoComplete:"current-password",onChange:M=>T(M.target.value)}),O.jsx("a",{href:"#",onClick:async M=>{M.preventDefault(),M.target.classList.add("inative"),M.currentTarget.innerText="Carregando",await G(),M.target.classList.remove("inative")},children:"Entrar"}),O.jsxs("p",{className:"cadastro-link",children:["Não tem uma conta?"," ",O.jsx("a",{href:"#",onClick:()=>{A("cadastro")},children:"Cadastre-se aqui"})]}),O.jsxs("p",{className:"termos",children:["Ao continuar você afirma que é maior de idade e que leu e aceita os termos da nossa ",O.jsx("a",{href:"/terms",children:"política de privacidade."})]})]})]}),S=="cadastro"&&O.jsxs("div",{className:"modal",id:"cadastro-bg",onClick:()=>A(null),children:[O.jsx("img",{src:"/img/Close.svg",onClick:()=>A(null)}),O.jsxs("div",{className:"modal-content",id:"cadastro",onClick:M=>M.stopPropagation(),children:[O.jsx("h3",{children:"Cadastro"}),O.jsx("div",{id:"container-flex",children:O.jsx("p",{className:"protect",children:"Dados pessoais criptografados."})}),O.jsx("label",{htmlFor:"email",children:"Insira seu email"}),O.jsx("input",{type:"email",id:"email",autoComplete:"email",onChange:M=>{x(M.target.value)}}),O.jsx("label",{htmlFor:"senha",children:"Insira sua senha"}),O.jsx("input",{type:"password",id:"senha",autoComplete:"new-password",onChange:M=>{/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+=[\]{}|;:'",.<>?/`~-])(?!.*\s).{8,}$/.test(M.target.value)?E(0):E(2),T(M.target.value)}}),_==2&&O.jsx("p",{children:"A senha deve conter 8 caracteres, maiúsculas, minúsculas, números e símbolos!"}),O.jsx("a",{href:"#",onClick:async M=>{M.preventDefault(),M.target.classList.add("inative"),M.currentTarget.innerText="Carregando",await Ae(),M.target.classList.remove("inative")},children:"Fazer Cadastro"}),O.jsxs("p",{className:"cadastro-link",children:["Já possui cadastro?"," ",O.jsx("a",{href:"#",onClick:()=>{A("login")},children:"Entre aqui"})]}),O.jsxs("p",{className:"termos",children:["Ao continuar você afirma que é maior de idade e que leu e aceita os termos da nossa ",O.jsx("a",{href:"/terms",children:"política de privacidade."})]})]})]}),S=="login-failed"&&O.jsxs("div",{className:"modal modal-error",onClick:()=>A(null),children:[O.jsx("img",{src:"/img/Close.svg",onClick:()=>A(null)}),O.jsxs("div",{className:"modal-content",id:"cadastro",onClick:M=>M.stopPropagation(),children:[O.jsx("span",{}),O.jsx("img",{src:"/img/LoginError.png",alt:"Ícone de erro no login",id:"img-error"}),O.jsx("h3",{children:"Ops! Algo deu errado"}),O.jsx("p",{children:"Ocorreu um erro ao realizar o login, verifique se os dados estão corretos."}),O.jsx("a",{href:"#",onClick:()=>A("login"),children:"Voltar"})]})]}),S=="shopping"&&O.jsx("div",{className:"modal",id:"shopping",onClick:()=>{A(null),document.body.style.overflow="auto"},children:O.jsxs("div",{className:"modal-content",onClick:M=>M.stopPropagation(),children:[O.jsx("p",{children:W.length?"Produtos adicionados recentemente":"O carrinho está vazio"}),O.jsx("div",{children:W.length!=0&&O.jsx("ul",{children:W.map(M=>O.jsxs("li",{children:[O.jsx("img",{src:M.caminhoLivro,alt:"Capa do livro "+M.titulo}),O.jsx("p",{id:"titulo",children:M.titulo}),O.jsx("p",{children:M.preco.toFixed(2)}),O.jsx("img",{id:"remove",src:"/img/Remove.svg",alt:"Remover livro",onClick:()=>{pe(oe=>oe.filter(ye=>ye.livro_id!=M.livro_id))}})]},M.livro_id))})}),O.jsx("a",{id:"more",onClick:async M=>{if(M.preventDefault(),W.length==0)return A(null);if(!l){F(null),A("login");return}M.target.classList.add("inative"),M.currentTarget.innerText="Carregando";const oe=W.reduce((Ue,ze)=>ze.preco+Ue,0)*.8;console.log(l.token),console.log(oe);const xe=await(await fetch("https://webook-8d4j.onrender.com/api/pagamento",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.token}`},body:JSON.stringify(oe*100)})).json();C(xe.clientSecret),I(W.map(Ue=>Ue.livro_id)),A("payment"),F(null),M.target.classList.remove("inative")},children:W.length?"Comprar agora":"Adicione produtos ao carrinho"})]})}),S=="notifications"&&O.jsx("div",{className:"modal",id:"notifications",onClick:()=>{A(null),document.body.style.overflow="auto"},children:O.jsxs("div",{className:"modal-content",onClick:M=>M.stopPropagation(),children:[O.jsx("p",{children:ke.length?"Notificações recebidas recentemente":"Você não tem notificações recentes"}),O.jsx("div",{children:O.jsx("ul",{children:ke.map(M=>O.jsxs("li",{children:[O.jsx("img",{src:M.typePhoto,alt:"Ícone de mensagem"}),O.jsx("p",{children:M.message})]},M.message_id))})})]})}),N&&O.jsx("div",{className:"modal",id:"modal-livro",onClick:()=>F(null),children:O.jsxs("div",{className:"modal-content",onClick:M=>M.stopPropagation(),children:[O.jsx("img",{src:"/img/Close.svg",id:"close",onClick:()=>F(null)}),O.jsx("img",{src:N.caminhoLivro}),O.jsxs("div",{id:"livro-meio",children:[O.jsx("h2",{children:N.titulo}),O.jsxs("div",{id:"first-avaliation",children:[O.jsx("p",{children:N.usuarios?(N.usuarios.reduce((M,oe)=>M+oe.nota,0)/N.usuarios.length).toFixed(1):"0.0"}),O.jsx("img",{src:"/img/Stars.svg",alt:"Avaliações"}),O.jsxs("p",{children:[N.usuarios?N.usuarios.length:"0"," ","avaliações"]})]}),O.jsx("p",{id:"sinopse",children:N.sinopse}),O.jsxs("ul",{id:"extra-info",children:[O.jsxs("li",{children:[O.jsx("p",{children:"Idade para Leitura"}),O.jsx("p",{children:N.classificacaoIndicativa})]}),O.jsxs("li",{children:[O.jsx("p",{children:"Nº de páginas"}),O.jsx("p",{children:N.numeroPaginas})]}),O.jsxs("li",{children:[O.jsx("p",{children:"Autor"}),O.jsx("p",{children:N.autor.nome})]}),O.jsxs("li",{children:[O.jsx("p",{children:"Editora"}),O.jsx("p",{children:N.editora.nome})]})]}),O.jsxs("div",{id:"avaliacao",children:[O.jsxs("div",{children:[O.jsxs("h3",{children:["Avaliações (",N.usuarios?N.usuarios.length:"0",")"]}),O.jsx("p",{children:N.usuarios?(N.usuarios.reduce((M,oe)=>M+oe.nota,0)/N.usuarios.length).toFixed(1):"0.0"}),O.jsx("img",{src:"/img/Stars.svg",alt:"Avaliações"})]}),O.jsx("ul",{children:[5,4,3,2,1].map(M=>O.jsxs("li",{children:[O.jsxs("p",{children:[M," estrelas"]}),O.jsx("img",{src:"/img/Bar.svg",alt:"Barra de estrelas"}),O.jsx("p",{children:N.usuarios?N.usuarios.filter(oe=>oe.nota===M).length:"0"})]},M))})]})]}),O.jsxs("div",{id:"livro-compra",children:[O.jsxs("p",{children:["R$ ",N.preco.toFixed(2)]}),O.jsxs("div",{children:[O.jsxs("h3",{children:["R$ ",(N.preco*.8).toFixed(2)]}),O.jsx("p",{children:"20% off."})]}),O.jsxs("ul",{children:[O.jsxs("li",{children:[O.jsxs("div",{className:"flex",children:[O.jsx("img",{src:"/img/Book.svg",alt:"Ícone de livro"}),O.jsx("h4",{children:"Política de troca e devolução"})]}),O.jsxs("ul",{children:[O.jsx("li",{children:"Para compras feitas a menos de 2 semanas."}),O.jsx("li",{children:"Não há estorno de valor na troca de item."})]})]}),O.jsxs("li",{children:[O.jsxs("div",{className:"flex",children:[O.jsx("img",{src:"/img/Security.svg",alt:"Ícone de proteção"}),O.jsx("h4",{children:"Segurança e privacidade"})]}),O.jsxs("ul",{children:[O.jsx("li",{children:"Dados de transações protegidos."}),O.jsx("li",{id:"ultimo",children:"Dados pessoais criptografados."})]})]})]}),O.jsx("a",{className:W.some(M=>M.livro_id===N.livro_id)?"inative":"",href:"#",onClick:()=>{W.some(M=>M.livro_id===N.livro_id)||pe(M=>[...M,N])},children:W.some(M=>M.livro_id===N.livro_id)?"Produto no carrinho":"Adicionar ao carrinho"}),O.jsx("a",{href:"#",onClick:async M=>{if(M.preventDefault(),!l){F(null),A("login");return}M.target.classList.add("inative"),M.currentTarget.innerText="Carregando";const ye=await(await fetch("https://webook-8d4j.onrender.com/api/pagamento",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.token}`},body:JSON.stringify(N.preco*100)})).json();C(ye.clientSecret),I([N.livro_id]),A("payment"),F(null),M.target.classList.remove("inative")},children:"Comprar agora"}),O.jsx("h5",{children:"Formas de Pagamento"}),O.jsx("img",{src:"/img/Payments.png",alt:"Formas de pagamento"})]})]})}),S=="payment"&&z&&O.jsx(tE,{clientSecret:z,idLivros:V,idUsuario:l.usuario_id,setModalAberto:A,token:l.token,setUpdateLivro:o,setUpdateUsuario:p}),S=="payment-error"&&O.jsxs("div",{className:"modal modal-error",onClick:()=>A(null),children:[O.jsx("img",{src:"/img/Close.svg",onClick:()=>A(null)}),O.jsxs("div",{className:"modal-content",id:"cadastro",onClick:M=>M.stopPropagation(),children:[O.jsx("span",{}),O.jsx("img",{src:"/img/LoginError.png",alt:"Ícone de erro no login",id:"img-error"}),O.jsx("h3",{children:"Ops! Algo deu errado"}),O.jsx("p",{children:"Ocorreu um erro ao realizar tentar realizar o pagamento, verifique seus dados e se não houver resolução, nos contate."}),O.jsx("a",{href:"#",onClick:()=>A("payment"),children:"Voltar"})]})]})]}),e&&O.jsx("article",{"aria-labelledby":"categorias",id:"categories",className:"container",children:O.jsxs("ul",{children:[O.jsx("li",{className:(v==null?void 0:v.genero_id)=="unique"?"active":"",onClick:()=>{document.getElementById("searchInput").value="",m({nome:"Todos",genero_id:"unique"}),re()},children:"Todos"},"unique"),e.map(M=>O.jsx("li",{className:(v==null?void 0:v.genero_id)==M.genero_id?"active":"",onClick:()=>{document.getElementById("searchInput").value="",m(M),re()},children:M.nome},M.genero_id))]})}),H&&(H.length==0?O.jsx("h2",{id:"naoEncontrou",children:"Não há resultados para sua pesquisa"}):O.jsx("article",{"aria-labelledby":"books",id:"books",className:"container",children:O.jsx("ul",{children:H.map(M=>O.jsx("li",{onClick:()=>F(M),children:O.jsxs("a",{href:"#",children:[O.jsx("img",{src:M.caminhoLivro}),O.jsx("h2",{children:M.titulo.length>21?M.titulo.substring(0,21)+"...":M.titulo}),O.jsxs("div",{children:[O.jsx("p",{children:"R$ "+M.preco.toFixed(2)}),O.jsx("img",{src:"/img/Star.svg"}),O.jsx("p",{id:"avaliacao",children:M.usuarios?(M.usuarios.reduce((oe,ye)=>oe+ye.nota,0)/M.usuarios.length).toFixed(1):"0.0"})]})]})},M.livro_id))})})),O.jsx(_y,{}),O.jsx(by,{})]})}function Mr(c){return typeof c=="string"||c instanceof String}function Cm(c){var e;return typeof c=="object"&&c!=null&&(c==null||(e=c.constructor)==null?void 0:e.name)==="Object"}function Ny(c,e){return Array.isArray(e)?Ny(c,(i,r)=>e.includes(r)):Object.entries(c).reduce((i,r)=>{let[a,o]=r;return e(o,a)&&(i[a]=o),i},{})}const Ge={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function nE(c){switch(c){case Ge.LEFT:return Ge.FORCE_LEFT;case Ge.RIGHT:return Ge.FORCE_RIGHT;default:return c}}function Yh(c){return c.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function hu(c,e){if(e===c)return!0;const i=Array.isArray(e),r=Array.isArray(c);let a;if(i&&r){if(e.length!=c.length)return!1;for(a=0;a<e.length;a++)if(!hu(e[a],c[a]))return!1;return!0}if(i!=r)return!1;if(e&&c&&typeof e=="object"&&typeof c=="object"){const o=e instanceof Date,l=c instanceof Date;if(o&&l)return e.getTime()==c.getTime();if(o!=l)return!1;const h=e instanceof RegExp,f=c instanceof RegExp;if(h&&f)return e.toString()==c.toString();if(h!=f)return!1;const p=Object.keys(e);for(a=0;a<p.length;a++)if(!Object.prototype.hasOwnProperty.call(c,p[a]))return!1;for(a=0;a<p.length;a++)if(!hu(c[p[a]],e[p[a]]))return!1;return!0}else if(e&&c&&typeof e=="function"&&typeof c=="function")return e.toString()===c.toString();return!1}class rE{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?Ge.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?Ge.RIGHT:Ge.LEFT}}function at(c,e){return new at.InputMask(c,e)}function By(c){if(c==null)throw new Error("mask property should be defined");return c instanceof RegExp?at.MaskedRegExp:Mr(c)?at.MaskedPattern:c===Date?at.MaskedDate:c===Number?at.MaskedNumber:Array.isArray(c)||c===Array?at.MaskedDynamic:at.Masked&&c.prototype instanceof at.Masked?c:at.Masked&&c instanceof at.Masked?c.constructor:c instanceof Function?at.MaskedFunction:(console.warn("Mask not found for mask",c),at.Masked)}function Do(c){if(!c)throw new Error("Options in not defined");if(at.Masked){if(c.prototype instanceof at.Masked)return{mask:c};const{mask:e=void 0,...i}=c instanceof at.Masked?{mask:c}:Cm(c)&&c.mask instanceof at.Masked?c:{};if(e){const r=e.mask;return{...Ny(e,(a,o)=>!o.startsWith("_")),mask:e.constructor,_mask:r,...i}}}return Cm(c)?{...c}:{mask:c}}function tr(c){if(at.Masked&&c instanceof at.Masked)return c;const e=Do(c),i=By(e.mask);if(!i)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===i&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new i(e)}at.createMask=tr;class gd{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,i){if(!(e==null||i==null||e===this.selectionStart&&i===this.selectionEnd))try{this._unsafeSelect(e,i)}catch{}}get isActive(){return!1}}at.MaskElement=gd;const km=90,aE=89;class ku extends gd{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,i,r;return(e=(i=(r=this.input).getRootNode)==null?void 0:i.call(r))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===km&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===aE&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===km&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}at.HTMLMaskElement=ku;class sE extends ku{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,i){this.input.setSelectionRange(e,i)}get value(){return this.input.value}set value(e){this.input.value=e}}at.HTMLMaskElement=ku;class Ly extends ku{get _unsafeSelectionStart(){const e=this.rootElement,i=e.getSelection&&e.getSelection(),r=i&&i.anchorOffset,a=i&&i.focusOffset;return a==null||r==null||r<a?r:a}get _unsafeSelectionEnd(){const e=this.rootElement,i=e.getSelection&&e.getSelection(),r=i&&i.anchorOffset,a=i&&i.focusOffset;return a==null||r==null||r>a?r:a}_unsafeSelect(e,i){if(!this.rootElement.createRange)return;const r=this.rootElement.createRange();r.setStart(this.input.firstChild||this.input,e),r.setEnd(this.input.lastChild||this.input,i);const a=this.rootElement,o=a.getSelection&&a.getSelection();o&&(o.removeAllRanges(),o.addRange(r))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}at.HTMLContenteditableMaskElement=Ly;class Tu{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>Tu.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}Tu.MAX_LENGTH=100;class oE{constructor(e,i){this.el=e instanceof gd?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new Ly(e):new sE(e),this.masked=tr(i),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new Tu,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var i;return e==null||((i=this.masked)==null?void 0:i.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof at.Masked)&&this.masked.constructor===By(e)){this.masked.updateOptions({mask:e});return}const i=e instanceof at.Masked?e:tr({mask:e});i.unmaskedValue=this.masked.unmaskedValue,this.masked=i}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,i){const r=this._listeners[e];r&&r.forEach(a=>a(i))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const i=this.masked.unmaskedValue,r=this.masked.value,a=this.masked.rawInputValue,o=this.displayValue,l=this.unmaskedValue!==i||this.value!==r||this._rawInputValue!==a;this._unmaskedValue=i,this._value=r,this._rawInputValue=a,this.el.value!==o&&(this.el.value=o),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),l&&this._fireChangeEvents(),!this._historyChanging&&(l||this.history.isEmpty)&&this.history.push({unmaskedValue:i,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:i,...r}=e,a=!this.maskEquals(i),o=this.masked.optionsIsChanged(r);a&&(this.mask=i),o&&this.masked.updateOptions(r),(a||o)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Ge.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,i){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i),this}off(e,i){if(!this._listeners[e])return this;if(!i)return delete this._listeners[e],this;const r=this._listeners[e].indexOf(i);return r>=0&&this._listeners[e].splice(r,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const i=new rE({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),r=this.masked.rawInputValue,a=this.masked.splice(i.startChangePos,i.removed.length,i.inserted,i.removeDirection,{input:!0,raw:!0}).offset,o=r===this.masked.rawInputValue?i.removeDirection:Ge.NONE;let l=this.masked.nearestInputPos(i.startChangePos+a,o);o!==Ge.NONE&&(l=this.masked.nearestInputPos(l,Ge.NONE)),this.updateControl(l),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}at.InputMask=oE;class ht{static normalize(e){return Array.isArray(e)?e:[e,new ht]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}at.ChangeDetails=ht;class Rn{constructor(e,i,r){e===void 0&&(e=""),i===void 0&&(i=0),this.value=e,this.from=i,this.stop=r}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const i=this.value[0];return this.value=this.value.slice(1),i}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class Li{constructor(e){this._value="",this._update({...Li.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,i){i===void 0&&(i={input:!0}),this.reset(),this.append(e,i,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,i){return e}totalInputPositions(e,i){return e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),Math.min(this.displayValue.length,i-e)}extractInput(e,i,r){return e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),this.displayValue.slice(e,i)}extractTail(e,i){return e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),new Rn(this.extractInput(e,i),e)}appendTail(e){return Mr(e)&&(e=new Rn(String(e))),e.appendTo(this)}_appendCharRaw(e,i){return e?(this._value+=e,new ht({inserted:e,rawInserted:e})):new ht}_appendChar(e,i,r){i===void 0&&(i={});const a=this.state;let o;if([e,o]=this.doPrepareChar(e,i),e&&(o=o.aggregate(this._appendCharRaw(e,i)),!o.rawInserted&&this.autofix==="pad")){const l=this.state;this.state=a;let h=this.pad(i);const f=this._appendCharRaw(e,i);h=h.aggregate(f),f.rawInserted||h.equals(o)?o=h:this.state=l}if(o.inserted){let l,h=this.doValidate(i)!==!1;if(h&&r!=null){const f=this.state;if(this.overwrite===!0){l=r.state;for(let v=0;v<o.rawInserted.length;++v)r.unshift(this.displayValue.length-o.tailShift)}let p=this.appendTail(r);if(h=p.rawInserted.length===r.toString().length,!(h&&p.inserted)&&this.overwrite==="shift"){this.state=f,l=r.state;for(let v=0;v<o.rawInserted.length;++v)r.shift();p=this.appendTail(r),h=p.rawInserted.length===r.toString().length}h&&p.inserted&&(this.state=f)}h||(o=new ht,this.state=a,r&&l&&(r.state=l))}return o}_appendPlaceholder(){return new ht}_appendEager(){return new ht}append(e,i,r){if(!Mr(e))throw new Error("value should be string");const a=Mr(r)?new Rn(String(r)):r;i!=null&&i.tail&&(i._beforeTailState=this.state);let o;[e,o]=this.doPrepare(e,i);for(let l=0;l<e.length;++l){const h=this._appendChar(e[l],i,a);if(!h.rawInserted&&!this.doSkipInvalid(e[l],i,a))break;o.aggregate(h)}return(this.eager===!0||this.eager==="append")&&i!=null&&i.input&&e&&o.aggregate(this._appendEager()),a!=null&&(o.tailShift+=this.appendTail(a).tailShift),o}remove(e,i){return e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(i),new ht}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const i=this.rawInputValue,r=this.value,a=e();return this.rawInputValue=i,this.value&&this.value!==r&&r.indexOf(this.value)===0&&(this.append(r.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,a}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const i=this.state,r=e(this);return this.state=i,delete this._isolated,r}doSkipInvalid(e,i,r){return!!this.skipInvalid}doPrepare(e,i){return i===void 0&&(i={}),ht.normalize(this.prepare?this.prepare(e,this,i):e)}doPrepareChar(e,i){return i===void 0&&(i={}),ht.normalize(this.prepareChar?this.prepareChar(e,this,i):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,i,r,a,o){r===void 0&&(r=""),a===void 0&&(a=Ge.NONE),o===void 0&&(o={input:!0});const l=e+i,h=this.extractTail(l),f=this.eager===!0||this.eager==="remove";let p;f&&(a=nE(a),p=this.extractInput(0,l,{raw:!0}));let v=e;const m=new ht;if(a!==Ge.NONE&&(v=this.nearestInputPos(e,i>1&&e!==0&&!f?Ge.NONE:a),m.tailShift=v-e),m.aggregate(this.remove(v)),f&&a!==Ge.NONE&&p===this.rawInputValue)if(a===Ge.FORCE_LEFT){let w;for(;p===this.rawInputValue&&(w=this.displayValue.length);)m.aggregate(new ht({tailShift:-1})).aggregate(this.remove(w-1))}else a===Ge.FORCE_RIGHT&&h.unshift();return m.aggregate(this.append(r,o,h))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!hu(this,e)}typedValueEquals(e){const i=this.typedValue;return e===i||Li.EMPTY_VALUES.includes(e)&&Li.EMPTY_VALUES.includes(i)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new ht}}Li.DEFAULTS={skipInvalid:!0};Li.EMPTY_VALUES=[void 0,null,""];at.Masked=Li;class sa{constructor(e,i){e===void 0&&(e=[]),i===void 0&&(i=0),this.chunks=e,this.from=i}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=Mr(e)?new Rn(String(e)):e;const i=this.chunks[this.chunks.length-1],r=i&&(i.stop===e.stop||e.stop==null)&&e.from===i.from+i.toString().length;if(e instanceof Rn)r?i.extend(e.toString()):this.chunks.push(e);else if(e instanceof sa){if(e.stop==null){let a;for(;e.chunks.length&&e.chunks[0].stop==null;)a=e.chunks.shift(),a.from+=e.from,this.extend(a)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof at.MaskedPattern))return new Rn(this.toString()).appendTo(e);const i=new ht;for(let r=0;r<this.chunks.length;++r){const a=this.chunks[r],o=e._mapPosToBlock(e.displayValue.length),l=a.stop;let h;if(l!=null&&(!o||o.index<=l)&&((a instanceof sa||e._stops.indexOf(l)>=0)&&i.aggregate(e._appendPlaceholder(l)),h=a instanceof sa&&e._blocks[l]),h){const f=h.appendTail(a);i.aggregate(f);const p=a.toString().slice(f.rawInserted.length);p&&i.aggregate(e.append(p,{tail:!0}))}else i.aggregate(e.append(a.toString(),{tail:!0}))}return i}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:i,...r}=e;Object.assign(this,r),this.chunks=i.map(a=>{const o="chunks"in a?new sa:new Rn;return o.state=a,o})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const i=e!=null?e-this.from:e;let r=0;for(;r<this.chunks.length;){const a=this.chunks[r],o=a.unshift(i);if(a.toString()){if(!o)break;++r}else this.chunks.splice(r,1);if(o)return o}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const i=this.chunks[e],r=i.shift();if(i.toString()){if(!r)break;--e}else this.chunks.splice(e,1);if(r)return r}return""}}class lE{constructor(e,i){this.masked=e,this._log=[];const{offset:r,index:a}=e._mapPosToBlock(i)||(i<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=r,this.index=a,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((i=this.block)==null?void 0:i.displayValue.length)||0){var i;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,Ge.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Ge.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Ge.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,Ge.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Ge.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Ge.NONE),!0})}}class jy{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,i){return e===void 0&&(e=0),i===void 0&&(i=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(i),this._value||(this._isRawInput=!1),new ht}nearestInputPos(e,i){i===void 0&&(i=Ge.NONE);const r=0,a=this._value.length;switch(i){case Ge.LEFT:case Ge.FORCE_LEFT:return r;case Ge.NONE:case Ge.RIGHT:case Ge.FORCE_RIGHT:default:return a}}totalInputPositions(e,i){return e===void 0&&(e=0),i===void 0&&(i=this._value.length),this._isRawInput?i-e:0}extractInput(e,i,r){return e===void 0&&(e=0),i===void 0&&(i=this._value.length),r===void 0&&(r={}),r.raw&&this._isRawInput&&this._value.slice(e,i)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,i){if(i===void 0&&(i={}),this.isFilled)return new ht;const r=this.eager===!0||this.eager==="append",o=this.char===e&&(this.isUnmasking||i.input||i.raw)&&(!i.raw||!r)&&!i.tail,l=new ht({inserted:this.char,rawInserted:o?this.char:""});return this._value=this.char,this._isRawInput=o&&(i.raw||i.input),l}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new ht;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new Rn("")}appendTail(e){return Mr(e)&&(e=new Rn(String(e))),e.appendTo(this)}append(e,i,r){const a=this._appendChar(e[0],i);return r!=null&&(a.tailShift+=this.appendTail(r).tailShift),a}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class fu{constructor(e){const{parent:i,isOptional:r,placeholderChar:a,displayChar:o,lazy:l,eager:h,...f}=e;this.masked=tr(f),Object.assign(this,{parent:i,isOptional:r,placeholderChar:a,displayChar:o,lazy:l,eager:h})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,i){return e===void 0&&(e=0),i===void 0&&(i=this.value.length),e===0&&i>=1?(this.isFilled=!1,this.masked.remove(e,i)):new ht}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,i){if(i===void 0&&(i={}),this.isFilled)return new ht;const r=this.masked.state;let a=this.masked._appendChar(e,this.currentMaskFlags(i));return a.inserted&&this.doValidate(i)===!1&&(a=new ht,this.masked.state=r),!a.inserted&&!this.isOptional&&!this.lazy&&!i.input&&(a.inserted=this.placeholderChar),a.skip=!a.inserted&&!this.isOptional,this.isFilled=!!a.inserted,a}append(e,i,r){return this.masked.append(e,this.currentMaskFlags(i),r)}_appendPlaceholder(){return this.isFilled||this.isOptional?new ht:(this.isFilled=!0,new ht({inserted:this.placeholderChar}))}_appendEager(){return new ht}extractTail(e,i){return this.masked.extractTail(e,i)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,i,r){return e===void 0&&(e=0),i===void 0&&(i=this.value.length),this.masked.extractInput(e,i,r)}nearestInputPos(e,i){i===void 0&&(i=Ge.NONE);const r=0,a=this.value.length,o=Math.min(Math.max(e,r),a);switch(i){case Ge.LEFT:case Ge.FORCE_LEFT:return this.isComplete?o:r;case Ge.RIGHT:case Ge.FORCE_RIGHT:return this.isComplete?o:a;case Ge.NONE:default:return o}}totalInputPositions(e,i){return e===void 0&&(e=0),i===void 0&&(i=this.value.length),this.value.slice(e,i).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var i;return{...e,_beforeTailState:(e==null||(i=e._beforeTailState)==null?void 0:i.masked)||(e==null?void 0:e._beforeTailState)}}pad(e){return new ht}}fu.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class uE extends Li{updateOptions(e){super.updateOptions(e)}_update(e){const i=e.mask;i&&(e.validate=r=>r.search(i)>=0),super._update(e)}}at.MaskedRegExp=uE;class ji extends Li{constructor(e){super({...ji.DEFAULTS,...e,definitions:Object.assign({},fu.DEFAULT_DEFINITIONS,e==null?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const i=this.mask;if(!i||!e)return;let r=!1,a=!1;for(let o=0;o<i.length;++o){if(this.blocks){const p=i.slice(o),v=Object.keys(this.blocks).filter(w=>p.indexOf(w)===0);v.sort((w,x)=>x.length-w.length);const m=v[0];if(m){const{expose:w,repeat:x,...R}=Do(this.blocks[m]),T={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...R,repeat:x,parent:this},_=x!=null?new at.RepeatBlock(T):tr(T);_&&(this._blocks.push(_),w&&(this.exposeBlock=_),this._maskedBlocks[m]||(this._maskedBlocks[m]=[]),this._maskedBlocks[m].push(this._blocks.length-1)),o+=m.length-1;continue}}let l=i[o],h=l in e;if(l===ji.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(l==="{"||l==="}"){r=!r;continue}if(l==="["||l==="]"){a=!a;continue}if(l===ji.ESCAPE_CHAR){if(++o,l=i[o],!l)break;h=!1}const f=h?new fu({isOptional:a,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...Do(e[l]),parent:this}):new jy({char:l,eager:this.eager,isUnmasking:r});this._blocks.push(f)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:i,...r}=e;this._blocks.forEach((a,o)=>a.state=i[o]),super.state=r}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,i)=>e+=i.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const i=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(i),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,i)=>e+=i.value,"")}set value(e){if(this.exposeBlock){const i=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(i),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const i=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(i),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,i)=>e+=i.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const i=new ht;let r=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(r==null)return i;this._blocks[r].isFilled&&++r;for(let a=r;a<this._blocks.length;++a){const o=this._blocks[a]._appendEager();if(!o.inserted)break;i.aggregate(o)}return i}_appendCharRaw(e,i){i===void 0&&(i={});const r=this._mapPosToBlock(this.displayValue.length),a=new ht;if(!r)return a;for(let l=r.index,h;h=this._blocks[l];++l){var o;const f=h._appendChar(e,{...i,_beforeTailState:(o=i._beforeTailState)==null||(o=o._blocks)==null?void 0:o[l]});if(a.aggregate(f),f.consumed)break}return a}extractTail(e,i){e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length);const r=new sa;return e===i||this._forEachBlocksInRange(e,i,(a,o,l,h)=>{const f=a.extractTail(l,h);f.stop=this._findStopBefore(o),f.from=this._blockStartPos(o),f instanceof sa&&(f.blockIndex=o),r.extend(f)}),r}extractInput(e,i,r){if(e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),r===void 0&&(r={}),e===i)return"";let a="";return this._forEachBlocksInRange(e,i,(o,l,h,f)=>{a+=o.extractInput(h,f,r)}),a}_findStopBefore(e){let i;for(let r=0;r<this._stops.length;++r){const a=this._stops[r];if(a<=e)i=a;else break}return i}_appendPlaceholder(e){const i=new ht;if(this.lazy&&e==null)return i;const r=this._mapPosToBlock(this.displayValue.length);if(!r)return i;const a=r.index,o=e??this._blocks.length;return this._blocks.slice(a,o).forEach(l=>{if(!l.lazy||e!=null){var h;i.aggregate(l._appendPlaceholder((h=l._blocks)==null?void 0:h.length))}}),i}_mapPosToBlock(e){let i="";for(let r=0;r<this._blocks.length;++r){const a=this._blocks[r],o=i.length;if(i+=a.displayValue,e<=i.length)return{index:r,offset:e-o}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((i,r)=>i+=r.displayValue.length,0)}_forEachBlocksInRange(e,i,r){i===void 0&&(i=this.displayValue.length);const a=this._mapPosToBlock(e);if(a){const o=this._mapPosToBlock(i),l=o&&a.index===o.index,h=a.offset,f=o&&l?o.offset:this._blocks[a.index].displayValue.length;if(r(this._blocks[a.index],a.index,h,f),o&&!l){for(let p=a.index+1;p<o.index;++p)r(this._blocks[p],p,0,this._blocks[p].displayValue.length);r(this._blocks[o.index],o.index,0,o.offset)}}}remove(e,i){e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length);const r=super.remove(e,i);return this._forEachBlocksInRange(e,i,(a,o,l,h)=>{r.aggregate(a.remove(l,h))}),r}nearestInputPos(e,i){if(i===void 0&&(i=Ge.NONE),!this._blocks.length)return 0;const r=new lE(this,e);if(i===Ge.NONE)return r.pushRightBeforeInput()||(r.popState(),r.pushLeftBeforeInput())?r.pos:this.displayValue.length;if(i===Ge.LEFT||i===Ge.FORCE_LEFT){if(i===Ge.LEFT){if(r.pushRightBeforeFilled(),r.ok&&r.pos===e)return e;r.popState()}if(r.pushLeftBeforeInput(),r.pushLeftBeforeRequired(),r.pushLeftBeforeFilled(),i===Ge.LEFT){if(r.pushRightBeforeInput(),r.pushRightBeforeRequired(),r.ok&&r.pos<=e||(r.popState(),r.ok&&r.pos<=e))return r.pos;r.popState()}return r.ok?r.pos:i===Ge.FORCE_LEFT?0:(r.popState(),r.ok||(r.popState(),r.ok)?r.pos:0)}return i===Ge.RIGHT||i===Ge.FORCE_RIGHT?(r.pushRightBeforeInput(),r.pushRightBeforeRequired(),r.pushRightBeforeFilled()?r.pos:i===Ge.FORCE_RIGHT?this.displayValue.length:(r.popState(),r.ok||(r.popState(),r.ok)?r.pos:this.nearestInputPos(e,Ge.LEFT))):e}totalInputPositions(e,i){e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length);let r=0;return this._forEachBlocksInRange(e,i,(a,o,l,h)=>{r+=a.totalInputPositions(l,h)}),r}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const i=this._maskedBlocks[e];return i?i.map(r=>this._blocks[r]):[]}pad(e){const i=new ht;return this._forEachBlocksInRange(0,this.displayValue.length,r=>i.aggregate(r.pad(e))),i}}ji.DEFAULTS={...Li.DEFAULTS,lazy:!0,placeholderChar:"_"};ji.STOP_CHAR="`";ji.ESCAPE_CHAR="\\";ji.InputDefinition=fu;ji.FixedDefinition=jy;at.MaskedPattern=ji;class ou extends ji{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:i=this.to||0,from:r=this.from||0,maxLength:a=this.maxLength||0,autofix:o=this.autofix,...l}=e;this.to=i,this.from=r,this.maxLength=Math.max(String(i).length,a),this.autofix=o;const h=String(this.from).padStart(this.maxLength,"0"),f=String(this.to).padStart(this.maxLength,"0");let p=0;for(;p<f.length&&f[p]===h[p];)++p;l.mask=f.slice(0,p).replace(/0/g,"\\0")+"0".repeat(this.maxLength-p),super._update(l)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let i="",r="";const[,a,o]=e.match(/^(\D*)(\d*)(\D*)/)||[];return o&&(i="0".repeat(a.length)+o,r="9".repeat(a.length)+o),i=i.padEnd(this.maxLength,"0"),r=r.padEnd(this.maxLength,"9"),[i,r]}doPrepareChar(e,i){i===void 0&&(i={});let r;return[e,r]=super.doPrepareChar(e.replace(/\D/g,""),i),e||(r.skip=!this.isComplete),[e,r]}_appendCharRaw(e,i){if(i===void 0&&(i={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,i);const r=String(this.from).padStart(this.maxLength,"0"),a=String(this.to).padStart(this.maxLength,"0"),[o,l]=this.boundaries(this.value+e);return Number(l)<this.from?super._appendCharRaw(r[this.value.length],i):Number(o)>this.to?!i.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(r[this.value.length],i).aggregate(this._appendCharRaw(e,i)):super._appendCharRaw(a[this.value.length],i):super._appendCharRaw(e,i)}doValidate(e){const i=this.value;if(i.search(/[^0]/)===-1&&i.length<=this._matchFrom)return!0;const[a,o]=this.boundaries(i);return this.from<=Number(o)&&Number(a)<=this.to&&super.doValidate(e)}pad(e){const i=new ht;if(this.value.length===this.maxLength)return i;const r=this.value,a=this.maxLength-this.value.length;if(a){this.reset();for(let o=0;o<a;++o)i.aggregate(super._appendCharRaw("0",e));r.split("").forEach(o=>this._appendCharRaw(o))}return i}}at.MaskedRange=ou;const cE="d{.}`m{.}`Y";class Qn extends ji{static extractPatternOptions(e){const{mask:i,pattern:r,...a}=e;return{...a,mask:Mr(i)?i:r}}constructor(e){super(Qn.extractPatternOptions({...Qn.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:i,pattern:r,blocks:a,...o}={...Qn.DEFAULTS,...e},l=Object.assign({},Qn.GET_DEFAULT_BLOCKS());e.min&&(l.Y.from=e.min.getFullYear()),e.max&&(l.Y.to=e.max.getFullYear()),e.min&&e.max&&l.Y.from===l.Y.to&&(l.m.from=e.min.getMonth()+1,l.m.to=e.max.getMonth()+1,l.m.from===l.m.to&&(l.d.from=e.min.getDate(),l.d.to=e.max.getDate())),Object.assign(l,this.blocks,a),super._update({...o,mask:Mr(i)?i:r,blocks:l})}doValidate(e){const i=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&i!=null&&(this.min==null||this.min<=i)&&(this.max==null||i<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(Qn.extractPatternOptions(e))}}Qn.GET_DEFAULT_BLOCKS=()=>({d:{mask:ou,from:1,to:31,maxLength:2},m:{mask:ou,from:1,to:12,maxLength:2},Y:{mask:ou,from:1900,to:9999}});Qn.DEFAULTS={...ji.DEFAULTS,mask:Date,pattern:cE,format:(c,e)=>{if(!c)return"";const i=String(c.getDate()).padStart(2,"0"),r=String(c.getMonth()+1).padStart(2,"0"),a=c.getFullYear();return[i,r,a].join(".")},parse:(c,e)=>{const[i,r,a]=c.split(".").map(Number);return new Date(a,r-1,i)}};at.MaskedDate=Qn;class Du extends Li{constructor(e){super({...Du.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(i=>{const{expose:r,...a}=Do(i),o=tr({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...a});return r&&(this.exposeMask=o),o}):[])}_appendCharRaw(e,i){i===void 0&&(i={});const r=this._applyDispatch(e,i);return this.currentMask&&r.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(i))),r}_applyDispatch(e,i,r){e===void 0&&(e=""),i===void 0&&(i={}),r===void 0&&(r="");const a=i.tail&&i._beforeTailState!=null?i._beforeTailState._value:this.value,o=this.rawInputValue,l=i.tail&&i._beforeTailState!=null?i._beforeTailState._rawInputValue:o,h=o.slice(l.length),f=this.currentMask,p=new ht,v=f==null?void 0:f.state;return this.currentMask=this.doDispatch(e,{...i},r),this.currentMask&&(this.currentMask!==f?(this.currentMask.reset(),l&&(this.currentMask.append(l,{raw:!0}),p.tailShift=this.currentMask.value.length-a.length),h&&(p.tailShift+=this.currentMask.append(h,{raw:!0,tail:!0}).tailShift)):v&&(this.currentMask.state=v)),p}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const i=new ht;return e&&i.aggregate(this._applyDispatch("",{},e)),i.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var i,r;return{...e,_beforeTailState:((i=e._beforeTailState)==null?void 0:i.currentMaskRef)===this.currentMask&&((r=e._beforeTailState)==null?void 0:r.currentMask)||e._beforeTailState}}doDispatch(e,i,r){return i===void 0&&(i={}),r===void 0&&(r=""),this.dispatch(e,this,i,r)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,i){i===void 0&&(i={});let[r,a]=super.doPrepare(e,i);if(this.currentMask){let o;[r,o]=super.doPrepare(r,this.currentMaskFlags(i)),a=a.aggregate(o)}return[r,a]}doPrepareChar(e,i){i===void 0&&(i={});let[r,a]=super.doPrepareChar(e,i);if(this.currentMask){let o;[r,o]=super.doPrepareChar(r,this.currentMaskFlags(i)),a=a.aggregate(o)}return[r,a]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(i=>i.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let i=String(e);this.currentMask&&(this.currentMask.typedValue=e,i=this.currentMask.unmaskedValue),this.unmaskedValue=i}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,i){const r=new ht;return this.currentMask&&r.aggregate(this.currentMask.remove(e,i)).aggregate(this._applyDispatch()),r}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(i=>i.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:i,currentMaskRef:r,currentMask:a,...o}=e;i&&this.compiledMasks.forEach((l,h)=>l.state=i[h]),r!=null&&(this.currentMask=r,this.currentMask.state=a),super.state=o}extractInput(e,i,r){return this.currentMask?this.currentMask.extractInput(e,i,r):""}extractTail(e,i){return this.currentMask?this.currentMask.extractTail(e,i):super.extractTail(e,i)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,i){return this.currentMask?this.currentMask.nearestInputPos(e,i):super.nearestInputPos(e,i)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((i,r)=>{if(!e[r])return;const{mask:a,...o}=e[r];return hu(i,o)&&i.maskEquals(a)}):super.maskEquals(e)}typedValueEquals(e){var i;return!!((i=this.currentMask)!=null&&i.typedValueEquals(e))}}Du.DEFAULTS={...Li.DEFAULTS,dispatch:(c,e,i,r)=>{if(!e.compiledMasks.length)return;const a=e.rawInputValue,o=e.compiledMasks.map((l,h)=>{const f=e.currentMask===l,p=f?l.displayValue.length:l.nearestInputPos(l.displayValue.length,Ge.FORCE_LEFT);return l.rawInputValue!==a?(l.reset(),l.append(a,{raw:!0})):f||l.remove(p),l.append(c,e.currentMaskFlags(i)),l.appendTail(r),{index:h,weight:l.rawInputValue.length,totalInputPositions:l.totalInputPositions(0,Math.max(p,l.nearestInputPos(l.displayValue.length,Ge.FORCE_LEFT)))}});return o.sort((l,h)=>h.weight-l.weight||h.totalInputPositions-l.totalInputPositions),e.compiledMasks[o[0].index]}};at.MaskedDynamic=Du;class Ru extends ji{constructor(e){super({...Ru.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:i,...r}=e;if(i){const a=i.map(h=>h.length),o=Math.min(...a),l=Math.max(...a)-o;r.mask="*".repeat(o),l&&(r.mask+="["+"*".repeat(l)+"]"),this.enum=i}super._update(r)}_appendCharRaw(e,i){i===void 0&&(i={});const r=Math.min(this.nearestInputPos(0,Ge.FORCE_RIGHT),this.value.length),a=this.enum.filter(o=>this.matchValue(o,this.unmaskedValue+e,r));if(a.length){a.length===1&&this._forEachBlocksInRange(0,this.value.length,(l,h)=>{const f=a[0][h];h>=this.value.length||f===l.value||(l.reset(),l._appendChar(f,i))});const o=super._appendCharRaw(a[0][this.value.length],i);return a.length===1&&a[0].slice(this.unmaskedValue.length).split("").forEach(l=>o.aggregate(super._appendCharRaw(l))),o}return new ht({skip:!this.isComplete})}extractTail(e,i){return e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),new Rn("",e)}remove(e,i){if(e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),e===i)return new ht;const r=Math.min(super.nearestInputPos(0,Ge.FORCE_RIGHT),this.value.length);let a;for(a=e;a>=0&&!(this.enum.filter(h=>this.matchValue(h,this.value.slice(r,a),r)).length>1);--a);const o=super.remove(a,i);return o.tailShift+=a-e,o}get isComplete(){return this.enum.indexOf(this.value)>=0}}Ru.DEFAULTS={...ji.DEFAULTS,matchValue:(c,e,i)=>c.indexOf(e,i)===i};at.MaskedEnum=Ru;class hE extends Li{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}at.MaskedFunction=hE;var My;class tn extends Li{constructor(e){super({...tn.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),i="\\d*",r=(this.scale?"("+Yh(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+i+r),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Yh).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Yh(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const i=e.split(this.radix);return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),i.join(this.radix)}doPrepareChar(e,i){i===void 0&&(i={});const[r,a]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(i.input&&i.raw||!i.input&&!i.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),i);return e&&!r&&(a.skip=!0),r&&!this.allowPositive&&!this.value&&r!=="-"&&a.aggregate(this._appendChar("-")),[r,a]}_separatorsCount(e,i){i===void 0&&(i=!1);let r=0;for(let a=0;a<e;++a)this._value.indexOf(this.thousandsSeparator,a)===a&&(++r,i&&(e+=this.thousandsSeparator.length));return r}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,i,r){return e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),[e,i]=this._adjustRangeWithSeparators(e,i),this._removeThousandsSeparators(super.extractInput(e,i,r))}_appendCharRaw(e,i){i===void 0&&(i={});const r=i.tail&&i._beforeTailState?i._beforeTailState._value:this._value,a=this._separatorsCountFromSlice(r);this._value=this._removeThousandsSeparators(this.value);const o=this._value;this._value+=e;const l=this.number;let h=!isNaN(l),f=!1;if(h){let w;this.min!=null&&this.min<0&&this.number<this.min&&(w=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(w=this.max),w!=null&&(this.autofix?(this._value=this.format(w,this).replace(tn.UNMASKED_RADIX,this.radix),f||(f=o===this._value&&!i.tail)):h=!1),h&&(h=!!this._value.match(this._numberRegExp))}let p;h?p=new ht({inserted:this._value.slice(o.length),rawInserted:f?"":e,skip:f}):(this._value=o,p=new ht),this._value=this._insertThousandsSeparators(this._value);const v=i.tail&&i._beforeTailState?i._beforeTailState._value:this._value,m=this._separatorsCountFromSlice(v);return p.tailShift+=(m-a)*this.thousandsSeparator.length,p}_findSeparatorAround(e){if(this.thousandsSeparator){const i=e-this.thousandsSeparator.length+1,r=this.value.indexOf(this.thousandsSeparator,i);if(r<=e)return r}return-1}_adjustRangeWithSeparators(e,i){const r=this._findSeparatorAround(e);r>=0&&(e=r);const a=this._findSeparatorAround(i);return a>=0&&(i=a+this.thousandsSeparator.length),[e,i]}remove(e,i){e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length),[e,i]=this._adjustRangeWithSeparators(e,i);const r=this.value.slice(0,e),a=this.value.slice(i),o=this._separatorsCount(r.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(r+a));const l=this._separatorsCountFromSlice(r);return new ht({tailShift:(l-o)*this.thousandsSeparator.length})}nearestInputPos(e,i){if(!this.thousandsSeparator)return e;switch(i){case Ge.NONE:case Ge.LEFT:case Ge.FORCE_LEFT:{const r=this._findSeparatorAround(e-1);if(r>=0){const a=r+this.thousandsSeparator.length;if(e<a||this.value.length<=a||i===Ge.FORCE_LEFT)return r}break}case Ge.RIGHT:case Ge.FORCE_RIGHT:{const r=this._findSeparatorAround(e);if(r>=0)return r+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let i=e;this.min!=null&&(i=Math.max(i,this.min)),this.max!=null&&(i=Math.min(i,this.max)),i!==e&&(this.unmaskedValue=this.format(i,this));let r=this.value;this.normalizeZeros&&(r=this._normalizeZeros(r)),this.padFractionalZeros&&this.scale>0&&(r=this._padFractionalZeros(r)),this._value=r}super.doCommit()}_normalizeZeros(e){const i=this._removeThousandsSeparators(e).split(this.radix);return i[0]=i[0].replace(/^(\D*)(0*)(\d*)/,(r,a,o,l)=>a+l),e.length&&!/\d$/.test(i[0])&&(i[0]=i[0]+"0"),i.length>1&&(i[1]=i[1].replace(/0*$/,""),i[1].length||(i.length=1)),this._insertThousandsSeparators(i.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const i=e.split(this.radix);return i.length<2&&i.push(""),i[1]=i[1].padEnd(this.scale,"0"),i.join(this.radix)}doSkipInvalid(e,i,r){i===void 0&&(i={});const a=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===tn.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,i,r)&&!a}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,tn.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(tn.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||tn.EMPTY_VALUES.includes(e)&&tn.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}My=tn;tn.UNMASKED_RADIX=".";tn.EMPTY_VALUES=[...Li.EMPTY_VALUES,0];tn.DEFAULTS={...Li.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[My.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:c=>c.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};at.MaskedNumber=tn;const Yf={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Iy(c,e,i){e===void 0&&(e=Yf.MASKED),i===void 0&&(i=Yf.MASKED);const r=tr(c);return a=>r.runIsolated(o=>(o[e]=a,o[i]))}function fE(c,e,i,r){return Iy(e,i,r)(c)}at.PIPE_TYPE=Yf;at.createPipe=Iy;at.pipe=fE;class dE extends ji{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var i,r,a;const{repeat:o,...l}=Do(e);this._blockOpts=Object.assign({},this._blockOpts,l);const h=tr(this._blockOpts);this.repeat=(i=(r=o??h.repeat)!=null?r:this.repeat)!=null?i:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((a=this._blocks)==null?void 0:a.length)||0,this.repeatFrom)),blocks:{m:h},eager:h.eager,overwrite:h.overwrite,skipInvalid:h.skipInvalid,lazy:h.lazy,placeholderChar:h.placeholderChar,displayChar:h.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(tr(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,i){i===void 0&&(i={});const r=new ht;for(let f=(a=(o=this._mapPosToBlock(this.displayValue.length))==null?void 0:o.index)!=null?a:Math.max(this._blocks.length-1,0),p,v;p=(l=this._blocks[f])!=null?l:v=!v&&this._allocateBlock(f);++f){var a,o,l,h;const m=p._appendChar(e,{...i,_beforeTailState:(h=i._beforeTailState)==null||(h=h._blocks)==null?void 0:h[f]});if(m.skip&&v){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(r.aggregate(m),m.consumed)break}return r}_trimEmptyTail(e,i){var r,a;e===void 0&&(e=0);const o=Math.max(((r=this._mapPosToBlock(e))==null?void 0:r.index)||0,this.repeatFrom,0);let l;i!=null&&(l=(a=this._mapPosToBlock(i))==null?void 0:a.index),l==null&&(l=this._blocks.length-1);let h=0;for(let f=l;o<=f&&!this._blocks[f].unmaskedValue;--f,++h);h&&(this._blocks.splice(l-h+1,h),this.mask=this.mask.slice(h))}reset(){super.reset(),this._trimEmptyTail()}remove(e,i){e===void 0&&(e=0),i===void 0&&(i=this.displayValue.length);const r=super.remove(e,i);return this._trimEmptyTail(e,i),r}totalInputPositions(e,i){return e===void 0&&(e=0),i==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,i)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}at.RepeatBlock=dE;try{globalThis.IMask=at}catch{}const Uy={mask:Ie.oneOfType([Ie.array,Ie.func,Ie.string,Ie.instanceOf(RegExp),Ie.oneOf([Date,Number,at.Masked]),Ie.instanceOf(at.Masked)]),value:Ie.any,unmask:Ie.oneOfType([Ie.bool,Ie.oneOf(["typed"])]),prepare:Ie.func,prepareChar:Ie.func,validate:Ie.func,commit:Ie.func,overwrite:Ie.oneOfType([Ie.bool,Ie.oneOf(["shift"])]),eager:Ie.oneOfType([Ie.bool,Ie.oneOf(["append","remove"])]),skipInvalid:Ie.bool,onAccept:Ie.func,onComplete:Ie.func,placeholderChar:Ie.string,displayChar:Ie.string,lazy:Ie.bool,definitions:Ie.object,blocks:Ie.object,enum:Ie.arrayOf(Ie.string),maxLength:Ie.number,from:Ie.number,to:Ie.number,pattern:Ie.string,format:Ie.func,parse:Ie.func,autofix:Ie.oneOfType([Ie.bool,Ie.oneOf(["pad"])]),radix:Ie.string,thousandsSeparator:Ie.string,mapToRadix:Ie.arrayOf(Ie.string),scale:Ie.number,normalizeZeros:Ie.bool,padFractionalZeros:Ie.bool,min:Ie.oneOfType([Ie.number,Ie.instanceOf(Date)]),max:Ie.oneOfType([Ie.number,Ie.instanceOf(Date)]),dispatch:Ie.func,inputRef:Ie.oneOfType([Ie.func,Ie.shape({current:Ie.object})])},zy=Object.keys(Uy).filter(c=>c!=="value"),pE=["value","unmask","onAccept","onComplete","inputRef"],vE=zy.filter(c=>pE.indexOf(c)<0);function gE(c){var e;const i=(e=class extends Ct.Component{constructor(o){super(o),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const o=this.props,l=this._extractMaskOptionsFromProps(o);if(l.mask)this.maskRef?(this.maskRef.updateOptions(l),"value"in o&&o.value!==void 0&&(this.maskValue=o.value)):this.initMask(l);else if(this.destroyMask(),"value"in o&&o.value!==void 0){var h;(h=this.element)!=null&&h.isContentEditable&&this.element.tagName!=="INPUT"&&this.element.tagName!=="TEXTAREA"?this.element.textContent=o.value:this.element.value=o.value}}componentWillUnmount(){this.destroyMask()}_inputRef(o){this.element=o,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=o:this.props.inputRef(o))}initMask(o){o===void 0&&(o=this._extractMaskOptionsFromProps(this.props)),this.maskRef=at(this.element,o).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&this.props.value!==void 0&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(o){const{...l}=o;return Object.keys(l).filter(h=>vE.indexOf(h)<0).forEach(h=>{delete l[h]}),l}_extractNonMaskProps(o){const{...l}=o;return zy.forEach(h=>{h!=="maxLength"&&delete l[h]}),"defaultValue"in l||(l.defaultValue=o.mask?"":l.value),delete l.value,l}get maskValue(){return this.maskRef?this.props.unmask==="typed"?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value:""}set maskValue(o){this.maskRef&&(o=o==null&&this.props.unmask!=="typed"?"":o,this.props.unmask==="typed"?this.maskRef.typedValue=o:this.props.unmask?this.maskRef.unmaskedValue=o:this.maskRef.value=o)}_onAccept(o){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,o)}_onComplete(o){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,o)}render(){return Ct.createElement(c,{...this._extractNonMaskProps(this.props),inputRef:this._inputRef})}},e.displayName=void 0,e.propTypes=void 0,e),r=c.displayName||c.name||"Component";return i.displayName="IMask("+r+")",i.propTypes=Uy,Ct.forwardRef((a,o)=>Ct.createElement(i,{...a,ref:o}))}const mE=gE(c=>{let{inputRef:e,...i}=c;return Ct.createElement("input",{...i,ref:e})}),yE=(c,e)=>Ct.createElement(mE,{...c,ref:e}),Tm=Ct.forwardRef(yE),bE="modulepreload",_E=function(c){return"/WeBook/"+c},Dm={},Mo=function(e,i,r){let a=Promise.resolve();if(i&&i.length>0){let l=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=l(i.map(p=>{if(p=_E(p),p in Dm)return;Dm[p]=!0;const v=p.endsWith(".css"),m=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":bE,v||(w.as="script"),w.crossOrigin="",w.href=p,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((x,R)=>{w.addEventListener("load",x),w.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return a.then(l=>{for(const h of l||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},wE=c=>{let e;return c?e=c:typeof fetch>"u"?e=(...i)=>Mo(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},[]).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)};class md extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class EE extends md{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xE extends md{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class SE extends md{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zf;(function(c){c.Any="any",c.ApNortheast1="ap-northeast-1",c.ApNortheast2="ap-northeast-2",c.ApSouth1="ap-south-1",c.ApSoutheast1="ap-southeast-1",c.ApSoutheast2="ap-southeast-2",c.CaCentral1="ca-central-1",c.EuCentral1="eu-central-1",c.EuWest1="eu-west-1",c.EuWest2="eu-west-2",c.EuWest3="eu-west-3",c.SaEast1="sa-east-1",c.UsEast1="us-east-1",c.UsWest1="us-west-1",c.UsWest2="us-west-2"})(Zf||(Zf={}));var AE=function(c,e,i,r){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function h(v){try{p(r.next(v))}catch(m){l(m)}}function f(v){try{p(r.throw(v))}catch(m){l(m)}}function p(v){v.done?o(v.value):a(v.value).then(h,f)}p((r=r.apply(c,e||[])).next())})};class CE{constructor(e,{headers:i={},customFetch:r,region:a=Zf.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=wE(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var r;return AE(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:l}=i;let h={},{region:f}=i;f||(f=this.region),f&&f!=="any"&&(h["x-region"]=f);let p;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(h["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(h["Content-Type"]="application/json",p=JSON.stringify(l)));const v=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:p}).catch(R=>{throw new EE(R)}),m=v.headers.get("x-relay-error");if(m&&m==="true")throw new xE(v);if(!v.ok)throw new SE(v);let w=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield v.json():w==="application/octet-stream"?x=yield v.blob():w==="text/event-stream"?x=v:w==="multipart/form-data"?x=yield v.formData():x=yield v.text(),{data:x,error:null}}catch(a){return{data:null,error:a}}})}}var Ai={},Fa={},Pa={},qa={},Va={},Ha={},kE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},os=kE();const TE=os.fetch,Fy=os.fetch.bind(os),Py=os.Headers,DE=os.Request,RE=os.Response,fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Py,Request:DE,Response:RE,default:Fy,fetch:TE},Symbol.toStringTag,{value:"Module"})),OE=D_(fs);var Zl={},Rm;function qy(){if(Rm)return Zl;Rm=1,Object.defineProperty(Zl,"__esModule",{value:!0});class c extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Zl.default=c,Zl}var Om;function Vy(){if(Om)return Ha;Om=1;var c=Ha&&Ha.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ha,"__esModule",{value:!0});const e=c(OE),i=c(qy());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,m,w;let x=null,R=null,T=null,_=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const C=await p.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?R=C:R=JSON.parse(C))}const A=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),z=(m=p.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");A&&z&&z.length>1&&(T=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(x={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,T=null,_=406,E="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const A=await p.text();try{x=JSON.parse(A),Array.isArray(x)&&p.status===404&&(R=[],x=null,_=200,E="OK")}catch{p.status===404&&A===""?(_=204,E="No Content"):x={message:A}}if(x&&this.isMaybeSingle&&(!((w=x==null?void 0:x.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,_=200,E="OK"),x&&this.shouldThrowOnError)throw new i.default(x)}return{error:x,data:R,count:T,status:_,statusText:E}});return this.shouldThrowOnError||(f=f.catch(p=>{var v,m,w;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(m=p==null?void 0:p.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(w=p==null?void 0:p.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return Ha.default=r,Ha}var Nm;function Hy(){if(Nm)return Va;Nm=1;var c=Va&&Va.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Va,"__esModule",{value:!0});const e=c(Vy());class i extends e.default{select(a){let o=!1;const l=(a??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:o=!0,nullsFirst:l,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${a}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:l=o}={}){const h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,o,{foreignTable:l,referencedTable:h=l}={}){const f=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(p,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:o=!1,settings:l=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var v;const m=[a?"analyze":null,o?"verbose":null,l?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${w}"; options=${m};`,p==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Va.default=i,Va}var Bm;function yd(){if(Bm)return qa;Bm=1;var c=qa&&qa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qa,"__esModule",{value:!0});const e=c(Hy());class i extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const p=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${p}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const h=l?`${l}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return qa.default=i,qa}var Lm;function Gy(){if(Lm)return Pa;Lm=1;var c=Pa&&Pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pa,"__esModule",{value:!0});const e=c(yd());class i{constructor(a,{headers:o={},schema:l,fetch:h}){this.url=a,this.headers=o,this.schema=l,this.fetch=h}select(a,{head:o=!1,count:l}={}){const h=o?"HEAD":"GET";let f=!1;const p=(a??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join("");return this.url.searchParams.set("select",p),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:o,defaultToNull:l=!0}={}){const h="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const p=a.reduce((v,m)=>v.concat(Object.keys(m)),[]);if(p.length>0){const v=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:o,ignoreDuplicates:l=!1,count:h,defaultToNull:f=!0}={}){const p="POST",v=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&v.push(this.headers.Prefer),h&&v.push(`count=${h}`),f||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(a)){const m=a.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(m.length>0){const w=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:o}={}){const l="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),this.headers.Prefer=h.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const o="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Pa.default=i,Pa}var yo={},bo={},jm;function NE(){return jm||(jm=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.version=void 0,bo.version="0.0.0-automated"),bo}var Mm;function BE(){if(Mm)return yo;Mm=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.DEFAULT_HEADERS=void 0;const c=NE();return yo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${c.version}`},yo}var Im;function LE(){if(Im)return Fa;Im=1;var c=Fa&&Fa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Fa,"__esModule",{value:!0});const e=c(Gy()),i=c(yd()),r=BE();class a{constructor(l,{headers:h={},schema:f,fetch:p}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),h),this.schemaName=f,this.fetch=p}from(l){const h=new URL(`${this.url}/${l}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,h={},{head:f=!1,get:p=!1,count:v}={}){let m;const w=new URL(`${this.url}/rpc/${l}`);let x;f||p?(m=f?"HEAD":"GET",Object.entries(h).filter(([T,_])=>_!==void 0).map(([T,_])=>[T,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([T,_])=>{w.searchParams.append(T,_)})):(m="POST",x=h);const R=Object.assign({},this.headers);return v&&(R.Prefer=`count=${v}`),new i.default({method:m,url:w,headers:R,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Fa.default=a,Fa}var Um;function jE(){if(Um)return Ai;Um=1;var c=Ai&&Ai.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.PostgrestError=Ai.PostgrestBuilder=Ai.PostgrestTransformBuilder=Ai.PostgrestFilterBuilder=Ai.PostgrestQueryBuilder=Ai.PostgrestClient=void 0;const e=c(LE());Ai.PostgrestClient=e.default;const i=c(Gy());Ai.PostgrestQueryBuilder=i.default;const r=c(yd());Ai.PostgrestFilterBuilder=r.default;const a=c(Hy());Ai.PostgrestTransformBuilder=a.default;const o=c(Vy());Ai.PostgrestBuilder=o.default;const l=c(qy());return Ai.PostgrestError=l.default,Ai.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:l.default},Ai}var ME=jE();const IE=rr(ME),{PostgrestClient:UE,PostgrestQueryBuilder:WA,PostgrestFilterBuilder:KA,PostgrestTransformBuilder:QA,PostgrestBuilder:JA,PostgrestError:eC}=IE;let Xf;typeof window>"u"?Xf=require("ws"):Xf=window.WebSocket;const zE="2.11.10",FE={"X-Client-Info":`realtime-js/${zE}`},PE="1.0.0",$y=1e4,qE=1e3;var ns;(function(c){c[c.connecting=0]="connecting",c[c.open=1]="open",c[c.closing=2]="closing",c[c.closed=3]="closed"})(ns||(ns={}));var zi;(function(c){c.closed="closed",c.errored="errored",c.joined="joined",c.joining="joining",c.leaving="leaving"})(zi||(zi={}));var wn;(function(c){c.close="phx_close",c.error="phx_error",c.join="phx_join",c.reply="phx_reply",c.leave="phx_leave",c.access_token="access_token"})(wn||(wn={}));var Wf;(function(c){c.websocket="websocket"})(Wf||(Wf={}));var aa;(function(c){c.Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed"})(aa||(aa={}));class VE{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,i,r)}_decodeBroadcast(e,i,r){const a=i.getUint8(1),o=i.getUint8(2);let l=this.HEADER_LENGTH+2;const h=r.decode(e.slice(l,l+a));l=l+a;const f=r.decode(e.slice(l,l+o));l=l+o;const p=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}class Yy{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(c){c.abstime="abstime",c.bool="bool",c.date="date",c.daterange="daterange",c.float4="float4",c.float8="float8",c.int2="int2",c.int4="int4",c.int4range="int4range",c.int8="int8",c.int8range="int8range",c.json="json",c.jsonb="jsonb",c.money="money",c.numeric="numeric",c.oid="oid",c.reltime="reltime",c.text="text",c.time="time",c.timestamp="timestamp",c.timestamptz="timestamptz",c.timetz="timetz",c.tsrange="tsrange",c.tstzrange="tstzrange"})(Wt||(Wt={}));const zm=(c,e,i={})=>{var r;const a=(r=i.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,l)=>(o[l]=HE(l,c,e,a),o),{})},HE=(c,e,i,r)=>{const a=e.find(h=>h.name===c),o=a==null?void 0:a.type,l=i[c];return o&&!r.includes(o)?Zy(o,l):Kf(l)},Zy=(c,e)=>{if(c.charAt(0)==="_"){const i=c.slice(1,c.length);return ZE(e,i)}switch(c){case Wt.bool:return GE(e);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return $E(e);case Wt.json:case Wt.jsonb:return YE(e);case Wt.timestamp:return XE(e);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return Kf(e);default:return Kf(e)}},Kf=c=>c,GE=c=>{switch(c){case"t":return!0;case"f":return!1;default:return c}},$E=c=>{if(typeof c=="string"){const e=parseFloat(c);if(!Number.isNaN(e))return e}return c},YE=c=>{if(typeof c=="string")try{return JSON.parse(c)}catch(e){return console.log(`JSON parse error: ${e}`),c}return c},ZE=(c,e)=>{if(typeof c!="string")return c;const i=c.length-1,r=c[i];if(c[0]==="{"&&r==="}"){let o;const l=c.slice(1,i);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(h=>Zy(e,h))}return c},XE=c=>typeof c=="string"?c.replace(" ","T"):c,Xy=c=>{let e=c;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Zh{constructor(e,i,r={},a=$y){this.channel=e,this.event=i,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fm;(function(c){c.SYNC="sync",c.JOIN="join",c.LEAVE="leave"})(Fm||(Fm={}));class Ao{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:l,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ao.syncState(this.state,a,o,l),this.pendingDiffs.forEach(f=>{this.state=Ao.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:l,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ao.syncDiff(this.state,a,o,l),h())}),this.onJoin((a,o,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:l})}),this.onLeave((a,o,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,a){const o=this.cloneDeep(e),l=this.transformState(i),h={},f={};return this.map(o,(p,v)=>{l[p]||(f[p]=v)}),this.map(l,(p,v)=>{const m=o[p];if(m){const w=v.map(_=>_.presence_ref),x=m.map(_=>_.presence_ref),R=v.filter(_=>x.indexOf(_.presence_ref)<0),T=m.filter(_=>w.indexOf(_.presence_ref)<0);R.length>0&&(h[p]=R),T.length>0&&(f[p]=T)}else h[p]=v}),this.syncDiff(o,{joins:h,leaves:f},r,a)}static syncDiff(e,i,r,a){const{joins:o,leaves:l}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(h,f)=>{var p;const v=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),v.length>0){const m=e[h].map(x=>x.presence_ref),w=v.filter(x=>m.indexOf(x.presence_ref)<0);e[h].unshift(...w)}r(h,v,f)}),this.map(l,(h,f)=>{let p=e[h];if(!p)return;const v=f.map(m=>m.presence_ref);p=p.filter(m=>v.indexOf(m.presence_ref)<0),e[h]=p,a(h,p,f),p.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const a=e[r];return"metas"in a?i[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i[r]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pm;(function(c){c.ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE"})(Pm||(Pm={}));var qm;(function(c){c.BROADCAST="broadcast",c.PRESENCE="presence",c.POSTGRES_CHANGES="postgres_changes",c.SYSTEM="system"})(qm||(qm={}));var Kn;(function(c){c.SUBSCRIBED="SUBSCRIBED",c.TIMED_OUT="TIMED_OUT",c.CLOSED="CLOSED",c.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class bd{constructor(e,i={config:{}},r){this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=zi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Zh(this,wn.join,this.params,this.timeout),this.rejoinTimer=new Yy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zi.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Ao(this),this.broadcastEndpointURL=Xy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,i=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:h}}=this.params;this._onError(v=>e==null?void 0:e(Kn.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Kn.CLOSED));const f={},p={broadcast:o,presence:l,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&a!==void 0?a:[],private:h};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:v})=>{var m;if(this.socket.setAuth(),v===void 0){e==null||e(Kn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,R=[];for(let T=0;T<x;T++){const _=w[T],{filter:{event:E,schema:S,table:A,filter:z}}=_,C=v&&v[T];if(C&&C.event===E&&C.schema===S&&C.table===A&&C.filter===z)R.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=zi.errored,e==null||e(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(Kn.SUBSCRIBED);return}}).receive("error",v=>{this.state=zi.errored,e==null||e(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this._on(e,i,r)}async send(e,i={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,h,f;const p=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(l=this.params)===null||l===void 0?void 0:l.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zi.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const a=new Zh(this,wn.leave,{},e);a.receive("ok",()=>{i(),r("ok")}).receive("timeout",()=>{i(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,i,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(o),l}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Zh(this,e,i,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var a,o;const l=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:v}=wn;if(r&&[h,f,p,v].indexOf(l)>=0&&r!==this._joinRef())return;let w=this._onMessage(l,i,r);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var R,T,_;return((R=x.filter)===null||R===void 0?void 0:R.event)==="*"||((_=(T=x.filter)===null||T===void 0?void 0:T.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(x=>x.callback(w,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var R,T,_,E,S,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const z=x.id,C=(R=x.filter)===null||R===void 0?void 0:R.event;return z&&((T=i.ids)===null||T===void 0?void 0:T.includes(z))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((_=i.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const z=(S=(E=x==null?void 0:x.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return z==="*"||z===((A=i==null?void 0:i.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof w=="object"&&"ids"in w){const R=w.data,{schema:T,table:_,commit_timestamp:E,type:S,errors:A}=R;w=Object.assign(Object.assign({},{schema:T,table:_,commit_timestamp:E,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(R))}x.callback(w,r)})}_isClosed(){return this.state===zi.closed}_isJoined(){return this.state===zi.joined}_isJoining(){return this.state===zi.joining}_isLeaving(){return this.state===zi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const a=e.toLocaleLowerCase(),o={type:a,filter:i,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&bd.isEqual(a.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wn.close,{},e)}_onError(e){this._on(wn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=zm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=zm(e.columns,e.old_record)),i}}const Vm=()=>{},WE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KE{constructor(e,i){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=FE,this.params={},this.timeout=$y,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vm,this.ref=0,this.logger=Vm,this.conn=null,this.sendBuffer=[],this.serializer=new VE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...h)=>Mo(async()=>{const{default:f}=await Promise.resolve().then(()=>fs);return{default:f}},void 0).then(({default:f})=>f(...h)):l=fetch,(...h)=>l(...h)},this.endPoint=`${e}/${Wf.websocket}`,this.httpEndpoint=Xy(e),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),(i!=null&&i.logLevel||i!=null&&i.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const a=(r=i==null?void 0:i.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(o,l)=>l(JSON.stringify(o)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch),i!=null&&i.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(i==null?void 0:i.worker)||!1,this.workerUrl=i==null?void 0:i.workerUrl}this.accessToken=(i==null?void 0:i.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Xf),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new QE(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PE}))}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return aa.Connecting;case ns.open:return aa.Open;case ns.closing:return aa.Closing;default:return aa.Closed}}isConnected(){return this.connectionState()===aa.Open}channel(e,i={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{const o=new bd(`realtime:${e}`,i,this);return this.channels.push(o),o}}push(e){const{topic:i,event:r,payload:a,ref:o}=e,l=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${i} ${r} (${o})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let i=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{i&&r.updateJoinPayload({access_token:i,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(wn.access_token,{access_token:i})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(qE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:r,event:a,payload:o,ref:l}=i;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(i.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${a} ${l&&"("+l+")"||""}`,o),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(a,o,l)),this.stateChangeCallbacks.message.forEach(h=>h(i))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(wn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${r}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([WE],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}}class QE{constructor(e,i,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ns.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class _d extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ci(c){return typeof c=="object"&&c!==null&&"__isStorageError"in c}class JE extends _d{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qf extends _d{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var ex=function(c,e,i,r){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function h(v){try{p(r.next(v))}catch(m){l(m)}}function f(v){try{p(r.throw(v))}catch(m){l(m)}}function p(v){v.done?o(v.value):a(v.value).then(h,f)}p((r=r.apply(c,e||[])).next())})};const Wy=c=>{let e;return c?e=c:typeof fetch>"u"?e=(...i)=>Mo(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},tx=()=>ex(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mo(()=>Promise.resolve().then(()=>fs),void 0)).Response:Response}),Jf=c=>{if(Array.isArray(c))return c.map(i=>Jf(i));if(typeof c=="function"||c!==Object(c))return c;const e={};return Object.entries(c).forEach(([i,r])=>{const a=i.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Jf(r)}),e};var oa=function(c,e,i,r){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function h(v){try{p(r.next(v))}catch(m){l(m)}}function f(v){try{p(r.throw(v))}catch(m){l(m)}}function p(v){v.done?o(v.value):a(v.value).then(h,f)}p((r=r.apply(c,e||[])).next())})};const Xh=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),ix=(c,e,i)=>oa(void 0,void 0,void 0,function*(){const r=yield tx();c instanceof r&&!(i!=null&&i.noResolveJson)?c.json().then(a=>{e(new JE(Xh(a),c.status||500))}).catch(a=>{e(new Qf(Xh(a),a))}):e(new Qf(Xh(c),c))}),nx=(c,e,i,r)=>{const a={method:c,headers:(e==null?void 0:e.headers)||{}};return c==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),i))};function Io(c,e,i,r,a,o){return oa(this,void 0,void 0,function*(){return new Promise((l,h)=>{c(i,nx(e,r,a,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>ix(f,h,r))})})}function du(c,e,i,r){return oa(this,void 0,void 0,function*(){return Io(c,"GET",e,i,r)})}function Nr(c,e,i,r,a){return oa(this,void 0,void 0,function*(){return Io(c,"POST",e,r,a,i)})}function rx(c,e,i,r,a){return oa(this,void 0,void 0,function*(){return Io(c,"PUT",e,r,a,i)})}function ax(c,e,i,r){return oa(this,void 0,void 0,function*(){return Io(c,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function Ky(c,e,i,r,a){return oa(this,void 0,void 0,function*(){return Io(c,"DELETE",e,r,a,i)})}var $i=function(c,e,i,r){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function h(v){try{p(r.next(v))}catch(m){l(m)}}function f(v){try{p(r.throw(v))}catch(m){l(m)}}function p(v){v.done?o(v.value):a(v.value).then(h,f)}p((r=r.apply(c,e||[])).next())})};const sx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ox{constructor(e,i={},r,a){this.url=e,this.headers=i,this.bucketId=r,this.fetch=Wy(a)}uploadOrUpdate(e,i,r,a){return $i(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Hm),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=r,h["cache-control"]=`max-age=${l.cacheControl}`,h["content-type"]=l.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const p=this._removeEmptyFolders(i),v=this._getFinalPath(p),m=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:e,body:o,headers:h},l!=null&&l.duplex?{duplex:l.duplex}:{})),w=yield m.json();return m.ok?{data:{path:p,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(o){if(Ci(o))return{data:null,error:o};throw o}})}upload(e,i,r){return $i(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,a){return $i(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${l}`);h.searchParams.set("token",i);try{let f;const p=Object.assign({upsert:Hm.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",p.cacheControl)):(f=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const m=yield this.fetch(h.toString(),{method:"PUT",body:f,headers:v}),w=yield m.json();return m.ok?{data:{path:o,fullPath:w.Key},error:null}:{data:null,error:w}}catch(f){if(Ci(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,i){return $i(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);i!=null&&i.upsert&&(a["x-upsert"]="true");const o=yield Nr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(this.url+o.url),h=l.searchParams.get("token");if(!h)throw new _d("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:h},error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}update(e,i,r){return $i(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return $i(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ci(a))return{data:null,error:a};throw a}})}copy(e,i,r){return $i(this,void 0,void 0,function*(){try{return{data:{path:(yield Nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ci(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,r){return $i(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield Nr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(a){if(Ci(a))return{data:null,error:a};throw a}})}createSignedUrls(e,i,r){return $i(this,void 0,void 0,function*(){try{const a=yield Nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(a){if(Ci(a))return{data:null,error:a};throw a}})}download(e,i){return $i(this,void 0,void 0,function*(){const a=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),l=o?`?${o}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield du(this.fetch,`${this.url}/${a}/${h}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Ci(h))return{data:null,error:h};throw h}})}info(e){return $i(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield du(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Jf(r),error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}exists(e){return $i(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield ax(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ci(r)&&r instanceof Qf){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),a=[],o=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";o!==""&&a.push(o);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});f!==""&&a.push(f);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return $i(this,void 0,void 0,function*(){try{return{data:yield Ky(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(Ci(i))return{data:null,error:i};throw i}})}list(e,i,r){return $i(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},sx),i),{prefix:e||""});return{data:yield Nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Ci(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const lx="2.7.1",ux={"X-Client-Info":`storage-js/${lx}`};var Ga=function(c,e,i,r){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function h(v){try{p(r.next(v))}catch(m){l(m)}}function f(v){try{p(r.throw(v))}catch(m){l(m)}}function p(v){v.done?o(v.value):a(v.value).then(h,f)}p((r=r.apply(c,e||[])).next())})};class cx{constructor(e,i={},r){this.url=e,this.headers=Object.assign(Object.assign({},ux),i),this.fetch=Wy(r)}listBuckets(){return Ga(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ci(e))return{data:null,error:e};throw e}})}getBucket(e){return Ga(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(Ci(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return Ga(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}updateBucket(e,i){return Ga(this,void 0,void 0,function*(){try{return{data:yield rx(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ga(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Ci(i))return{data:null,error:i};throw i}})}deleteBucket(e){return Ga(this,void 0,void 0,function*(){try{return{data:yield Ky(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(Ci(i))return{data:null,error:i};throw i}})}}class hx extends cx{constructor(e,i={},r){super(e,i,r)}from(e){return new ox(this.url,this.headers,e,this.fetch)}}const fx="2.50.0";let So="";typeof Deno<"u"?So="deno":typeof document<"u"?So="web":typeof navigator<"u"&&navigator.product==="ReactNative"?So="react-native":So="node";const dx={"X-Client-Info":`supabase-js-${So}/${fx}`},px={headers:dx},vx={schema:"public"},gx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mx={};var yx=function(c,e,i,r){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function h(v){try{p(r.next(v))}catch(m){l(m)}}function f(v){try{p(r.throw(v))}catch(m){l(m)}}function p(v){v.done?o(v.value):a(v.value).then(h,f)}p((r=r.apply(c,e||[])).next())})};const bx=c=>{let e;return c?e=c:typeof fetch>"u"?e=Fy:e=fetch,(...i)=>e(...i)},_x=()=>typeof Headers>"u"?Py:Headers,wx=(c,e,i)=>{const r=bx(i),a=_x();return(o,l)=>yx(void 0,void 0,void 0,function*(){var h;const f=(h=yield e())!==null&&h!==void 0?h:c;let p=new a(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",c),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},l),{headers:p}))})};var Ex=function(c,e,i,r){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function h(v){try{p(r.next(v))}catch(m){l(m)}}function f(v){try{p(r.throw(v))}catch(m){l(m)}}function p(v){v.done?o(v.value):a(v.value).then(h,f)}p((r=r.apply(c,e||[])).next())})};function xx(c){return c.endsWith("/")?c:c+"/"}function Sx(c,e){var i,r;const{db:a,auth:o,realtime:l,global:h}=c,{db:f,auth:p,realtime:v,global:m}=e,w={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},p),o),realtime:Object.assign(Object.assign({},v),l),global:Object.assign(Object.assign(Object.assign({},m),h),{headers:Object.assign(Object.assign({},(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ex(this,void 0,void 0,function*(){return""})};return c.accessToken?w.accessToken=c.accessToken:delete w.accessToken,w}const Qy="2.70.0",Ja=30*1e3,ed=3,Wh=ed*Ja,Ax="http://localhost:9999",Cx="supabase.auth.token",kx={"X-Client-Info":`gotrue-js/${Qy}`},td="X-Supabase-Api-Version",Jy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dx=6e5;class wd extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function ut(c){return typeof c=="object"&&c!==null&&"__isAuthError"in c}class Rx extends wd{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function Ox(c){return ut(c)&&c.name==="AuthApiError"}class eb extends wd{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Ir extends wd{constructor(e,i,r,a){super(e,r,a),this.name=i,this.status=r}}class Or extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Nx(c){return ut(c)&&c.name==="AuthSessionMissingError"}class Xl extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wl extends Ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Kl extends Ir{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bx(c){return ut(c)&&c.name==="AuthImplicitGrantRedirectError"}class Gm extends Ir{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class id extends Ir{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Kh(c){return ut(c)&&c.name==="AuthRetryableFetchError"}class $m extends Ir{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class Co extends Ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ym=` 	
\r=`.split(""),Lx=(()=>{const c=new Array(128);for(let e=0;e<c.length;e+=1)c[e]=-1;for(let e=0;e<Ym.length;e+=1)c[Ym[e].charCodeAt(0)]=-2;for(let e=0;e<pu.length;e+=1)c[pu[e].charCodeAt(0)]=e;return c})();function Zm(c,e,i){if(c!==null)for(e.queue=e.queue<<8|c,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(pu[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(pu[r]),e.queuedBits-=6}}function tb(c,e,i){const r=Lx[c];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(c)}"`)}}function Xm(c){const e=[],i=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=l=>{Ix(l,r,i)};for(let l=0;l<c.length;l+=1)tb(c.charCodeAt(l),a,o);return e.join("")}function jx(c,e){if(c<=127){e(c);return}else if(c<=2047){e(192|c>>6),e(128|c&63);return}else if(c<=65535){e(224|c>>12),e(128|c>>6&63),e(128|c&63);return}else if(c<=1114111){e(240|c>>18),e(128|c>>12&63),e(128|c>>6&63),e(128|c&63);return}throw new Error(`Unrecognized Unicode codepoint: ${c.toString(16)}`)}function Mx(c,e){for(let i=0;i<c.length;i+=1){let r=c.charCodeAt(i);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(c.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}jx(r,e)}}function Ix(c,e,i){if(e.utf8seq===0){if(c<=127){i(c);return}for(let r=1;r<6;r+=1)if((c>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=c&31;else if(e.utf8seq===3)e.codepoint=c&15;else if(e.utf8seq===4)e.codepoint=c&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(c<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|c&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Ux(c){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<c.length;a+=1)tb(c.charCodeAt(a),i,r);return new Uint8Array(e)}function zx(c){const e=[];return Mx(c,i=>e.push(i)),new Uint8Array(e)}function Fx(c){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};return c.forEach(a=>Zm(a,i,r)),Zm(null,i,r),e.join("")}function Px(c){return Math.round(Date.now()/1e3)+c}function qx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const e=Math.random()*16|0;return(c=="x"?e:e&3|8).toString(16)})}const bn=()=>typeof window<"u"&&typeof document<"u",na={tested:!1,writable:!1},ko=()=>{if(!bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(na.tested)return na.writable;const c=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(c,c),globalThis.localStorage.removeItem(c),na.tested=!0,na.writable=!0}catch{na.tested=!0,na.writable=!1}return na.writable};function Vx(c){const e={},i=new URL(c);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return i.searchParams.forEach((r,a)=>{e[a]=r}),e}const ib=c=>{let e;return c?e=c:typeof fetch>"u"?e=(...i)=>Mo(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},Hx=c=>typeof c=="object"&&c!==null&&"status"in c&&"ok"in c&&"json"in c&&typeof c.json=="function",nb=async(c,e,i)=>{await c.setItem(e,JSON.stringify(i))},Ql=async(c,e)=>{const i=await c.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Jl=async(c,e)=>{await c.removeItem(e)};class Ou{constructor(){this.promise=new Ou.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Ou.promiseConstructor=Promise;function Qh(c){const e=c.split(".");if(e.length!==3)throw new Co("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Tx.test(e[r]))throw new Co("JWT not in base64url format");return{header:JSON.parse(Xm(e[0])),payload:JSON.parse(Xm(e[1])),signature:Ux(e[2]),raw:{header:e[0],payload:e[1]}}}async function Gx(c){return await new Promise(e=>{setTimeout(()=>e(null),c)})}function $x(c,e){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await c(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){a(l);return}}})()})}function Yx(c){return("0"+c.toString(16)).substr(-2)}function Zx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let a="";for(let o=0;o<56;o++)a+=i.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,Yx).join("")}async function Xx(c){const i=new TextEncoder().encode(c),r=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Wx(c){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),c;const i=await Xx(c);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $a(c,e,i=!1){const r=Zx();let a=r;i&&(a+="/PASSWORD_RECOVERY"),await nb(c,`${e}-code-verifier`,a);const o=await Wx(r);return[o,r===o?"plain":"s256"]}const Kx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qx(c){const e=c.headers.get(td);if(!e||!e.match(Kx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Jx(c){if(!c)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(c<=e)throw new Error("JWT has expired")}function eS(c){switch(c){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ya(c){if(!tS.test(c))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var iS=function(c,e){var i={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(i[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(i[r[a]]=c[r[a]]);return i};const ra=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),nS=[502,503,504];async function Wm(c){var e;if(!Hx(c))throw new id(ra(c),0);if(nS.includes(c.status))throw new id(ra(c),c.status);let i;try{i=await c.json()}catch(o){throw new eb(ra(o),o)}let r;const a=Qx(c);if(a&&a.getTime()>=Jy["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new $m(ra(i),c.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Or}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new $m(ra(i),c.status,i.weak_password.reasons);throw new Rx(ra(i),c.status||500,r)}const rS=(c,e,i,r)=>{const a={method:c,headers:(e==null?void 0:e.headers)||{}};return c==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),i))};async function yt(c,e,i,r){var a;const o=Object.assign({},r==null?void 0:r.headers);o[td]||(o[td]=Jy["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const h=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await aS(c,e,i+h,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function aS(c,e,i,r,a,o){const l=rS(e,r,a,o);let h;try{h=await c(i,Object.assign({},l))}catch(f){throw console.error(f),new id(ra(f),0)}if(h.ok||await Wm(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(f){await Wm(f)}}function Wn(c){var e;let i=null;uS(c)&&(i=Object.assign({},c),c.expires_at||(i.expires_at=Px(c.expires_in)));const r=(e=c.user)!==null&&e!==void 0?e:c;return{data:{session:i,user:r},error:null}}function Km(c){const e=Wn(c);return!e.error&&c.weak_password&&typeof c.weak_password=="object"&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.message&&typeof c.weak_password.message=="string"&&c.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=c.weak_password),e}function Br(c){var e;return{data:{user:(e=c.user)!==null&&e!==void 0?e:c},error:null}}function sS(c){return{data:c,error:null}}function oS(c){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:o}=c,l=iS(c,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:o},f=Object.assign({},l);return{data:{properties:h,user:f},error:null}}function lS(c){return c}function uS(c){return c.access_token&&c.refresh_token&&c.expires_in}const Jh=["global","local","others"];var cS=function(c,e){var i={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&e.indexOf(r)<0&&(i[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(c);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(c,r[a])&&(i[r[a]]=c[r[a]]);return i};class hS{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=ib(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i=Jh[0]){if(Jh.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jh.join(", ")}`);try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Br})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=cS(e,["options"]),a=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:oS,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ut(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Br})}catch(i){if(ut(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,a,o,l,h,f;try{const p={nextPage:null,lastPage:0,total:0},v=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:lS});if(v.error)throw v.error;const m=await v.json(),w=(l=v.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(R=>{const T=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(R.split(";")[1].split("=")[1]);p[`${_}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(ut(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ya(e);try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Br})}catch(i){if(ut(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){Ya(e);try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Br})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){Ya(e);try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Br})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ya(e.userId);try{const{data:i,error:r}=await yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:r}}catch(i){if(ut(i))return{data:null,error:i};throw i}}async _deleteFactor(e){Ya(e.userId),Ya(e.id);try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}}}const fS={getItem:c=>ko()?globalThis.localStorage.getItem(c):null,setItem:(c,e)=>{ko()&&globalThis.localStorage.setItem(c,e)},removeItem:c=>{ko()&&globalThis.localStorage.removeItem(c)}};function Qm(c={}){return{getItem:e=>c[e]||null,setItem:(e,i)=>{c[e]=i},removeItem:e=>{delete c[e]}}}function dS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Za={debug:!!(globalThis&&ko()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pS extends rb{}async function vS(c,e,i){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",c,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Za.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",c)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(c,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",c,a.name);try{return await i()}finally{Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",c,a.name)}}else{if(e===0)throw Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",c),new pS(`Acquiring an exclusive Navigator LockManager lock "${c}" immediately failed`);if(Za.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}dS();const gS={url:Ax,storageKey:Cx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jm(c,e,i){return await i()}class Ro{constructor(e){var i,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ro.nextInstanceID,Ro.nextInstanceID+=1,this.instanceID>0&&bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},gS),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new hS({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ib(a.fetch),this.lock=a.lock||Jm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:bn()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=vS:this.lock=Jm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:ko()?this.storage=fS:(this.memoryStorage={},this.storage=Qm(this.memoryStorage)):(this.memoryStorage={},this.storage=Qm(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=Vx(window.location.href);let r="none";if(this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce"),bn()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:o}=await this._getSessionFromURL(i,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Bx(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",h),await this._saveSession(l),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ut(i)?{error:i}:{error:new eb("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,a;try{const o=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Wn}),{data:l,error:h}=o;if(h||!l)return{data:{user:null,session:null},error:h};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(ut(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var i,r,a;try{let o;if("email"in e){const{email:v,password:m,options:w}=e;let x=null,R=null;this.flowType==="pkce"&&([x,R]=await $a(this.storage,this.storageKey)),o=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:v,password:m,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:R},xform:Wn})}else if("phone"in e){const{phone:v,password:m,options:w}=e;o=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:m,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(a=w==null?void 0:w.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Wn})}else throw new Wl("You must provide either an email or phone number and a password");const{data:l,error:h}=o;if(h||!l)return{data:{user:null,session:null},error:h};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(ut(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let i;if("email"in e){const{email:o,password:l,options:h}=e;i=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Km})}else if("phone"in e){const{phone:o,password:l,options:h}=e;i=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Km})}else throw new Wl("You must provide either an email or phone number and a password");const{data:r,error:a}=i;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,r,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;if(i==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(e){var i,r,a,o,l,h,f,p,v,m,w,x;let R,T;if("message"in e)R=e.message,T=e.signature;else{const{chain:_,wallet:E,statement:S,options:A}=e;let z;if(bn())if(typeof E=="object")z=E;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))z=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=E}const C=new URL((i=A==null?void 0:A.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in z&&z.signIn){const N=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),S?{statement:S}:null));let F;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")F=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)F=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)R=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),T=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${C.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((m=(v=A==null?void 0:A.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||m===void 0)&&m.length?["Resources",...A.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const N=await z.signMessage(new TextEncoder().encode(R),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=N}}try{const{data:_,error:E}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Fx(T)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Wn});if(E)throw E;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Xl}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:E})}catch(_){if(ut(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const i=await Ql(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(i??"").split("/");try{const{data:o,error:l}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wn});if(await Jl(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Xl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:l})}catch(o){if(ut(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:i,provider:r,token:a,access_token:o,nonce:l}=e,h=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Wn}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Xl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,r,a,o,l;try{if("email"in e){const{email:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await $a(this.storage,this.storageKey));const{error:m}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:v}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new Wl("You must provide either an email or phone number.")}catch(h){if(ut(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var i,r;try{let a,o;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:h}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Wn});if(h)throw h;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,p=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(ut(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var i,r,a;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await $a(this.storage,this.storageKey)),await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:sS})}catch(o){if(ut(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new Or;const{error:a}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(ut(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:o}=e,{error:l}=await yt(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:a,options:o}=e,{data:l,error:h}=await yt(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:h}}throw new Wl("You must provide either an email or phone number and a type")}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Wh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,v)=>(!l&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,v))})}return{data:{session:e},error:null}}const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Br}):await this._useSession(async i=>{var r,a,o;const{data:l,error:h}=i;if(h)throw h;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Or}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Br})})}catch(i){if(ut(i))return Nx(i)&&(await this._removeSession(),await Jl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new Or;const l=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await $a(this.storage,this.storageKey));const{data:p,error:v}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:l.access_token,xform:Br});if(v)throw v;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Or;const i=Date.now()/1e3;let r=i,a=!0,o=null;const{payload:l}=Qh(e.access_token);if(l.exp&&(r=l.exp,a=r<=i),a){const{session:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(i){if(ut(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:l,error:h}=i;if(h)throw h;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Or;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!bn())throw new Kl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Kl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gm("No code detected.");const{data:S,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:l,expires_in:h,expires_at:f,token_type:p}=e;if(!o||!h||!l||!p)throw new Kl("No session defined in URL");const v=Math.round(Date.now()/1e3),m=parseInt(h);let w=v+m;f&&(w=parseInt(f));const x=w-v;x*1e3<=Ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const R=w-m;v-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,w,v):v-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,w,v);const{data:T,error:_}=await this._getUser(o);if(_)throw _;const E={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:w,refresh_token:l,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(r){if(ut(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:a,error:o}=i;if(o)return{error:o};const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:h}=await this.admin.signOut(l,e);if(h&&!(Ox(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Jl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=qx(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,a;try{const{data:{session:o},error:l}=i;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,i={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await $a(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(o){if(ut(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:r,error:a}=await this._useSession(async o=>{var l,h,f,p,v;const{data:m,error:w}=o;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return bn()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ut(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,a;const{data:o,error:l}=i;if(l)throw l;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(ut(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await $x(async a=>(a>0&&await Gx(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wn})),(a,o)=>{const l=200*Math.pow(2,a);return o&&Kh(o)&&Date.now()+l-r<Ja})}catch(r){if(this._debug(i,"error",r),ut(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),bn()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Ql(this.storage,this.storageKey);if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Wh;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Wh}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Kh(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new Or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ou;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Or;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={session:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(a,"error",o),ut(o)){const l={session:null,error:o};return Kh(o)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await nb(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Jl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ja);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ja}ms, refresh threshold is ${ed} ticks`),a<=ed&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const a=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await $a(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(h.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:a,error:o}=i;return o?{data:null,error:o}:await yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(ut(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,a;const{data:o,error:l}=i;if(l)return{data:null,error:l};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:p}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(i){if(ut(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:o}=i;if(o)return{data:null,error:o};const{data:l,error:h}=await yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:h})})}catch(i){if(ut(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:o}=i;return o?{data:null,error:o}:await yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(ut(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const r=(e==null?void 0:e.factors)||[],a=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,r;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Qh(a.access_token);let h=null;l.aal&&(h=l.aal);let f=h;((r=(i=a.user.factors)===null||i===void 0?void 0:i.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const v=l.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(l=>l.kid===e);if(r||(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Dx>Date.now()))return r;const{data:a,error:o}=await yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new Co("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(l=>l.kid===e),!r)throw new Co("No matching signing key found in JWKS");return r}async getClaims(e,i={keys:[]}){try{let r=e;if(!r){const{data:x,error:R}=await this.getSession();if(R||!x.session)return{data:null,error:R};r=x.session.access_token}const{header:a,payload:o,signature:l,raw:{header:h,payload:f}}=Qh(r);if(Jx(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:a,signature:l},error:null}}const p=eS(a.alg),v=await this.fetchJwk(a.kid,i),m=await crypto.subtle.importKey("jwk",v,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,zx(`${h}.${f}`)))throw new Co("Invalid JWT signature");return{data:{claims:o,header:a,signature:l},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}}Ro.nextInstanceID=0;const mS=Ro;class yS extends mS{constructor(e){super(e)}}var bS=function(c,e,i,r){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function h(v){try{p(r.next(v))}catch(m){l(m)}}function f(v){try{p(r.throw(v))}catch(m){l(m)}}function p(v){v.done?o(v.value):a(v.value).then(h,f)}p((r=r.apply(c,e||[])).next())})};class _S{constructor(e,i,r){var a,o,l;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const h=xx(e),f=new URL(h);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,v={db:vx,realtime:mx,auth:Object.assign(Object.assign({},gx),{storageKey:p}),global:px},m=Sx(r??{},v);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=wx(i,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new UE(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new CE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hx(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},r={}){return this.rest.rpc(e,i,r)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return bS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(i=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:a,storageKey:o,flowType:l,lock:h,debug:f},p,v){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yS({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),p),storageKey:o,autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:a,flowType:l,lock:h,debug:f,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new KE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,i,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wS=(c,e,i)=>new _S(c,e,i);function ES(){const c=Lo(),[e,i]=te.useState([]),[r,a]=te.useState(null),[o,l]=te.useState(!1),[h,f]=te.useState(!1),[p,v]=te.useState(null),[m,w]=te.useState(null),[x,R]=te.useState(null),[T,_]=te.useState(null),[E,S]=te.useState(null),[A,z]=te.useState(null),[C,N]=te.useState(null),[F,V]=te.useState(""),{usuario:I,loading:H,setUsuario:le}=Au(),{generos:W,generosLoading:pe}=py(),[ke,me]=te.useState(!1),[K,re]=te.useState([]),[ce,Ae]=te.useState([]),[G,M]=te.useState(!0),[oe,ye]=te.useState(null),[xe,Ue]=te.useState(null),{livros:ze,livrosLoading:tt,setUpdateLivro:Me}=yy();te.useEffect(()=>{const de=localStorage.getItem("carrinho");de&&Ae(JSON.parse(de))},[]),te.useEffect(()=>{localStorage.setItem("carrinho",JSON.stringify(ce))},[ce]);const[it,St]=te.useState([]),[Ze,ot]=te.useState(it);te.useEffect(()=>{I&&St(I.livros)},[I]),te.useEffect(()=>{it&&ot(it)},[it]),te.useEffect(()=>{const de=setTimeout(()=>i(Ye=>Ye.slice(1)),36e5);return()=>clearTimeout(de)},[e]),te.useEffect(()=>{I&&I.livros.length&&nt(`Sua compra do livro ${I.livros[I.livros.length-1].titulo} foi realizada com sucesso`,"/img/LivroIcone.png")},[I]),te.useEffect(()=>{ze&&nt("Livros novos chegando na área, venha conferir os lançamentos da semana.","/img/NewIcone.png")},[ze]);function nt(de,Ye){i(wt=>wt.some(Pt=>Pt.message===de)?wt:[...wt,{message_id:Date.now(),message:de,typePhoto:Ye}])}function lt(de=""){ot(it.filter(Ye=>Ye.titulo.toLowerCase().includes(de)))}async function Ot(){try{(await fetch(`https://webook-8d4j.onrender.com/api/livro/${xe}`,{method:"DELETE",headers:{Authorization:`Bearer ${I.token}`}})).status==200?Me(!0):a("error-delete")}catch(de){console.error("Erro ao deletar o perfil: "+de)}}async function bt(){try{(await fetch(`https://webook-8d4j.onrender.com/api/usuario/${I.email}/${oe}`,{method:"DELETE",headers:{Authorization:`Bearer ${I.token}`}})).status==200?(le(null),c("/")):a("error-delete")}catch(de){console.error("Erro ao deletar o perfil: "+de)}}async function Ke(){if(!T)return;const de=new FormData;de.append("image",T),de.append("key","02649a0bafaed4123cfcc89e63003b10");try{return await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:de})).json()}catch(Ye){console.error("Erro de rede:",Ye)}}async function Ft(){const de=wS("https://uryeqjptemdyznogbeus.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVyeWVxanB0ZW1keXpub2diZXVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzMDI4OTcsImV4cCI6MjA2NDg3ODg5N30.h-xARu8XNys8En6VbKaH_hiBO-oBRPOzUxkgSh3dOPw"),{data:Ye,error:wt}=await de.storage.from("ebooks").upload(`epubs/${Date.now()}-${A.name}`,A);return wt?null:`https://uryeqjptemdyznogbeus.supabase.co/storage/v1/object/public/ebooks/${Ye.path}`}async function Kt(){const de=x||I.nome,Ye=m||null;let wt=I.caminhoFoto;if(T&&(wt=(await Ke()).data.url),(await fetch("https://webook-8d4j.onrender.com/api/usuario",{method:"PUT",body:JSON.stringify({nome:de,email:I.email,senhaAtual:p,senhaNova:Ye,caminhoFoto:wt}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${I.token}`}})).status==401){M(!1);return}M(!0),le({nome:de,email:I.email,senha:Ye,caminhoFoto:wt,livros:I.livros,token:I.token}),a(null)}function kt(de){const{name:Ye,value:wt}=de.target;N(Pt=>({...Pt,[Ye]:wt}))}async function $e(){if(!E)return!1;const de=new FormData;de.append("image",E),de.append("key","02649a0bafaed4123cfcc89e63003b10");try{return await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:de})).json()}catch(Ye){console.error("Erro de rede: ",Ye)}}async function Je(){const de=await $e(),Ye=await Ft();if(!de||!Ye)return;const wt=C.autor.trim().split(" ")[0],Pt=C.autor.trim().split(" ").slice(1).join(" "),jt=(await(await fetch("https://webook-8d4j.onrender.com/api/autor",{method:"POST",body:JSON.stringify({nome:wt.toUpperCase(),sobrenome:Pt.toUpperCase()}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${I.token}`}})).json()).autor_id,yi=(await(await fetch("https://webook-8d4j.onrender.com/api/editora",{method:"POST",body:JSON.stringify({nome:C.editora.toUpperCase()}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${I.token}`}})).json()).editora_id,Mt={isbn:C.isbn,titulo:C.titulo,sinopse:C.sinopse,numeroPaginas:parseInt(C.numeroPaginas),preco:parseFloat(C.preco),classificacaoIndicativa:C.classificacaoIndicativa,caminhoLivro:de.data.url,generos_id:K,autor_id:jt,editora_id:yi,caminhoEbook:Ye};re([]),console.log(Mt);try{(await fetch("https://webook-8d4j.onrender.com/api/livro",{method:"POST",body:JSON.stringify(Mt),headers:{"Content-Type":"application/json",Authorization:`Bearer ${I.token}`}})).status==201?(Me(!0),a("livro-criado")):a("livro-error")}catch(Qt){console.error("Erro de rede: ",Qt)}}return I?O.jsxs("div",{children:[O.jsxs("header",{className:"container",id:"header",children:[O.jsxs(as,{to:"/",id:"logo",children:[O.jsx("span",{children:"W"}),"e",O.jsx("span",{children:"B"}),"ook"]}),O.jsxs("div",{id:"input-wrapper",children:[O.jsx("input",{type:"text",id:"searchInput",placeholder:"pesquise seu livro",autoComplete:"on",onKeyUp:de=>{if(de.key=="Enter"){const Ye=de.currentTarget.value.toLowerCase();lt(Ye)}}}),O.jsx("img",{src:"/img/Search.svg",className:"search-icon",onClick:()=>{const de=document.getElementById("searchInput").value.toLowerCase();lt(de)}})]}),O.jsxs("div",{id:"symbols",children:[O.jsx("a",{href:"#",children:O.jsx("img",{src:"/img/Cart.svg",alt:"Carrinho",onClick:()=>{I?(document.body.style.overflow="hidden",a("shopping")):a("login")}})}),O.jsx("a",{href:"#",children:O.jsx("img",{src:"/img/Notification.svg",alt:"Notificações",onClick:()=>{I?(document.body.style.overflow="hidden",a("notifications")):a("login")}})}),O.jsx("a",{href:"#",children:O.jsx("img",{src:"/img/Settings.svg",alt:"Configurações",onClick:()=>{a("config")}})})]}),r=="edit-perfil"&&O.jsxs("div",{className:"modal",id:"cadastro-bg",onClick:()=>a(null),children:[O.jsx("img",{src:"/img/Close.svg",onClick:()=>a(null)}),O.jsxs("form",{className:"modal-content",id:"cadastro",onClick:de=>de.stopPropagation(),children:[O.jsx("h3",{children:"Alterar dados"}),O.jsx("div",{id:"container-flex",children:O.jsx("p",{className:"protect",children:"Dados pessoais criptografados."})}),O.jsx("label",{htmlFor:"pastPassword",children:"Insira sua senha atual"}),O.jsx("input",{type:"password",id:"pastPassword",autoComplete:"current-password",onChange:de=>{v(de.target.value)}}),!G&&O.jsx("p",{children:"Senha Incorreta"}),O.jsxs("div",{id:"checkbox-wrapper",children:[O.jsx("input",{type:"checkbox",id:"optionUsername",checked:h,onChange:()=>{f(!h)}}),O.jsx("span",{id:"checkmark",onClick:()=>{f(!h)}}),O.jsx("label",{htmlFor:"optionUsername",children:"Deseja alterar seu nome de usuário?"})]}),O.jsx("label",{htmlFor:"newUsername",children:"Insira seu novo nome de usuário"}),O.jsx("input",{type:"text",id:"newUsername",autoComplete:"newUsername",disabled:!h,onChange:de=>{R(de.target.value)}}),O.jsxs("div",{id:"checkbox-wrapper",children:[O.jsx("input",{type:"checkbox",id:"optionPassword",checked:!o,onChange:()=>{l(!o)}}),O.jsx("span",{id:"checkmark",onClick:()=>{l(!o)}}),O.jsx("label",{htmlFor:"optionPassword",children:"Deseja alterar sua senha?"})]}),O.jsx("label",{htmlFor:"newPassword",children:"Insira sua nova senha"}),O.jsx("input",{type:"password",id:"newPassword",autoComplete:"newPassword",disabled:o,onChange:de=>{/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+=[\]{}|;:'",.<>?/`~-])(?!.*\s).{8,}$/.test(de.target.value)?me(!1):me(!0),w(de.target.value)}}),ke&&!o&&O.jsx("p",{children:"A senha deve conter 8 caracteres, maiúsculas, minúsculas, números e símbolos!"}),O.jsx("label",{htmlFor:"file-upload",children:"Escolha uma foto de perfil"}),O.jsxs("div",{className:"flex-upload",children:[O.jsx("label",{htmlFor:"file-upload",className:"custom-file-upload",children:"Escolher imagem"}),T&&O.jsx("p",{children:T.name})]}),O.jsx("input",{type:"file",accept:".jpg, .jpeg, .png, .gif, .bmp, .webp, .tiff, .ico",id:"file-upload",onChange:de=>_(de.target.files[0])}),O.jsx("button",{type:"submit",onClick:async de=>{de.preventDefault(),de.target.classList.add("inative"),de.currentTarget.innerText="Carregando",await Kt(),de.target.classList.remove("inative")},children:"Atualizar os dados"})]})]}),r=="config"&&O.jsx("div",{className:"modal config",id:"cadastro-bg",onClick:()=>a(null),children:O.jsxs("div",{className:"modal-content",onClick:de=>de.stopPropagation(),children:[O.jsxs("span",{onClick:()=>{a("cadastro-livro"),document.body.style.overflow="hidden"},children:[O.jsx("img",{src:"/img/ConfigBook.svg",alt:""}),O.jsx("p",{children:"adicionar livro"})]}),O.jsxs("span",{onClick:()=>{a("excluir-conta")},children:[O.jsx("img",{src:"/img/Delete.svg",alt:""}),O.jsx("p",{children:"excluir livro "})]}),O.jsxs("span",{onClick:()=>{a("excluir-livro")},children:[O.jsx("img",{src:"/img/Delete.svg",alt:""}),O.jsx("p",{children:"excluir conta "})]}),O.jsxs("span",{onClick:()=>{le(null),c("/")},children:[O.jsx("img",{src:"/img/Logout.svg",alt:""}),O.jsx("p",{children:"sair "})]})]})}),r=="excluir-conta"&&O.jsxs("div",{className:"modal",onClick:()=>a(null),children:[O.jsx("img",{src:"/img/Close.svg",onClick:()=>a(null)}),O.jsxs("div",{className:"modal-content delete",onClick:de=>de.stopPropagation(),children:[O.jsx("span",{}),O.jsx("h3",{children:"Tem certeza que deseja excluir seu perfil?"}),O.jsx("p",{children:"Todos os dados da sua conta serão perdidos, inclusive seus livros comprados, marcados como favorito e não serão reembolsados."}),O.jsx("label",{htmlFor:"passwordDelete",children:"Insira sua senha"}),O.jsx("input",{type:"password",name:"passwordDelete",onChange:de=>{ye(de.target.value)}}),O.jsxs("div",{children:[O.jsx("a",{href:"#",onClick:()=>a(null),children:"Voltar"}),O.jsx("a",{href:"#",onClick:()=>{bt(),a(null)},children:"Excluir perfil"})]})]})]}),r=="excluir-conta"&&O.jsxs("div",{className:"modal",onClick:()=>a(null),children:[O.jsx("img",{src:"/img/Close.svg",onClick:()=>a(null)}),O.jsxs("div",{className:"modal-content delete",onClick:de=>de.stopPropagation(),children:[O.jsx("span",{}),O.jsx("h3",{children:"Tem certeza que deseja excluir seu livro?"}),O.jsx("p",{children:"Não será possível novas compras do livro mas os leitores atuais continuarão a ter acesso a ele."}),O.jsx("label",{htmlFor:"isbnDelete",children:"Insira a isbn do livro"}),O.jsx(Tm,{mask:"000-0-00-000000-0",definitions:{0:/[0-9]/},value:xe,unmask:!1,id:"isbn",onAccept:de=>Ue(de),name:"isbnDelete",maxLength:17,required:!0}),O.jsxs("div",{children:[O.jsx("a",{href:"#",onClick:()=>a(null),children:"Voltar"}),O.jsx("a",{href:"#",onClick:()=>{Ot(),a(null)},children:"Excluir livro"})]})]})]}),r=="cadastro-livro"&&O.jsx("div",{className:"modal",id:"cadastro-bg",onClick:()=>{a(null),document.body.style.overflow="auto"},children:O.jsxs("form",{className:"modal-content",id:"cadastro",onClick:de=>de.stopPropagation(),children:[O.jsx("h3",{children:"Cadastrar livros"}),O.jsx("div",{id:"container-flex",children:O.jsx("p",{className:"protect",children:"Dados pessoais criptografados."})}),O.jsx("label",{htmlFor:"isbn",children:"Preencha a isbn"}),O.jsx(Tm,{mask:"000-0-00-000000-0",definitions:{0:/[0-9]/},value:F,unmask:!1,id:"isbn",onAccept:de=>V(de),onChange:kt,name:"isbn",maxLength:17,required:!0}),O.jsx("label",{htmlFor:"titulo",children:"Preencha o título"}),O.jsx("input",{type:"text",id:"titulo",onChange:kt,name:"titulo",required:!0}),O.jsx("label",{htmlFor:"sinopse",children:"Preencha a sinopse"}),O.jsx("input",{type:"text",id:"sinopse",onChange:kt,name:"sinopse",required:!0}),O.jsx("label",{htmlFor:"numeroPaginas",children:"Preencha o número de páginas"}),O.jsx("input",{type:"number",id:"numeroPaginas",onChange:kt,name:"numeroPaginas",required:!0}),O.jsx("label",{htmlFor:"preco",children:"Preencha o preço"}),O.jsx("input",{type:"text",id:"preco",onChange:kt,name:"preco",required:!0}),O.jsxs("div",{className:"flex-upload",children:[O.jsx("label",{htmlFor:"capa",className:"custom-file-upload",children:"Envie a foto da capa"}),E&&O.jsx("p",{children:E.name}),!E&&O.jsx("p",{children:"Escolha a imagem do livro"})]}),O.jsx("input",{type:"file",accept:".jpg, .jpeg, .png, .gif, .bmp, .webp, .tiff, .ico",name:"capa",id:"capa",onChange:de=>S(de.target.files[0])}),O.jsx("label",{htmlFor:"classificacao",children:"Preencha a classificação indicativa"}),O.jsxs("select",{default:"",name:"classificacaoIndicativa",id:"classificacao",onChange:de=>{document.getElementById("defaultClassification").setAttribute("disabled",!0),kt(de)},required:!0,children:[O.jsx("option",{value:"",id:"defaultClassification"}),O.jsx("option",{value:"LIVRE",children:"Livre"}),O.jsx("option",{value:"DEZ",children:"10+"}),O.jsx("option",{value:"DOZE",children:"12+"}),O.jsx("option",{value:"QUATORZE",children:"14+"}),O.jsx("option",{value:"DEZESSEIS",children:"16+"}),O.jsx("option",{value:"DEZOITO",children:"18+"})]}),O.jsx("label",{htmlFor:"autor",children:"Preencha o nome e sobrenome do autor"}),O.jsx("input",{type:"text",id:"autor",name:"autor",onChange:kt,required:!0}),O.jsx("label",{htmlFor:"editora",children:"Preencha o nome da editora"}),O.jsx("input",{type:"text",id:"editora",name:"editora",onChange:kt,required:!0}),O.jsxs("div",{className:"flex-upload",children:[O.jsx("label",{htmlFor:"epub",className:"custom-file-upload",children:"Envie o livro em epub"}),A&&O.jsx("p",{children:A.name}),!A&&O.jsx("p",{children:"Escolha o arquivo do livro"})]}),O.jsx("input",{type:"file",accept:".epub",name:"epub",id:"epub",onChange:de=>z(de.target.files[0])}),O.jsx("label",{htmlFor:"generos",children:"Selecione os gêneros do livro"}),O.jsx("div",{id:"flex-generos",children:W.map(de=>de==W[0]?null:O.jsxs("label",{className:"generos",children:[O.jsx("input",{type:"checkbox",value:de.genero_id,onChange:Ye=>{Ye.target.checked?re([...K,Ye.target.value]):re(K.filter(wt=>wt!=Ye.target.value))}}),de.nome]},de.genero_id))}),O.jsx("button",{type:"submit",onClick:async de=>{de.preventDefault(),E&&(de.target.classList.add("inative"),de.target.innerText="Carregando",await Je(),de.target.classList.remove("inative"))},children:"Cadastrar livro"})]})}),r=="shopping"&&O.jsx("div",{className:"modal",id:"shopping",onClick:()=>{a(null),document.body.style.overflow="auto"},children:O.jsxs("div",{className:"modal-content",onClick:de=>de.stopPropagation(),children:[O.jsx("p",{children:ce.length?"Produtos adicionados recentemente":"O carrinho está vazio"}),O.jsx("div",{children:ce.length!=0&&O.jsx("ul",{children:ce.map(de=>O.jsxs("li",{children:[O.jsx("img",{src:de.caminhoLivro,alt:"Capa do livro "+de.titulo}),O.jsx("p",{id:"titulo",children:de.titulo}),O.jsx("p",{children:de.preco.toFixed(2)}),O.jsx("img",{id:"remove",src:"/img/Remove.svg",alt:"Remover livro",onClick:()=>{Ae(Ye=>Ye.filter(wt=>wt.livro_id!=de.livro_id))}})]},de.livro_id))})}),O.jsx("a",{id:"more",children:ce.length?"Comprar agora":"Adicione produtos ao carrinho"})]})}),r=="notifications"&&O.jsx("div",{className:"modal",id:"notifications",onClick:()=>{a(null),document.body.style.overflow="auto"},children:O.jsxs("div",{className:"modal-content",onClick:de=>de.stopPropagation(),children:[O.jsx("p",{children:e.length?"Notificações recebidas recentemente":"Você não tem notificações recentes"}),O.jsx("div",{children:O.jsx("ul",{children:e.map(de=>O.jsxs("li",{children:[O.jsx("img",{src:de.typePhoto,alt:"Ícone de mensagem"}),O.jsx("p",{children:de.message})]},de.message_id))})})]})})]}),O.jsxs("main",{children:[O.jsx("img",{src:I.caminhoFoto?I.caminhoFoto:"/img/UserDefaultBigger.png"}),O.jsx("h2",{children:I.nome?I.nome:"userDeafultName"}),O.jsx("p",{children:I.email}),O.jsx("a",{href:"#",onClick:de=>{de.preventDefault(),a("edit-perfil")},children:"Editar"})]}),O.jsxs("article",{"aria-labelledby":"livros",id:"booksUser",children:[O.jsx("h2",{children:"Minha Coleção"}),O.jsx("p",{children:"Livros comprados"}),Ze.length?O.jsx("ul",{children:Ze.map(de=>O.jsx("li",{children:O.jsx("div",{href:"#",onClick:()=>{console.log(de),c("/livro",{state:de})},children:O.jsx("img",{src:de.caminhoLivro})})},de.livro_id))}):O.jsx("h2",{id:"no-books",children:"Seus livros estarão disponíveis aqui"})]}),O.jsx(_y,{}),O.jsx(by,{})]}):O.jsx(Dw,{to:"/"})}var eu={exports:{}},ef={exports:{}},tf,e0;function ab(){if(e0)return tf;e0=1;var c=void 0;return tf=function(e){return e!==c&&e!==null},tf}var nf,t0;function xS(){if(t0)return nf;t0=1;var c=ab(),e={object:!0,function:!0,undefined:!0};return nf=function(i){return c(i)?hasOwnProperty.call(e,typeof i):!1},nf}var rf,i0;function SS(){if(i0)return rf;i0=1;var c=xS();return rf=function(e){if(!c(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},rf}var af,n0;function AS(){if(n0)return af;n0=1;var c=SS();return af=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!c(e)},af}var sf,r0;function CS(){if(r0)return sf;r0=1;var c=AS(),e=/^\s*class[\s{/}]/,i=Function.prototype.toString;return sf=function(r){return!(!c(r)||e.test(i.call(r)))},sf}var of,a0;function kS(){return a0||(a0=1,of=function(){var c=Object.assign,e;return typeof c!="function"?!1:(e={foo:"raz"},c(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),of}var lf,s0;function TS(){return s0||(s0=1,lf=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),lf}var uf,o0;function DS(){return o0||(o0=1,uf=function(){}),uf}var cf,l0;function Ed(){if(l0)return cf;l0=1;var c=DS()();return cf=function(e){return e!==c&&e!==null},cf}var hf,u0;function RS(){if(u0)return hf;u0=1;var c=Ed(),e=Object.keys;return hf=function(i){return e(c(i)?Object(i):i)},hf}var ff,c0;function OS(){return c0||(c0=1,ff=TS()()?Object.keys:RS()),ff}var df,h0;function NS(){if(h0)return df;h0=1;var c=Ed();return df=function(e){if(!c(e))throw new TypeError("Cannot use null or undefined");return e},df}var pf,f0;function BS(){if(f0)return pf;f0=1;var c=OS(),e=NS(),i=Math.max;return pf=function(r,a){var o,l,h=i(arguments.length,2),f;for(r=Object(e(r)),f=function(p){try{r[p]=a[p]}catch(v){o||(o=v)}},l=1;l<h;++l)a=arguments[l],c(a).forEach(f);if(o!==void 0)throw o;return r},pf}var vf,d0;function LS(){return d0||(d0=1,vf=kS()()?Object.assign:BS()),vf}var gf,p0;function jS(){if(p0)return gf;p0=1;var c=Ed(),e=Array.prototype.forEach,i=Object.create,r=function(a,o){var l;for(l in a)o[l]=a[l]};return gf=function(a){var o=i(null);return e.call(arguments,function(l){c(l)&&r(Object(l),o)}),o},gf}var mf,v0;function MS(){if(v0)return mf;v0=1;var c="razdwatrzy";return mf=function(){return typeof c.contains!="function"?!1:c.contains("dwa")===!0&&c.contains("foo")===!1},mf}var yf,g0;function IS(){if(g0)return yf;g0=1;var c=String.prototype.indexOf;return yf=function(e){return c.call(this,e,arguments[1])>-1},yf}var bf,m0;function US(){return m0||(m0=1,bf=MS()()?String.prototype.contains:IS()),bf}var y0;function zS(){if(y0)return ef.exports;y0=1;var c=ab(),e=CS(),i=LS(),r=jS(),a=US(),o=ef.exports=function(l,h){var f,p,v,m,w;return arguments.length<2||typeof l!="string"?(m=h,h=l,l=null):m=arguments[2],c(l)?(f=a.call(l,"c"),p=a.call(l,"e"),v=a.call(l,"w")):(f=v=!0,p=!1),w={value:h,configurable:f,enumerable:p,writable:v},m?i(r(m),w):w};return o.gs=function(l,h,f){var p,v,m,w;return typeof l!="string"?(m=f,f=h,h=l,l=null):m=arguments[3],c(h)?e(h)?c(f)?e(f)||(m=f,f=void 0):f=void 0:(m=h,h=f=void 0):h=void 0,c(l)?(p=a.call(l,"c"),v=a.call(l,"e")):(p=!0,v=!1),w={get:h,set:f,configurable:p,enumerable:v},m?i(r(m),w):w},ef.exports}var _f,b0;function FS(){return b0||(b0=1,_f=function(c){if(typeof c!="function")throw new TypeError(c+" is not a function");return c}),_f}var _0;function PS(){return _0||(_0=1,function(c,e){var i=zS(),r=FS(),a=Function.prototype.apply,o=Function.prototype.call,l=Object.create,h=Object.defineProperty,f=Object.defineProperties,p=Object.prototype.hasOwnProperty,v={configurable:!0,enumerable:!1,writable:!0},m,w,x,R,T,_,E;m=function(S,A){var z;return r(A),p.call(this,"__ee__")?z=this.__ee__:(z=v.value=l(null),h(this,"__ee__",v),v.value=null),z[S]?typeof z[S]=="object"?z[S].push(A):z[S]=[z[S],A]:z[S]=A,this},w=function(S,A){var z,C;return r(A),C=this,m.call(this,S,z=function(){x.call(C,S,z),a.call(A,this,arguments)}),z.__eeOnceListener__=A,this},x=function(S,A){var z,C,N,F;if(r(A),!p.call(this,"__ee__"))return this;if(z=this.__ee__,!z[S])return this;if(C=z[S],typeof C=="object")for(F=0;N=C[F];++F)(N===A||N.__eeOnceListener__===A)&&(C.length===2?z[S]=C[F?0:1]:C.splice(F,1));else(C===A||C.__eeOnceListener__===A)&&delete z[S];return this},R=function(S){var A,z,C,N,F;if(p.call(this,"__ee__")&&(N=this.__ee__[S],!!N))if(typeof N=="object"){for(z=arguments.length,F=new Array(z-1),A=1;A<z;++A)F[A-1]=arguments[A];for(N=N.slice(),A=0;C=N[A];++A)a.call(C,this,F)}else switch(arguments.length){case 1:o.call(N,this);break;case 2:o.call(N,this,arguments[1]);break;case 3:o.call(N,this,arguments[1],arguments[2]);break;default:for(z=arguments.length,F=new Array(z-1),A=1;A<z;++A)F[A-1]=arguments[A];a.call(N,this,F)}},T={on:m,once:w,off:x,emit:R},_={on:i(m),once:i(w),off:i(x),emit:i(R)},E=f({},_),c.exports=e=function(S){return S==null?l(E):f(Object(S),_)},e.methods=T}(eu,eu.exports)),eu.exports}var qS=PS();const Bn=rr(qS);var _o={},Xn={},Xa={},w0;function Nu(){if(w0)return Xa;w0=1;function c(a,o,l){if(l===void 0&&(l=Array.prototype),a&&typeof l.find=="function")return l.find.call(a,o);for(var h=0;h<a.length;h++)if(Object.prototype.hasOwnProperty.call(a,h)){var f=a[h];if(o.call(void 0,f,h,a))return f}}function e(a,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(a):a}var i=e({HTML:"text/html",isHTML:function(a){return a===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Xa.find=c,Xa.freeze=e,Xa.MIME_TYPE=i,Xa.NAMESPACE=r,Xa}var E0;function sb(){if(E0)return Xn;E0=1;var c=Nu(),e=c.find,i=c.NAMESPACE;function r(y){return y!==""}function a(y){return y?y.split(/[\t\n\f\r ]+/).filter(r):[]}function o(y,D){return y.hasOwnProperty(D)||(y[D]=!0),y}function l(y){if(!y)return[];var D=a(y);return Object.keys(D.reduce(o,{}))}function h(y){return function(D){return y&&y.indexOf(D)!==-1}}function f(y,D){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(D[q]=y[q])}function p(y,D){var q=y.prototype;if(!(q instanceof D)){let Y=function(){};var b=Y;Y.prototype=D.prototype,Y=new Y,f(q,Y),y.prototype=q=Y}q.constructor!=y&&(typeof y!="function"&&console.error("unknown Class:"+y),q.constructor=y)}var v={},m=v.ELEMENT_NODE=1,w=v.ATTRIBUTE_NODE=2,x=v.TEXT_NODE=3,R=v.CDATA_SECTION_NODE=4,T=v.ENTITY_REFERENCE_NODE=5,_=v.ENTITY_NODE=6,E=v.PROCESSING_INSTRUCTION_NODE=7,S=v.COMMENT_NODE=8,A=v.DOCUMENT_NODE=9,z=v.DOCUMENT_TYPE_NODE=10,C=v.DOCUMENT_FRAGMENT_NODE=11,N=v.NOTATION_NODE=12,F={},V={};F.INDEX_SIZE_ERR=(V[1]="Index size error",1),F.DOMSTRING_SIZE_ERR=(V[2]="DOMString size error",2);var I=F.HIERARCHY_REQUEST_ERR=(V[3]="Hierarchy request error",3);F.WRONG_DOCUMENT_ERR=(V[4]="Wrong document",4),F.INVALID_CHARACTER_ERR=(V[5]="Invalid character",5),F.NO_DATA_ALLOWED_ERR=(V[6]="No data allowed",6),F.NO_MODIFICATION_ALLOWED_ERR=(V[7]="No modification allowed",7);var H=F.NOT_FOUND_ERR=(V[8]="Not found",8);F.NOT_SUPPORTED_ERR=(V[9]="Not supported",9);var le=F.INUSE_ATTRIBUTE_ERR=(V[10]="Attribute in use",10);F.INVALID_STATE_ERR=(V[11]="Invalid state",11),F.SYNTAX_ERR=(V[12]="Syntax error",12),F.INVALID_MODIFICATION_ERR=(V[13]="Invalid modification",13),F.NAMESPACE_ERR=(V[14]="Invalid namespace",14),F.INVALID_ACCESS_ERR=(V[15]="Invalid access",15);function W(y,D){if(D instanceof Error)var q=D;else q=this,Error.call(this,V[y]),this.message=V[y],Error.captureStackTrace&&Error.captureStackTrace(this,W);return q.code=y,D&&(this.message=this.message+": "+D),q}W.prototype=Error.prototype,f(F,W);function pe(){}pe.prototype={length:0,item:function(y){return y>=0&&y<this.length?this[y]:null},toString:function(y,D){for(var q=[],b=0;b<this.length;b++)Ee(this[b],q,y,D);return q.join("")},filter:function(y){return Array.prototype.filter.call(this,y)},indexOf:function(y){return Array.prototype.indexOf.call(this,y)}};function ke(y,D){this._node=y,this._refresh=D,me(this)}function me(y){var D=y._node._inc||y._node.ownerDocument._inc;if(y._inc!==D){var q=y._refresh(y._node);if(Q(y,"length",q.length),!y.$$length||q.length<y.$$length)for(var b=q.length;b in y;b++)Object.prototype.hasOwnProperty.call(y,b)&&delete y[b];f(q,y),y._inc=D}}ke.prototype.item=function(y){return me(this),this[y]||null},p(ke,pe);function K(){}function re(y,D){for(var q=y.length;q--;)if(y[q]===D)return q}function ce(y,D,q,b){if(b?D[re(D,b)]=q:D[D.length++]=q,y){q.ownerElement=y;var Y=y.ownerDocument;Y&&(b&&ze(Y,y,b),Ue(Y,y,q))}}function Ae(y,D,q){var b=re(D,q);if(b>=0){for(var Y=D.length-1;b<Y;)D[b]=D[++b];if(D.length=Y,y){var ie=y.ownerDocument;ie&&(ze(ie,y,q),q.ownerElement=null)}}else throw new W(H,new Error(y.tagName+"@"+q))}K.prototype={length:0,item:pe.prototype.item,getNamedItem:function(y){for(var D=this.length;D--;){var q=this[D];if(q.nodeName==y)return q}},setNamedItem:function(y){var D=y.ownerElement;if(D&&D!=this._ownerElement)throw new W(le);var q=this.getNamedItem(y.nodeName);return ce(this._ownerElement,this,y,q),q},setNamedItemNS:function(y){var D=y.ownerElement,q;if(D&&D!=this._ownerElement)throw new W(le);return q=this.getNamedItemNS(y.namespaceURI,y.localName),ce(this._ownerElement,this,y,q),q},removeNamedItem:function(y){var D=this.getNamedItem(y);return Ae(this._ownerElement,this,D),D},removeNamedItemNS:function(y,D){var q=this.getNamedItemNS(y,D);return Ae(this._ownerElement,this,q),q},getNamedItemNS:function(y,D){for(var q=this.length;q--;){var b=this[q];if(b.localName==D&&b.namespaceURI==y)return b}return null}};function G(){}G.prototype={hasFeature:function(y,D){return!0},createDocument:function(y,D,q){var b=new xe;if(b.implementation=this,b.childNodes=new pe,b.doctype=q||null,q&&b.appendChild(q),D){var Y=b.createElementNS(y,D);b.appendChild(Y)}return b},createDocumentType:function(y,D,q){var b=new _t;return b.name=y,b.nodeName=y,b.publicId=D||"",b.systemId=q||"",b}};function M(){}M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(y,D){return Kt(this,y,D)},replaceChild:function(y,D){Kt(this,y,D,Ft),D&&this.removeChild(D)},removeChild:function(y){return Me(this,y)},appendChild:function(y){return this.insertBefore(y,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(y){return Fe(this.ownerDocument||this,this,y)},normalize:function(){for(var y=this.firstChild;y;){var D=y.nextSibling;D&&D.nodeType==x&&y.nodeType==x?(this.removeChild(D),y.appendData(D.data)):(y.normalize(),y=D)}},isSupported:function(y,D){return this.ownerDocument.implementation.hasFeature(y,D)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(y){for(var D=this;D;){var q=D._nsMap;if(q){for(var b in q)if(Object.prototype.hasOwnProperty.call(q,b)&&q[b]===y)return b}D=D.nodeType==w?D.ownerDocument:D.parentNode}return null},lookupNamespaceURI:function(y){for(var D=this;D;){var q=D._nsMap;if(q&&y in q&&Object.prototype.hasOwnProperty.call(q,y))return q[y];D=D.nodeType==w?D.ownerDocument:D.parentNode}return null},isDefaultNamespace:function(y){var D=this.lookupPrefix(y);return D==null}};function oe(y){return y=="<"&&"&lt;"||y==">"&&"&gt;"||y=="&"&&"&amp;"||y=='"'&&"&quot;"||"&#"+y.charCodeAt()+";"}f(v,M),f(v,M.prototype);function ye(y,D){if(D(y))return!0;if(y=y.firstChild)do if(ye(y,D))return!0;while(y=y.nextSibling)}function xe(){this.ownerDocument=this}function Ue(y,D,q){y&&y._inc++;var b=q.namespaceURI;b===i.XMLNS&&(D._nsMap[q.prefix?q.localName:""]=q.value)}function ze(y,D,q,b){y&&y._inc++;var Y=q.namespaceURI;Y===i.XMLNS&&delete D._nsMap[q.prefix?q.localName:""]}function tt(y,D,q){if(y&&y._inc){y._inc++;var b=D.childNodes;if(q)b[b.length++]=q;else{for(var Y=D.firstChild,ie=0;Y;)b[ie++]=Y,Y=Y.nextSibling;b.length=ie,delete b[b.length]}}}function Me(y,D){var q=D.previousSibling,b=D.nextSibling;return q?q.nextSibling=b:y.firstChild=b,b?b.previousSibling=q:y.lastChild=q,D.parentNode=null,D.previousSibling=null,D.nextSibling=null,tt(y.ownerDocument,y),D}function it(y){return y&&(y.nodeType===M.DOCUMENT_NODE||y.nodeType===M.DOCUMENT_FRAGMENT_NODE||y.nodeType===M.ELEMENT_NODE)}function St(y){return y&&(ot(y)||nt(y)||Ze(y)||y.nodeType===M.DOCUMENT_FRAGMENT_NODE||y.nodeType===M.COMMENT_NODE||y.nodeType===M.PROCESSING_INSTRUCTION_NODE)}function Ze(y){return y&&y.nodeType===M.DOCUMENT_TYPE_NODE}function ot(y){return y&&y.nodeType===M.ELEMENT_NODE}function nt(y){return y&&y.nodeType===M.TEXT_NODE}function lt(y,D){var q=y.childNodes||[];if(e(q,ot)||Ze(D))return!1;var b=e(q,Ze);return!(D&&b&&q.indexOf(b)>q.indexOf(D))}function Ot(y,D){var q=y.childNodes||[];function b(ie){return ot(ie)&&ie!==D}if(e(q,b))return!1;var Y=e(q,Ze);return!(D&&Y&&q.indexOf(Y)>q.indexOf(D))}function bt(y,D,q){if(!it(y))throw new W(I,"Unexpected parent node type "+y.nodeType);if(q&&q.parentNode!==y)throw new W(H,"child not in parent");if(!St(D)||Ze(D)&&y.nodeType!==M.DOCUMENT_NODE)throw new W(I,"Unexpected node type "+D.nodeType+" for parent node type "+y.nodeType)}function Ke(y,D,q){var b=y.childNodes||[],Y=D.childNodes||[];if(D.nodeType===M.DOCUMENT_FRAGMENT_NODE){var ie=Y.filter(ot);if(ie.length>1||e(Y,nt))throw new W(I,"More than one element or text in fragment");if(ie.length===1&&!lt(y,q))throw new W(I,"Element in fragment can not be inserted before doctype")}if(ot(D)&&!lt(y,q))throw new W(I,"Only one element can be added and only after doctype");if(Ze(D)){if(e(b,Ze))throw new W(I,"Only one doctype is allowed");var B=e(b,ot);if(q&&b.indexOf(B)<b.indexOf(q))throw new W(I,"Doctype can only be inserted before an element");if(!q&&B)throw new W(I,"Doctype can not be appended since element is present")}}function Ft(y,D,q){var b=y.childNodes||[],Y=D.childNodes||[];if(D.nodeType===M.DOCUMENT_FRAGMENT_NODE){var ie=Y.filter(ot);if(ie.length>1||e(Y,nt))throw new W(I,"More than one element or text in fragment");if(ie.length===1&&!Ot(y,q))throw new W(I,"Element in fragment can not be inserted before doctype")}if(ot(D)&&!Ot(y,q))throw new W(I,"Only one element can be added and only after doctype");if(Ze(D)){let ue=function(Be){return Ze(Be)&&Be!==q};var Z=ue;if(e(b,ue))throw new W(I,"Only one doctype is allowed");var B=e(b,ot);if(q&&b.indexOf(B)<b.indexOf(q))throw new W(I,"Doctype can only be inserted before an element")}}function Kt(y,D,q,b){bt(y,D,q),y.nodeType===M.DOCUMENT_NODE&&(b||Ke)(y,D,q);var Y=D.parentNode;if(Y&&Y.removeChild(D),D.nodeType===C){var ie=D.firstChild;if(ie==null)return D;var B=D.lastChild}else ie=B=D;var Z=q?q.previousSibling:y.lastChild;ie.previousSibling=Z,B.nextSibling=q,Z?Z.nextSibling=ie:y.firstChild=ie,q==null?y.lastChild=B:q.previousSibling=B;do ie.parentNode=y;while(ie!==B&&(ie=ie.nextSibling));return tt(y.ownerDocument||y,y),D.nodeType==C&&(D.firstChild=D.lastChild=null),D}function kt(y,D){return D.parentNode&&D.parentNode.removeChild(D),D.parentNode=y,D.previousSibling=y.lastChild,D.nextSibling=null,D.previousSibling?D.previousSibling.nextSibling=D:y.firstChild=D,y.lastChild=D,tt(y.ownerDocument,y,D),D}xe.prototype={nodeName:"#document",nodeType:A,doctype:null,documentElement:null,_inc:1,insertBefore:function(y,D){if(y.nodeType==C){for(var q=y.firstChild;q;){var b=q.nextSibling;this.insertBefore(q,D),q=b}return y}return Kt(this,y,D),y.ownerDocument=this,this.documentElement===null&&y.nodeType===m&&(this.documentElement=y),y},removeChild:function(y){return this.documentElement==y&&(this.documentElement=null),Me(this,y)},replaceChild:function(y,D){Kt(this,y,D,Ft),y.ownerDocument=this,D&&this.removeChild(D),ot(y)&&(this.documentElement=y)},importNode:function(y,D){return Re(this,y,D)},getElementById:function(y){var D=null;return ye(this.documentElement,function(q){if(q.nodeType==m&&q.getAttribute("id")==y)return D=q,!0}),D},getElementsByClassName:function(y){var D=l(y);return new ke(this,function(q){var b=[];return D.length>0&&ye(q.documentElement,function(Y){if(Y!==q&&Y.nodeType===m){var ie=Y.getAttribute("class");if(ie){var B=y===ie;if(!B){var Z=l(ie);B=D.every(h(Z))}B&&b.push(Y)}}}),b})},createElement:function(y){var D=new $e;D.ownerDocument=this,D.nodeName=y,D.tagName=y,D.localName=y,D.childNodes=new pe;var q=D.attributes=new K;return q._ownerElement=D,D},createDocumentFragment:function(){var y=new ki;return y.ownerDocument=this,y.childNodes=new pe,y},createTextNode:function(y){var D=new Ye;return D.ownerDocument=this,D.appendData(y),D},createComment:function(y){var D=new wt;return D.ownerDocument=this,D.appendData(y),D},createCDATASection:function(y){var D=new Pt;return D.ownerDocument=this,D.appendData(y),D},createProcessingInstruction:function(y,D){var q=new yi;return q.ownerDocument=this,q.tagName=q.nodeName=q.target=y,q.nodeValue=q.data=D,q},createAttribute:function(y){var D=new Je;return D.ownerDocument=this,D.name=y,D.nodeName=y,D.localName=y,D.specified=!0,D},createEntityReference:function(y){var D=new li;return D.ownerDocument=this,D.nodeName=y,D},createElementNS:function(y,D){var q=new $e,b=D.split(":"),Y=q.attributes=new K;return q.childNodes=new pe,q.ownerDocument=this,q.nodeName=D,q.tagName=D,q.namespaceURI=y,b.length==2?(q.prefix=b[0],q.localName=b[1]):q.localName=D,Y._ownerElement=q,q},createAttributeNS:function(y,D){var q=new Je,b=D.split(":");return q.ownerDocument=this,q.nodeName=D,q.name=D,q.namespaceURI=y,q.specified=!0,b.length==2?(q.prefix=b[0],q.localName=b[1]):q.localName=D,q}},p(xe,M);function $e(){this._nsMap={}}$e.prototype={nodeType:m,hasAttribute:function(y){return this.getAttributeNode(y)!=null},getAttribute:function(y){var D=this.getAttributeNode(y);return D&&D.value||""},getAttributeNode:function(y){return this.attributes.getNamedItem(y)},setAttribute:function(y,D){var q=this.ownerDocument.createAttribute(y);q.value=q.nodeValue=""+D,this.setAttributeNode(q)},removeAttribute:function(y){var D=this.getAttributeNode(y);D&&this.removeAttributeNode(D)},appendChild:function(y){return y.nodeType===C?this.insertBefore(y,null):kt(this,y)},setAttributeNode:function(y){return this.attributes.setNamedItem(y)},setAttributeNodeNS:function(y){return this.attributes.setNamedItemNS(y)},removeAttributeNode:function(y){return this.attributes.removeNamedItem(y.nodeName)},removeAttributeNS:function(y,D){var q=this.getAttributeNodeNS(y,D);q&&this.removeAttributeNode(q)},hasAttributeNS:function(y,D){return this.getAttributeNodeNS(y,D)!=null},getAttributeNS:function(y,D){var q=this.getAttributeNodeNS(y,D);return q&&q.value||""},setAttributeNS:function(y,D,q){var b=this.ownerDocument.createAttributeNS(y,D);b.value=b.nodeValue=""+q,this.setAttributeNode(b)},getAttributeNodeNS:function(y,D){return this.attributes.getNamedItemNS(y,D)},getElementsByTagName:function(y){return new ke(this,function(D){var q=[];return ye(D,function(b){b!==D&&b.nodeType==m&&(y==="*"||b.tagName==y)&&q.push(b)}),q})},getElementsByTagNameNS:function(y,D){return new ke(this,function(q){var b=[];return ye(q,function(Y){Y!==q&&Y.nodeType===m&&(y==="*"||Y.namespaceURI===y)&&(D==="*"||Y.localName==D)&&b.push(Y)}),b})}},xe.prototype.getElementsByTagName=$e.prototype.getElementsByTagName,xe.prototype.getElementsByTagNameNS=$e.prototype.getElementsByTagNameNS,p($e,M);function Je(){}Je.prototype.nodeType=w,p(Je,M);function de(){}de.prototype={data:"",substringData:function(y,D){return this.data.substring(y,y+D)},appendData:function(y){y=this.data+y,this.nodeValue=this.data=y,this.length=y.length},insertData:function(y,D){this.replaceData(y,0,D)},appendChild:function(y){throw new Error(V[I])},deleteData:function(y,D){this.replaceData(y,D,"")},replaceData:function(y,D,q){var b=this.data.substring(0,y),Y=this.data.substring(y+D);q=b+q+Y,this.nodeValue=this.data=q,this.length=q.length}},p(de,M);function Ye(){}Ye.prototype={nodeName:"#text",nodeType:x,splitText:function(y){var D=this.data,q=D.substring(y);D=D.substring(0,y),this.data=this.nodeValue=D,this.length=D.length;var b=this.ownerDocument.createTextNode(q);return this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling),b}},p(Ye,de);function wt(){}wt.prototype={nodeName:"#comment",nodeType:S},p(wt,de);function Pt(){}Pt.prototype={nodeName:"#cdata-section",nodeType:R},p(Pt,de);function _t(){}_t.prototype.nodeType=z,p(_t,M);function ni(){}ni.prototype.nodeType=N,p(ni,M);function jt(){}jt.prototype.nodeType=_,p(jt,M);function li(){}li.prototype.nodeType=T,p(li,M);function ki(){}ki.prototype.nodeName="#document-fragment",ki.prototype.nodeType=C,p(ki,M);function yi(){}yi.prototype.nodeType=E,p(yi,M);function Mt(){}Mt.prototype.serializeToString=function(y,D,q){return Qt.call(y,D,q)},M.prototype.toString=Qt;function Qt(y,D){var q=[],b=this.nodeType==9&&this.documentElement||this,Y=b.prefix,ie=b.namespaceURI;if(ie&&Y==null){var Y=b.lookupPrefix(ie);if(Y==null)var B=[{namespace:ie,prefix:null}]}return Ee(this,q,y,D,B),q.join("")}function bi(y,D,q){var b=y.prefix||"",Y=y.namespaceURI;if(!Y||b==="xml"&&Y===i.XML||Y===i.XMLNS)return!1;for(var ie=q.length;ie--;){var B=q[ie];if(B.prefix===b)return B.namespace!==Y}return!0}function U(y,D,q){y.push(" ",D,'="',q.replace(/[<&"]/g,oe),'"')}function Ee(y,D,q,b,Y){if(Y||(Y=[]),b)if(y=b(y),y){if(typeof y=="string"){D.push(y);return}}else return;switch(y.nodeType){case m:var ie=y.attributes,B=ie.length,ft=y.firstChild,Z=y.tagName;q=i.isHTML(y.namespaceURI)||q;var ue=Z;if(!q&&!y.prefix&&y.namespaceURI){for(var Be,Oe=0;Oe<ie.length;Oe++)if(ie.item(Oe).name==="xmlns"){Be=ie.item(Oe).value;break}if(!Be)for(var je=Y.length-1;je>=0;je--){var Qe=Y[je];if(Qe.prefix===""&&Qe.namespace===y.namespaceURI){Be=Qe.namespace;break}}if(Be!==y.namespaceURI)for(var je=Y.length-1;je>=0;je--){var Qe=Y[je];if(Qe.namespace===y.namespaceURI){Qe.prefix&&(ue=Qe.prefix+":"+Z);break}}}D.push("<",ue);for(var ui=0;ui<B;ui++){var vt=ie.item(ui);vt.prefix=="xmlns"?Y.push({prefix:vt.localName,namespace:vt.value}):vt.nodeName=="xmlns"&&Y.push({prefix:"",namespace:vt.value})}for(var ui=0;ui<B;ui++){var vt=ie.item(ui);if(bi(vt,q,Y)){var rt=vt.prefix||"",Tt=vt.namespaceURI;U(D,rt?"xmlns:"+rt:"xmlns",Tt),Y.push({prefix:rt,namespace:Tt})}Ee(vt,D,q,b,Y)}if(Z===ue&&bi(y,q,Y)){var rt=y.prefix||"",Tt=y.namespaceURI;U(D,rt?"xmlns:"+rt:"xmlns",Tt),Y.push({prefix:rt,namespace:Tt})}if(ft||q&&!/^(?:meta|link|img|br|hr|input)$/i.test(Z)){if(D.push(">"),q&&/^script$/i.test(Z))for(;ft;)ft.data?D.push(ft.data):Ee(ft,D,q,b,Y.slice()),ft=ft.nextSibling;else for(;ft;)Ee(ft,D,q,b,Y.slice()),ft=ft.nextSibling;D.push("</",ue,">")}else D.push("/>");return;case A:case C:for(var ft=y.firstChild;ft;)Ee(ft,D,q,b,Y.slice()),ft=ft.nextSibling;return;case w:return U(D,y.name,y.value);case x:return D.push(y.data.replace(/[<&]/g,oe).replace(/]]>/g,"]]&gt;"));case R:return D.push("<![CDATA[",y.data,"]]>");case S:return D.push("<!--",y.data,"-->");case z:var Zt=y.publicId,fi=y.systemId;if(D.push("<!DOCTYPE ",y.name),Zt)D.push(" PUBLIC ",Zt),fi&&fi!="."&&D.push(" ",fi),D.push(">");else if(fi&&fi!=".")D.push(" SYSTEM ",fi,">");else{var Mi=y.internalSubset;Mi&&D.push(" [",Mi,"]"),D.push(">")}return;case E:return D.push("<?",y.target," ",y.data,"?>");case T:return D.push("&",y.nodeName,";");default:D.push("??",y.nodeName)}}function Re(y,D,q){var b;switch(D.nodeType){case m:b=D.cloneNode(!1),b.ownerDocument=y;case C:break;case w:q=!0;break}if(b||(b=D.cloneNode(!1)),b.ownerDocument=y,b.parentNode=null,q)for(var Y=D.firstChild;Y;)b.appendChild(Re(y,Y,q)),Y=Y.nextSibling;return b}function Fe(y,D,q){var b=new D.constructor;for(var Y in D)if(Object.prototype.hasOwnProperty.call(D,Y)){var ie=D[Y];typeof ie!="object"&&ie!=b[Y]&&(b[Y]=ie)}switch(D.childNodes&&(b.childNodes=new pe),b.ownerDocument=y,b.nodeType){case m:var B=D.attributes,Z=b.attributes=new K,ue=B.length;Z._ownerElement=b;for(var Be=0;Be<ue;Be++)b.setAttributeNode(Fe(y,B.item(Be),!0));break;case w:q=!0}if(q)for(var Oe=D.firstChild;Oe;)b.appendChild(Fe(y,Oe,q)),Oe=Oe.nextSibling;return b}function Q(y,D,q){y[D]=q}try{if(Object.defineProperty){let y=function(D){switch(D.nodeType){case m:case C:var q=[];for(D=D.firstChild;D;)D.nodeType!==7&&D.nodeType!==8&&q.push(y(D)),D=D.nextSibling;return q.join("");default:return D.nodeValue}};var be=y;Object.defineProperty(ke.prototype,"length",{get:function(){return me(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return y(this)},set:function(D){switch(this.nodeType){case m:case C:for(;this.firstChild;)this.removeChild(this.firstChild);(D||String(D))&&this.appendChild(this.ownerDocument.createTextNode(D));break;default:this.data=D,this.value=D,this.nodeValue=D}}}),Q=function(D,q,b){D["$$"+q]=b}}}catch{}return Xn.DocumentType=_t,Xn.DOMException=W,Xn.DOMImplementation=G,Xn.Element=$e,Xn.Node=M,Xn.NodeList=pe,Xn.XMLSerializer=Mt,Xn}var Wa={},wf={},x0;function VS(){return x0||(x0=1,function(c){var e=Nu().freeze;c.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),c.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),c.entityMap=c.HTML_ENTITIES}(wf)),wf}var tu={},S0;function HS(){if(S0)return tu;S0=1;var c=Nu().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+i.source+"*(?::"+e.source+i.source+"*)?$"),a=0,o=1,l=2,h=3,f=4,p=5,v=6,m=7;function w(I,H){this.message=I,this.locator=H,Error.captureStackTrace&&Error.captureStackTrace(this,w)}w.prototype=new Error,w.prototype.name=w.name;function x(){}x.prototype={parse:function(I,H,le){var W=this.domBuilder;W.startDocument(),z(H,H={}),R(I,H,le,W,this.errorHandler),W.endDocument()}};function R(I,H,le,W,pe){function ke($e){if($e>65535){$e-=65536;var Je=55296+($e>>10),de=56320+($e&1023);return String.fromCharCode(Je,de)}else return String.fromCharCode($e)}function me($e){var Je=$e.slice(1,-1);return Je in le?le[Je]:Je.charAt(0)==="#"?ke(parseInt(Je.substr(1).replace("x","0x"))):(pe.error("entity not found:"+$e),$e)}function K($e){if($e>xe){var Je=I.substring(xe,$e).replace(/&#?\w+;/g,me);M&&re(xe),W.characters(Je,0,$e-xe),xe=$e}}function re($e,Je){for(;$e>=Ae&&(Je=G.exec(I));)ce=Je.index,Ae=ce+Je[0].length,M.lineNumber++;M.columnNumber=$e-ce+1}for(var ce=0,Ae=0,G=/.*(?:\r\n?|\n)|.*$/g,M=W.locator,oe=[{currentNSMap:H}],ye={},xe=0;;){try{var Ue=I.indexOf("<",xe);if(Ue<0){if(!I.substr(xe).match(/^\s*$/)){var ze=W.doc,tt=ze.createTextNode(I.substr(xe));ze.appendChild(tt),W.currentElement=tt}return}switch(Ue>xe&&K(Ue),I.charAt(Ue+1)){case"/":var bt=I.indexOf(">",Ue+3),Me=I.substring(Ue+2,bt).replace(/[ \t\n\r]+$/g,""),it=oe.pop();bt<0?(Me=I.substring(Ue+2).replace(/[\s<].*/,""),pe.error("end tag name: "+Me+" is not complete:"+it.tagName),bt=Ue+1+Me.length):Me.match(/\s</)&&(Me=Me.replace(/[\s<].*/,""),pe.error("end tag name: "+Me+" maybe not complete"),bt=Ue+1+Me.length);var St=it.localNSMap,Ze=it.tagName==Me,ot=Ze||it.tagName&&it.tagName.toLowerCase()==Me.toLowerCase();if(ot){if(W.endElement(it.uri,it.localName,Me),St)for(var nt in St)Object.prototype.hasOwnProperty.call(St,nt)&&W.endPrefixMapping(nt);Ze||pe.fatalError("end tag name: "+Me+" is not match the current start tagName:"+it.tagName)}else oe.push(it);bt++;break;case"?":M&&re(Ue),bt=N(I,Ue,W);break;case"!":M&&re(Ue),bt=C(I,Ue,W,pe);break;default:M&&re(Ue);var lt=new F,Ot=oe[oe.length-1].currentNSMap,bt=_(I,Ue,lt,Ot,me,pe),Ke=lt.length;if(!lt.closed&&A(I,bt,lt.tagName,ye)&&(lt.closed=!0,le.nbsp||pe.warning("unclosed xml attribute")),M&&Ke){for(var Ft=T(M,{}),Kt=0;Kt<Ke;Kt++){var kt=lt[Kt];re(kt.offset),kt.locator=T(M,{})}W.locator=Ft,E(lt,W,Ot)&&oe.push(lt),W.locator=M}else E(lt,W,Ot)&&oe.push(lt);c.isHTML(lt.uri)&&!lt.closed?bt=S(I,bt,lt.tagName,me,W):bt++}}catch($e){if($e instanceof w)throw $e;pe.error("element parse error: "+$e),bt=-1}bt>xe?xe=bt:K(Math.max(Ue,xe)+1)}}function T(I,H){return H.lineNumber=I.lineNumber,H.columnNumber=I.columnNumber,H}function _(I,H,le,W,pe,ke){function me(M,oe,ye){le.attributeNames.hasOwnProperty(M)&&ke.fatalError("Attribute "+M+" redefined"),le.addValue(M,oe,ye)}for(var K,re,ce=++H,Ae=a;;){var G=I.charAt(ce);switch(G){case"=":if(Ae===o)K=I.slice(H,ce),Ae=h;else if(Ae===l)Ae=h;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(Ae===h||Ae===o)if(Ae===o&&(ke.warning('attribute value must after "="'),K=I.slice(H,ce)),H=ce+1,ce=I.indexOf(G,H),ce>0)re=I.slice(H,ce).replace(/&#?\w+;/g,pe),me(K,re,H-1),Ae=p;else throw new Error("attribute value no end '"+G+"' match");else if(Ae==f)re=I.slice(H,ce).replace(/&#?\w+;/g,pe),me(K,re,H),ke.warning('attribute "'+K+'" missed start quot('+G+")!!"),H=ce+1,Ae=p;else throw new Error('attribute value must after "="');break;case"/":switch(Ae){case a:le.setTagName(I.slice(H,ce));case p:case v:case m:Ae=m,le.closed=!0;case f:case o:break;case l:le.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ke.error("unexpected end of input"),Ae==a&&le.setTagName(I.slice(H,ce)),ce;case">":switch(Ae){case a:le.setTagName(I.slice(H,ce));case p:case v:case m:break;case f:case o:re=I.slice(H,ce),re.slice(-1)==="/"&&(le.closed=!0,re=re.slice(0,-1));case l:Ae===l&&(re=K),Ae==f?(ke.warning('attribute "'+re+'" missed quot(")!'),me(K,re.replace(/&#?\w+;/g,pe),H)):((!c.isHTML(W[""])||!re.match(/^(?:disabled|checked|selected)$/i))&&ke.warning('attribute "'+re+'" missed value!! "'+re+'" instead!!'),me(re,re,H));break;case h:throw new Error("attribute value missed!!")}return ce;case"":G=" ";default:if(G<=" ")switch(Ae){case a:le.setTagName(I.slice(H,ce)),Ae=v;break;case o:K=I.slice(H,ce),Ae=l;break;case f:var re=I.slice(H,ce).replace(/&#?\w+;/g,pe);ke.warning('attribute "'+re+'" missed quot(")!!'),me(K,re,H);case p:Ae=v;break}else switch(Ae){case l:le.tagName,(!c.isHTML(W[""])||!K.match(/^(?:disabled|checked|selected)$/i))&&ke.warning('attribute "'+K+'" missed value!! "'+K+'" instead2!!'),me(K,K,H),H=ce,Ae=o;break;case p:ke.warning('attribute space is required"'+K+'"!!');case v:Ae=o,H=ce;break;case h:Ae=f,H=ce;break;case m:throw new Error("elements closed character '/' and '>' must be connected to")}}ce++}}function E(I,H,le){for(var W=I.tagName,pe=null,G=I.length;G--;){var ke=I[G],me=ke.qName,K=ke.value,M=me.indexOf(":");if(M>0)var re=ke.prefix=me.slice(0,M),ce=me.slice(M+1),Ae=re==="xmlns"&&ce;else ce=me,re=null,Ae=me==="xmlns"&&"";ke.localName=ce,Ae!==!1&&(pe==null&&(pe={},z(le,le={})),le[Ae]=pe[Ae]=K,ke.uri=c.XMLNS,H.startPrefixMapping(Ae,K))}for(var G=I.length;G--;){ke=I[G];var re=ke.prefix;re&&(re==="xml"&&(ke.uri=c.XML),re!=="xmlns"&&(ke.uri=le[re||""]))}var M=W.indexOf(":");M>0?(re=I.prefix=W.slice(0,M),ce=I.localName=W.slice(M+1)):(re=null,ce=I.localName=W);var oe=I.uri=le[re||""];if(H.startElement(oe,ce,W,I),I.closed){if(H.endElement(oe,ce,W),pe)for(re in pe)Object.prototype.hasOwnProperty.call(pe,re)&&H.endPrefixMapping(re)}else return I.currentNSMap=le,I.localNSMap=pe,!0}function S(I,H,le,W,pe){if(/^(?:script|textarea)$/i.test(le)){var ke=I.indexOf("</"+le+">",H),me=I.substring(H+1,ke);if(/[&<]/.test(me))return/^script$/i.test(le)?(pe.characters(me,0,me.length),ke):(me=me.replace(/&#?\w+;/g,W),pe.characters(me,0,me.length),ke)}return H+1}function A(I,H,le,W){var pe=W[le];return pe==null&&(pe=I.lastIndexOf("</"+le+">"),pe<H&&(pe=I.lastIndexOf("</"+le)),W[le]=pe),pe<H}function z(I,H){for(var le in I)Object.prototype.hasOwnProperty.call(I,le)&&(H[le]=I[le])}function C(I,H,le,W){var pe=I.charAt(H+2);switch(pe){case"-":if(I.charAt(H+3)==="-"){var ke=I.indexOf("-->",H+4);return ke>H?(le.comment(I,H+4,ke-H-4),ke+3):(W.error("Unclosed comment"),-1)}else return-1;default:if(I.substr(H+3,6)=="CDATA["){var ke=I.indexOf("]]>",H+9);return le.startCDATA(),le.characters(I,H+9,ke-H-9),le.endCDATA(),ke+3}var me=V(I,H),K=me.length;if(K>1&&/!doctype/i.test(me[0][0])){var re=me[1][0],ce=!1,Ae=!1;K>3&&(/^public$/i.test(me[2][0])?(ce=me[3][0],Ae=K>4&&me[4][0]):/^system$/i.test(me[2][0])&&(Ae=me[3][0]));var G=me[K-1];return le.startDTD(re,ce,Ae),le.endDTD(),G.index+G[0].length}}return-1}function N(I,H,le){var W=I.indexOf("?>",H);if(W){var pe=I.substring(H,W).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return pe?(pe[0].length,le.processingInstruction(pe[1],pe[2]),W+2):-1}return-1}function F(){this.attributeNames={}}F.prototype={setTagName:function(I){if(!r.test(I))throw new Error("invalid tagName:"+I);this.tagName=I},addValue:function(I,H,le){if(!r.test(I))throw new Error("invalid attribute:"+I);this.attributeNames[I]=this.length,this[this.length++]={qName:I,value:H,offset:le}},length:0,getLocalName:function(I){return this[I].localName},getLocator:function(I){return this[I].locator},getQName:function(I){return this[I].qName},getURI:function(I){return this[I].uri},getValue:function(I){return this[I].value}};function V(I,H){var le,W=[],pe=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(pe.lastIndex=H,pe.exec(I);le=pe.exec(I);)if(W.push(le),le[1])return W}return tu.XMLReader=x,tu.ParseError=w,tu}var A0;function GS(){if(A0)return Wa;A0=1;var c=Nu(),e=sb(),i=VS(),r=HS(),a=e.DOMImplementation,o=c.NAMESPACE,l=r.ParseError,h=r.XMLReader;function f(T){this.options=T||{locator:{}}}f.prototype.parseFromString=function(T,_){var E=this.options,S=new h,A=E.domBuilder||new v,z=E.errorHandler,C=E.locator,N=E.xmlns||{},F=/\/x?html?$/.test(_),V=F?i.HTML_ENTITIES:i.XML_ENTITIES;return C&&A.setDocumentLocator(C),S.errorHandler=p(z,A,C),S.domBuilder=E.domBuilder||A,F&&(N[""]=o.HTML),N.xml=N.xml||o.XML,T&&typeof T=="string"?S.parse(T,N,V):S.errorHandler.error("invalid doc source"),A.doc};function p(T,_,E){if(!T){if(_ instanceof v)return _;T=_}var S={},A=T instanceof Function;E=E||{};function z(C){var N=T[C];!N&&A&&(N=T.length==2?function(F){T(C,F)}:T),S[C]=N&&function(F){N("[xmldom "+C+"]	"+F+w(E))}||function(){}}return z("warning"),z("error"),z("fatalError"),S}function v(){this.cdata=!1}function m(T,_){_.lineNumber=T.lineNumber,_.columnNumber=T.columnNumber}v.prototype={startDocument:function(){this.doc=new a().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(T,_,E,S){var A=this.doc,z=A.createElementNS(T,E||_),C=S.length;R(this,z),this.currentElement=z,this.locator&&m(this.locator,z);for(var N=0;N<C;N++){var T=S.getURI(N),F=S.getValue(N),E=S.getQName(N),V=A.createAttributeNS(T,E);this.locator&&m(S.getLocator(N),V),V.value=V.nodeValue=F,z.setAttributeNode(V)}},endElement:function(T,_,E){var S=this.currentElement;S.tagName,this.currentElement=S.parentNode},startPrefixMapping:function(T,_){},endPrefixMapping:function(T){},processingInstruction:function(T,_){var E=this.doc.createProcessingInstruction(T,_);this.locator&&m(this.locator,E),R(this,E)},ignorableWhitespace:function(T,_,E){},characters:function(T,_,E){if(T=x.apply(this,arguments),T){if(this.cdata)var S=this.doc.createCDATASection(T);else var S=this.doc.createTextNode(T);this.currentElement?this.currentElement.appendChild(S):/^\s*$/.test(T)&&this.doc.appendChild(S),this.locator&&m(this.locator,S)}},skippedEntity:function(T){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(T){(this.locator=T)&&(T.lineNumber=0)},comment:function(T,_,E){T=x.apply(this,arguments);var S=this.doc.createComment(T);this.locator&&m(this.locator,S),R(this,S)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(T,_,E){var S=this.doc.implementation;if(S&&S.createDocumentType){var A=S.createDocumentType(T,_,E);this.locator&&m(this.locator,A),R(this,A),this.doc.doctype=A}},warning:function(T){console.warn("[xmldom warning]	"+T,w(this.locator))},error:function(T){console.error("[xmldom error]	"+T,w(this.locator))},fatalError:function(T){throw new l(T,this.locator)}};function w(T){if(T)return`
@`+(T.systemId||"")+"#[line:"+T.lineNumber+",col:"+T.columnNumber+"]"}function x(T,_,E){return typeof T=="string"?T.substr(_,E):T.length>=_+E||_?new java.lang.String(T,_,E)+"":T}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(T){v.prototype[T]=function(){return null}});function R(T,_){T.currentElement?T.currentElement.appendChild(_):T.doc.appendChild(_)}return Wa.__DOMHandler=v,Wa.DOMParser=f,Wa.DOMImplementation=e.DOMImplementation,Wa.XMLSerializer=e.XMLSerializer,Wa}var C0;function $S(){if(C0)return _o;C0=1;var c=sb();return _o.DOMImplementation=c.DOMImplementation,_o.XMLSerializer=c.XMLSerializer,_o.DOMParser=GS().DOMParser,_o}var ob=$S();const xd=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,YS=1,ZS=3,lb=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function Bu(){var c=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var r=(c+Math.random()*16)%16|0;return c=Math.floor(c/16),(i=="x"?r:r&7|8).toString(16)});return e}function XS(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function ub(c){return!!(c&&c.nodeType==1)}function oi(c){return!isNaN(parseFloat(c))&&isFinite(c)}function cb(c){let e=parseFloat(c);return oi(c)===!1?!1:typeof c=="string"&&c.indexOf(".")>-1?!0:Math.floor(e)!==e}function es(c){var e=["Webkit","webkit","Moz","O","ms"],i=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=c.toLowerCase(),a=e.length;if(typeof document>"u"||typeof document.body.style[r]<"u")return c;for(var o=0;o<a;o++)if(typeof document.body.style[i[o]+r]<"u")return i[o]+r;return c}function hb(c){for(var e=1,i=arguments.length;e<i;e++){var r=arguments[e];for(var a in r)c[a]===void 0&&(c[a]=r[a])}return c}function Oi(c){var e=[].slice.call(arguments,1);return e.forEach(function(i){i&&Object.getOwnPropertyNames(i).forEach(function(r){Object.defineProperty(c,r,Object.getOwnPropertyDescriptor(i,r))})}),c}function WS(c,e,i){var r=ls(c,e,i);return e.splice(r,0,c),r}function ls(c,e,i,r,a){var o=r||0,l=a||e.length,h=parseInt(o+(l-o)/2),f;return i||(i=function(p,v){if(p>v)return 1;if(p<v)return-1;if(p==v)return 0}),l-o<=0?h:(f=i(e[h],c),l-o===1?f>=0?h:h+1:f===0?h:f===-1?ls(c,e,i,h,l):ls(c,e,i,o,h))}function vu(c,e,i,r,a){var o=r||0,l=a||e.length,h=parseInt(o+(l-o)/2),f;return i||(i=function(p,v){if(p>v)return 1;if(p<v)return-1;if(p==v)return 0}),l-o<=0?-1:(f=i(e[h],c),l-o===1?f===0?h:-1:f===0?h:f===-1?vu(c,e,i,h,l):vu(c,e,i,o,h))}function lu(c){var e=window.getComputedStyle(c),i=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],a=0,o=0;return i.forEach(function(l){a+=parseFloat(e[l])||0}),r.forEach(function(l){o+=parseFloat(e[l])||0}),{height:o,width:a}}function gu(c){var e=window.getComputedStyle(c),i=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],a=0,o=0;return i.forEach(function(l){a+=parseFloat(e[l])||0}),r.forEach(function(l){o+=parseFloat(e[l])||0}),{height:o,width:a}}function nd(c){let e,i=c.ownerDocument;if(c.nodeType==Node.TEXT_NODE){let r=i.createRange();r.selectNodeContents(c),e=r.getBoundingClientRect()}else e=c.getBoundingClientRect();return e}function mu(){var c=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:c,bottom:e,width:c,height:e}}function Sd(c,e){for(var i=c.parentNode,r=i.childNodes,a,o=-1,l=0;l<r.length&&(a=r[l],a.nodeType===e&&o++,a!=c);l++);return o}function KS(c){return Sd(c,ZS)}function fb(c){return Sd(c,YS)}function Oo(c){return["xml","opf","ncx"].indexOf(c)>-1}function db(c,e){return new Blob([c],{type:e})}function yu(c,e){var i,r=db(c,e);return i=lb.createObjectURL(r),i}function pb(c){return lb.revokeObjectURL(c)}function rd(c,e){var i,r;if(typeof c=="string")return i=btoa(c),r="data:"+e+";base64,"+i,r}function vb(c){return Object.prototype.toString.call(c).slice(8,-1)}function On(c,e,i){var r,a;return typeof DOMParser>"u"||i?a=ob.DOMParser:a=DOMParser,c.charCodeAt(0)===65279&&(c=c.slice(1)),r=new a().parseFromString(c,e),r}function Yt(c,e){var i;if(!c)throw new Error("No Element Provided");if(typeof c.querySelector<"u")return c.querySelector(e);if(i=c.getElementsByTagName(e),i.length)return i[0]}function ir(c,e){return typeof c.querySelector<"u"?c.querySelectorAll(e):c.getElementsByTagName(e)}function ts(c,e,i){var r,a;if(typeof c.querySelector<"u"){e+="[";for(var o in i)e+=o+"~='"+i[o]+"'";return e+="]",c.querySelector(e)}else if(r=c.getElementsByTagName(e),a=Array.prototype.slice.call(r,0).filter(function(l){for(var h in i)if(l.getAttribute(h)===i[h])return!0;return!1}),a)return a[0]}function bu(c,e){var i=c.ownerDocument||c;typeof i.createTreeWalker<"u"?gb(c,e,NodeFilter.SHOW_TEXT):Ad(c,function(r){r&&r.nodeType===3&&e(r)})}function gb(c,e,i){var r=document.createTreeWalker(c,i,null,!1);let a;for(;a=r.nextNode();)e(a)}function Ad(c,e){if(e(c))return!0;if(c=c.firstChild,c)do{if(Ad(c,e))return!0;c=c.nextSibling}while(c)}function mb(c){return new Promise(function(e,i){var r=new FileReader;r.readAsDataURL(c),r.onloadend=function(){e(r.result)}})}function Et(){this.resolve=null,this.reject=null,this.id=Bu(),this.promise=new Promise((c,e)=>{this.resolve=c,this.reject=e}),Object.freeze(this)}function _u(c,e,i){var r;if(typeof c.querySelector<"u"&&(r=c.querySelector(`${e}[*|type="${i}"]`)),!r||r.length===0){r=ir(c,e);for(var a=0;a<r.length;a++)if(r[a].getAttributeNS("http://www.idpf.org/2007/ops","type")===i||r[a].getAttribute("epub:type")===i)return r[a]}else return r}function ad(c){for(var e=[],i=c.childNodes,r=0;r<i.length;r++){let a=i[r];a.nodeType===1&&e.push(a)}return e}function sd(c){for(var e=[c];c;c=c.parentNode)e.unshift(c);return e}function is(c,e,i){for(var r=[],a=c.childNodes,o=0;o<a.length;o++){let l=a[o];if(l.nodeType===1&&l.nodeName.toLowerCase()===e){if(i)return l;r.push(l)}}if(!i)return r}function QS(c,e){let i;if(!(c===null||e===""))for(i=c.parentNode;i.nodeType===1;){if(i.tagName.toLowerCase()===e)return i;i=i.parentNode}}class yb{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,i){this.startContainer=e,this.startOffset=i,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,i){this.endContainer=e,this.endOffset=i,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let i=e.parentNode,r=Array.prototype.indexOf.call(i.childNodes,e);this.setStart(i,r),this.setEnd(i,r+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let i=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,i)}_commonAncestorContainer(e,i){var r=sd(e||this.startContainer),a=sd(i||this.endContainer);if(r[0]==a[0]){for(var o=0;o<r.length;o++)if(r[o]!=a[o])return r[o-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const JS=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:yb,blob2base64:mb,borders:gu,bounds:lu,createBase64Url:rd,createBlob:db,createBlobUrl:yu,defaults:hb,defer:Et,documentHeight:XS,extend:Oi,filterChildren:is,findChildren:ad,getParentByTagName:QS,indexOfElementNode:fb,indexOfNode:Sd,indexOfSorted:vu,indexOfTextNode:KS,insert:WS,isElement:ub,isFloat:cb,isNumber:oi,isXml:Oo,locationOf:ls,nodeBounds:nd,parents:sd,parse:On,prefixed:es,qs:Yt,qsa:ir,qsp:ts,querySelectorByType:_u,requestAnimationFrame:xd,revokeBlobUrl:pb,sprint:bu,treeWalker:gb,type:vb,uuid:Bu,walk:Ad,windowBounds:mu},Symbol.toStringTag,{value:"Module"}));var Ef,k0;function eA(){if(k0)return Ef;if(k0=1,!c)var c={cwd:function(){return"/"}};function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+o)}function i(o,l){for(var h="",f=-1,p=0,v,m=0;m<=o.length;++m){if(m<o.length)v=o.charCodeAt(m);else{if(v===47)break;v=47}if(v===47){if(!(f===m-1||p===1))if(f!==m-1&&p===2){if(h.length<2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){for(var w=h.length-1,x=w;x>=0&&h.charCodeAt(x)!==47;--x);if(x!==w){x===-1?h="":h=h.slice(0,x),f=m,p=0;continue}}else if(h.length===2||h.length===1){h="",f=m,p=0;continue}}l&&(h.length>0?h+="/..":h="..")}else h.length>0?h+="/"+o.slice(f+1,m):h=o.slice(f+1,m);f=m,p=0}else v===46&&p!==-1?++p:p=-1}return h}function r(o,l){var h=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return h?h===l.root?h+f:h+o+f:f}var a={resolve:function(){for(var l="",h=!1,f,p=arguments.length-1;p>=-1&&!h;p--){var v;p>=0?v=arguments[p]:(f===void 0&&(f=c.cwd()),v=f),e(v),v.length!==0&&(l=v+"/"+l,h=v.charCodeAt(0)===47)}return l=i(l,!h),h?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(l){if(e(l),l.length===0)return".";var h=l.charCodeAt(0)===47,f=l.charCodeAt(l.length-1)===47;return l=i(l,!h),l.length===0&&!h&&(l="."),l.length>0&&f&&(l+="/"),h?"/"+l:l},isAbsolute:function(l){return e(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,h=0;h<arguments.length;++h){var f=arguments[h];e(f),f.length>0&&(l===void 0?l=f:l+="/"+f)}return l===void 0?".":a.normalize(l)},relative:function(l,h){if(e(l),e(h),l===h||(l=a.resolve(l),h=a.resolve(h),l===h))return"";for(var f=1;f<l.length&&l.charCodeAt(f)===47;++f);for(var p=l.length,v=p-f,m=1;m<h.length&&h.charCodeAt(m)===47;++m);for(var w=h.length,x=w-m,R=v<x?v:x,T=-1,_=0;_<=R;++_){if(_===R){if(x>R){if(h.charCodeAt(m+_)===47)return h.slice(m+_+1);if(_===0)return h.slice(m+_)}else v>R&&(l.charCodeAt(f+_)===47?T=_:_===0&&(T=0));break}var E=l.charCodeAt(f+_),S=h.charCodeAt(m+_);if(E!==S)break;E===47&&(T=_)}var A="";for(_=f+T+1;_<=p;++_)(_===p||l.charCodeAt(_)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+h.slice(m+T):(m+=T,h.charCodeAt(m)===47&&++m,h.slice(m))},_makeLong:function(l){return l},dirname:function(l){if(e(l),l.length===0)return".";for(var h=l.charCodeAt(0),f=h===47,p=-1,v=!0,m=l.length-1;m>=1;--m)if(h=l.charCodeAt(m),h===47){if(!v){p=m;break}}else v=!1;return p===-1?f?"/":".":f&&p===1?"//":l.slice(0,p)},basename:function(l,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');e(l);var f=0,p=-1,v=!0,m;if(h!==void 0&&h.length>0&&h.length<=l.length){if(h.length===l.length&&h===l)return"";var w=h.length-1,x=-1;for(m=l.length-1;m>=0;--m){var R=l.charCodeAt(m);if(R===47){if(!v){f=m+1;break}}else x===-1&&(v=!1,x=m+1),w>=0&&(R===h.charCodeAt(w)?--w===-1&&(p=m):(w=-1,p=x))}return f===p?p=x:p===-1&&(p=l.length),l.slice(f,p)}else{for(m=l.length-1;m>=0;--m)if(l.charCodeAt(m)===47){if(!v){f=m+1;break}}else p===-1&&(v=!1,p=m+1);return p===-1?"":l.slice(f,p)}},extname:function(l){e(l);for(var h=-1,f=0,p=-1,v=!0,m=0,w=l.length-1;w>=0;--w){var x=l.charCodeAt(w);if(x===47){if(!v){f=w+1;break}continue}p===-1&&(v=!1,p=w+1),x===46?h===-1?h=w:m!==1&&(m=1):h!==-1&&(m=-1)}return h===-1||p===-1||m===0||m===1&&h===p-1&&h===f+1?"":l.slice(h,p)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof l);return r("/",l)},parse:function(l){e(l);var h={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return h;var f=l.charCodeAt(0),p=f===47,v;p?(h.root="/",v=1):v=0;for(var m=-1,w=0,x=-1,R=!0,T=l.length-1,_=0;T>=v;--T){if(f=l.charCodeAt(T),f===47){if(!R){w=T+1;break}continue}x===-1&&(R=!1,x=T+1),f===46?m===-1?m=T:_!==1&&(_=1):m!==-1&&(_=-1)}return m===-1||x===-1||_===0||_===1&&m===x-1&&m===w+1?x!==-1&&(w===0&&p?h.base=h.name=l.slice(1,x):h.base=h.name=l.slice(w,x)):(w===0&&p?(h.name=l.slice(1,m),h.base=l.slice(1,x)):(h.name=l.slice(w,m),h.base=l.slice(w,x)),h.ext=l.slice(m,x)),w>0?h.dir=l.slice(0,w-1):p&&(h.dir="/"),h},sep:"/",delimiter:":",posix:null};return Ef=a,Ef}var tA=eA();const Lr=rr(tA);class nr{constructor(e){var i,r;i=e.indexOf("://"),i>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return Lr.parse(e)}isAbsolute(e){return Lr.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Lr.resolve(this.directory,e)}relative(e){var i=e&&e.indexOf("://")>-1;return i?e:Lr.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class _n{constructor(e,i){var r=e.indexOf("://")>-1,a=e,o;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=i,!r&&i!==!1&&typeof i!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,a=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(o=new nr(this.base),a=o.resolve(a))}this.Path=new nr(a),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var i=e.indexOf("://")>-1,r;return i?e:(r=Lr.resolve(this.directory,e),this.origin+r)}relative(e){return Lr.relative(e,this.directory)}toString(){return this.href}}const Ka=1,cn=3,iA=9;class xt{constructor(e,i,r){var a;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof xt))return new xt(e,i,r);if(typeof i=="string"?this.base=this.parseComponent(i):typeof i=="object"&&i.steps&&(this.base=i),a=this.checkType(e),a==="string")return this.str=e,Oi(this,this.parse(e));if(a==="range")return Oi(this,this.fromRange(e,this.base,r));if(a==="node")return Oi(this,this.fromNode(e,this.base,r));if(a==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(vb(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof xt?"EpubCFI":!1}parse(e){var i={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,a,o;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(i.base=this.parseComponent(r),a=this.getPathComponent(e),i.path=this.parseComponent(a),o=this.getRange(e),o&&(i.range=!0,i.start=this.parseComponent(o[0]),i.end=this.parseComponent(o[1])),i.spinePos=i.base.steps[1].index,i):{spinePos:-1})}parseComponent(e){var i={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),a=r[0].split("/"),o;return r.length>1&&(o=r[1],i.terminal=this.parseTerminal(o)),a[0]===""&&a.shift(),i.steps=a.map((function(l){return this.parseStep(l)}).bind(this)),i}parseStep(e){var i,r,a,o,l;if(o=e.match(/\[(.*)\]/),o&&o[1]&&(l=o[1]),r=parseInt(e),!isNaN(r))return r%2===0?(i="element",a=r/2-1):(i="text",a=(r-1)/2),{type:i,index:a,id:l||null}}parseTerminal(e){var i,r,a=e.match(/\[(.*)\]/);return a&&a[1]?(i=parseInt(e.split("[")[0]),r=a[1]):i=parseInt(e),oi(i)||(i=null),{offset:i,assertion:r}}getChapterComponent(e){var i=e.split("!");return i[0]}getPathComponent(e){var i=e.split("!");if(i[1])return i[1].split(",")[0]}getRange(e){var i=e.split(",");return i.length===3?[i[1],i[2]]:!1}getCharecterOffsetComponent(e){var i=e.split(":");return i[1]||""}joinSteps(e){return e?e.map(function(i){var r="";return i.type==="element"&&(r+=(i.index+1)*2),i.type==="text"&&(r+=1+2*i.index),i.id&&(r+="["+i.id+"]"),r}).join("/"):""}segmentString(e){var i="/";return i+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(i+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(i+="["+e.terminal.assertion+"]"),i}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,i){var r,a,o,l;if(typeof e=="string"&&(e=new xt(e)),typeof i=="string"&&(i=new xt(i)),e.spinePos>i.spinePos)return 1;if(e.spinePos<i.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),o=e.start.terminal):(r=e.path.steps,o=e.path.terminal),i.range?(a=i.path.steps.concat(i.start.steps),l=i.start.terminal):(a=i.path.steps,l=i.path.terminal);for(var h=0;h<r.length;h++){if(!r[h])return-1;if(!a[h]||r[h].index>a[h].index)return 1;if(r[h].index<a[h].index)return-1}return r.length<a.length?-1:o.offset>l.offset?1:o.offset<l.offset?-1:0}step(e){var i=e.nodeType===cn?"text":"element";return{id:e.id,tagName:e.tagName,type:i,index:this.position(e)}}filteredStep(e,i){var r=this.filter(e,i),a;if(r)return a=r.nodeType===cn?"text":"element",{id:r.id,tagName:r.tagName,type:a,index:this.filteredPosition(r,i)}}pathTo(e,i,r){for(var a={steps:[],terminal:{offset:null,assertion:null}},o=e,l;o&&o.parentNode&&o.parentNode.nodeType!=iA;)r?l=this.filteredStep(o,r):l=this.step(o),l&&a.steps.unshift(l),o=o.parentNode;return i!=null&&i>=0&&(a.terminal.offset=i,a.steps[a.steps.length-1].type!="text"&&a.steps.push({type:"text",index:0})),a}equalStep(e,i){return!e||!i?!1:e.index===i.index&&e.id===i.id&&e.type===i.type}fromRange(e,i,r){var a={range:!1,base:{},path:{},start:null,end:null},o=e.startContainer,l=e.endContainer,h=e.startOffset,f=e.endOffset,p=!1;if(r&&(p=o.ownerDocument.querySelector("."+r)!=null),typeof i=="string"?(a.base=this.parseComponent(i),a.spinePos=a.base.steps[1].index):typeof i=="object"&&(a.base=i),e.collapsed)p&&(h=this.patchOffset(o,h,r)),a.path=this.pathTo(o,h,r);else{a.range=!0,p&&(h=this.patchOffset(o,h,r)),a.start=this.pathTo(o,h,r),p&&(f=this.patchOffset(l,f,r)),a.end=this.pathTo(l,f,r),a.path={steps:[],terminal:null};var v=a.start.steps.length,m;for(m=0;m<v&&this.equalStep(a.start.steps[m],a.end.steps[m]);m++)m===v-1?a.start.terminal===a.end.terminal&&(a.path.steps.push(a.start.steps[m]),a.range=!1):a.path.steps.push(a.start.steps[m]);a.start.steps=a.start.steps.slice(a.path.steps.length),a.end.steps=a.end.steps.slice(a.path.steps.length)}return a}fromNode(e,i,r){var a={range:!1,base:{},path:{},start:null,end:null};return typeof i=="string"?(a.base=this.parseComponent(i),a.spinePos=a.base.steps[1].index):typeof i=="object"&&(a.base=i),a.path=this.pathTo(e,null,r),a}filter(e,i){var r,a,o,l,h,f=!1;return e.nodeType===cn?(f=!0,o=e.parentNode,r=e.parentNode.classList.contains(i)):(f=!1,r=e.classList.contains(i)),r&&f?(l=o.previousSibling,h=o.nextSibling,l&&l.nodeType===cn?a=l:h&&h.nodeType===cn&&(a=h),a||e):r&&!f?!1:e}patchOffset(e,i,r){if(e.nodeType!=cn)throw new Error("Anchor must be a text node");var a=e,o=i;for(e.parentNode.classList.contains(r)&&(a=e.parentNode);a.previousSibling;){if(a.previousSibling.nodeType===Ka)if(a.previousSibling.classList.contains(r))o+=a.previousSibling.textContent.length;else break;else o+=a.previousSibling.textContent.length;a=a.previousSibling}return o}normalizedMap(e,i,r){var a={},o=-1,l,h=e.length,f,p;for(l=0;l<h;l++)f=e[l].nodeType,f===Ka&&e[l].classList.contains(r)&&(f=cn),l>0&&f===cn&&p===cn?a[l]=o:i===f&&(o=o+1,a[l]=o),p=f;return a}position(e){var i,r;return e.nodeType===Ka?(i=e.parentNode.children,i||(i=ad(e.parentNode)),r=Array.prototype.indexOf.call(i,e)):(i=this.textNodes(e.parentNode),r=i.indexOf(e)),r}filteredPosition(e,i){var r,a,o;return e.nodeType===Ka?(r=e.parentNode.children,o=this.normalizedMap(r,Ka,i)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(i)&&(e=e.parentNode,r=e.parentNode.childNodes),o=this.normalizedMap(r,cn,i)),a=Array.prototype.indexOf.call(r,e),o[a]}stepsToXpath(e){var i=[".","*"];return e.forEach(function(r){var a=r.index+1;r.id?i.push("*[position()="+a+" and @id='"+r.id+"']"):r.type==="text"?i.push("text()["+a+"]"):i.push("*["+a+"]")}),i.join("/")}stepsToQuerySelector(e){var i=["html"];return e.forEach(function(r){var a=r.index+1;r.id?i.push("#"+r.id):r.type==="text"||i.push("*:nth-child("+a+")")}),i.join(">")}textNodes(e,i){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===cn?!0:!!(i&&r.classList.contains(i))})}walkToNode(e,i,r){var a=i||document,o=a.documentElement,l,h,f=e.length,p;for(p=0;p<f&&(h=e[p],h.type==="element"?h.id?o=a.getElementById(h.id):(l=o.children||ad(o),o=l[h.index]):h.type==="text"&&(o=this.textNodes(o,r)[h.index]),!!o);p++);return o}findNode(e,i,r){var a=i||document,o,l;return!r&&typeof a.evaluate<"u"?(l=this.stepsToXpath(e),o=a.evaluate(l,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?o=this.walkToNode(e,a,r):o=this.walkToNode(e,a),o}fixMiss(e,i,r,a){var o=this.findNode(e.slice(0,-1),r,a),l=o.childNodes,h=this.normalizedMap(l,cn,a),f,p,v=e[e.length-1].index;for(let m in h){if(!h.hasOwnProperty(m))return;if(h[m]===v)if(f=l[m],p=f.textContent.length,i>p)i=i-p;else{f.nodeType===Ka?o=f.childNodes[0]:o=f;break}}return{container:o,offset:i}}toRange(e,i){var r=e||document,a,o,l,h,f,p=this,v,m,w=i?r.querySelector("."+i)!=null:!1,x;if(typeof r.createRange<"u"?a=r.createRange():a=new yb,p.range?(o=p.start,v=p.path.steps.concat(o.steps),h=this.findNode(v,r,w?i:null),l=p.end,m=p.path.steps.concat(l.steps),f=this.findNode(m,r,w?i:null)):(o=p.path,v=p.path.steps,h=this.findNode(p.path.steps,r,w?i:null)),h)try{o.terminal.offset!=null?a.setStart(h,o.terminal.offset):a.setStart(h,0)}catch{x=this.fixMiss(v,o.terminal.offset,r,w?i:null),a.setStart(x.container,x.offset)}else return console.log("No startContainer found for",this.toString()),null;if(f)try{l.terminal.offset!=null?a.setEnd(f,l.terminal.offset):a.setEnd(f,0)}catch{x=this.fixMiss(m,p.end.terminal.offset,r,w?i:null),a.setEnd(x.container,x.offset)}return a}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,i,r){var a=parseInt(i),o=(e+1)*2,l="/"+o+"/";return l+=(a+1)*2,r&&(l+="["+r+"]"),l}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class En{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var i=0;i<arguments[e].length;++i)this.hooks.push(arguments[e][i])}deregister(e){let i;for(let r=0;r<this.hooks.length;r++)if(i=this.hooks[r],i===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,i=this.context,r=[];return this.hooks.forEach(function(a){try{var o=a.apply(i,e)}catch(l){console.log(l)}o&&typeof o.then=="function"&&r.push(o)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}}function bb(c,e){var i,r,a=e.url,o=a.indexOf("://")>-1;c&&(r=Yt(c,"head"),i=Yt(r,"base"),i||(i=c.createElement("base"),r.insertBefore(i,r.firstChild)),!o&&window&&window.location&&(a=window.location.origin+a),i.setAttribute("href",a))}function nA(c,e){var i,r,a=e.canonical;c&&(i=Yt(c,"head"),r=Yt(i,"link[rel='canonical']"),r?r.setAttribute("href",a):(r=c.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",a),i.appendChild(r)))}function rA(c,e){var i,r,a=e.idref;c&&(i=Yt(c,"head"),r=Yt(i,"link[property='dc.identifier']"),r?r.setAttribute("content",a):(r=c.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",a),i.appendChild(r)))}function aA(c,e){var i=c.querySelectorAll("a[href]");if(i.length)for(var r=Yt(c.ownerDocument,"base"),a=r?r.getAttribute("href"):void 0,o=(function(h){var f=h.getAttribute("href");if(f.indexOf("mailto:")!==0){var p=f.indexOf("://")>-1;if(p)h.setAttribute("target","_blank");else{var v;try{v=new _n(f,a)}catch{}h.onclick=function(){return v&&v.hash?e(v.Path.path+v.hash):e(v?v.Path.path:f),!1}}}}).bind(this),l=0;l<i.length;l++)o(i[l])}function T0(c,e,i){return e.forEach(function(r,a){r&&i[a]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=c.replace(new RegExp(r,"g"),i[a]))}),c}function No(c,e,i,r){var a=typeof window<"u"?window.URL:!1,o=a?"blob":"arraybuffer",l=new Et,h=new XMLHttpRequest,f=XMLHttpRequest.prototype,p;"overrideMimeType"in f||Object.defineProperty(f,"overrideMimeType",{value:function(){}}),i&&(h.withCredentials=!0),h.onreadystatechange=m,h.onerror=v,h.open("GET",c,!0);for(p in r)h.setRequestHeader(p,r[p]);e=="json"&&h.setRequestHeader("Accept","application/json"),e||(e=new nr(c).extension),e=="blob"&&(h.responseType=o),Oo(e)&&h.overrideMimeType("text/xml"),e=="binary"&&(h.responseType="arraybuffer"),h.send();function v(w){l.reject(w)}function m(){if(this.readyState===XMLHttpRequest.DONE){var w=!1;if((this.responseType===""||this.responseType==="document")&&(w=this.responseXML),this.status===200||this.status===0||w){var x;if(!this.response&&!w)return l.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),l.promise;if(this.status===403)return l.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),l.promise;w?x=this.responseXML:Oo(e)?x=On(this.response,"text/xml"):e=="xhtml"?x=On(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?x=On(this.response,"text/html"):e=="json"?x=JSON.parse(this.response):e=="blob"?a?x=this.response:x=new Blob([this.response]):x=this.response,l.resolve(x)}else l.reject({status:this.status,message:this.response,stack:new Error().stack})}}return l.promise}class sA{constructor(e,i){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,i?this.hooks=i:(this.hooks={},this.hooks.serialize=new En(this),this.hooks.content=new En(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var i=e||this.request||No,r=new Et,a=r.promise;return this.contents?r.resolve(this.contents):i(this.url).then((function(o){return this.document=o,this.contents=o.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){r.resolve(this.contents)}).bind(this)).catch(function(o){r.reject(o)}),a}base(){return bb(this.document,this)}render(e){var i=new Et,r=i.promise;return this.output,this.load(e).then((function(a){var o=typeof navigator<"u"&&navigator.userAgent||"",l=o.indexOf("Trident")>=0,h;typeof XMLSerializer>"u"||l?h=ob.DOMParser:h=XMLSerializer;var f=new h;return this.output=f.serializeToString(a),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){i.resolve(this.output)}).bind(this)).catch(function(a){i.reject(a)}),r}find(e){var i=this,r=[],a=e.toLowerCase(),o=function(l){for(var h=l.textContent.toLowerCase(),f=i.document.createRange(),p,v,m=-1,w,x=150;v!=-1;)v=h.indexOf(a,m+1),v!=-1&&(f=i.document.createRange(),f.setStart(l,v),f.setEnd(l,v+a.length),p=i.cfiFromRange(f),l.textContent.length<x?w=l.textContent:(w=l.textContent.substring(v-x/2,v+x/2),w="..."+w+"..."),r.push({cfi:p,excerpt:w})),m=v};return bu(i.document,function(l){o(l)}),r}search(e,i=5){if(typeof document.createTreeWalker>"u")return this.find(e);let r=[];const a=150,o=this,l=e.toLowerCase(),h=function(m){const R=m.reduce((T,_)=>T+_.textContent,"").toLowerCase().indexOf(l);if(R!=-1){const _=R+l.length;let E=0,S=0;if(R<m[0].length){let A;for(;E<m.length-1&&(S+=m[E].length,!(_<=S));)E+=1;let z=m[0],C=m[E],N=o.document.createRange();N.setStart(z,R);let F=m.slice(0,E).reduce((I,H)=>I+H.textContent.length,0);N.setEnd(C,F>_?_:_-F),A=o.cfiFromRange(N);let V=m.slice(0,E+1).reduce((I,H)=>I+H.textContent,"");V.length>a&&(V=V.substring(R-a/2,R+a/2),V="..."+V+"..."),r.push({cfi:A,excerpt:V})}}},f=document.createTreeWalker(o.document,NodeFilter.SHOW_TEXT,null,!1);let p,v=[];for(;p=f.nextNode();)v.push(p),v.length==i&&(h(v.slice(0,i)),v=v.slice(1,i));return v.length>0&&h(v),r}reconcileLayoutSettings(e){var i={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var a=r.replace("rendition:",""),o=a.indexOf("-"),l,h;o!=-1&&(l=a.slice(0,o),h=a.slice(o+1),i[l]=h)}),i}cfiFromRange(e){return new xt(e,this.cfiBase).toString()}cfiFromElement(e){return new xt(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class oA{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new En,this.hooks.content=new En,this.hooks.content.register(bb),this.hooks.content.register(nA),this.hooks.content.register(rA),this.epubcfi=new xt,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,i,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((a,o)=>{var l=this.manifest[a.idref],h;a.index=o,a.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,a.index,a.id),a.href&&(a.url=i(a.href,!0),a.canonical=r(a.href)),l&&(a.href=l.href,a.url=i(a.href,!0),a.canonical=r(a.href),l.properties.length&&a.properties.push.apply(a.properties,l.properties)),a.linear==="yes"?(a.prev=(function(){let f=a.index;for(;f>0;){let p=this.get(f-1);if(p&&p.linear)return p;f-=1}}).bind(this),a.next=(function(){let f=a.index;for(;f<this.spineItems.length-1;){let p=this.get(f+1);if(p&&p.linear)return p;f+=1}}).bind(this)):(a.prev=function(){},a.next=function(){}),h=new sA(a,this.hooks),this.append(h)}),this.loaded=!0}get(e){var i=0;if(typeof e>"u")for(;i<this.spineItems.length;){let r=this.spineItems[i];if(r&&r.linear)break;i+=1}else this.epubcfi.isCfiString(e)?i=new xt(e).spinePos:typeof e=="number"||isNaN(e)===!1?i=e:typeof e=="string"&&e.indexOf("#")===0?i=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],i=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[i]||null}append(e){var i=this.spineItems.length;return e.index=i,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=i,this.spineByHref[encodeURI(e.href)]=i,this.spineByHref[e.href]=i,this.spineById[e.idref]=i,i}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(i,r){i.index=r}),0}remove(e){var i=this.spineItems.indexOf(e);if(i>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(i,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let i=this.get(e);if(i&&i.linear)return i;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let i=this.get(e);if(i&&i.linear)return i;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Cd{constructor(e){this._q=[],this.context=e,this.tick=xd,this.running=!1,this.paused=!1}enqueue(){var e,i,r,a=[].shift.call(arguments),o=arguments;if(!a)throw new Error("No Task Provided");return typeof a=="function"?(e=new Et,i=e.promise,r={task:a,args:o,deferred:e,promise:i}):r={promise:a},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,i,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),i=e.task,i)return r=i.apply(this.context,e.args),r&&typeof r.then=="function"?r.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new Et,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Et),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Lu="0.3",uu=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Pe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class _b{constructor(e,i,r){this.spine=e,this.request=i,this.pause=r||100,this.q=new Cd(this),this.epubcfi=new xt,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(i){i.linear&&this.q.enqueue(this.process.bind(this),i)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(i){var r=new Et,a=this.parse(i,e.cfiBase);return this._locations=this._locations.concat(a),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(a),this.pause),r.promise}).bind(this))}parse(e,i,r){var a=[],o,l=e.ownerDocument,h=Yt(l,"body"),f=0,p,v=r||this.break,m=function(w){var x=w.length,R,T=0;if(w.textContent.trim().length===0)return!1;for(f==0&&(o=this.createRange(),o.startContainer=w,o.startOffset=0),R=v-f,R>x&&(f+=x,T=x);T<x;)if(R=v-f,f===0&&(T+=1,o=this.createRange(),o.startContainer=w,o.startOffset=T),T+R>=x)f+=x-T,T=x;else{T+=R,o.endContainer=w,o.endOffset=T;let _=new xt(o,i).toString();a.push(_),f=0}p=w};if(bu(h,m.bind(this)),o&&o.startContainer&&p){o.endContainer=p,o.endOffset=p.length;let w=new xt(o,i).toString();a.push(w),f=0}return a}generateFromWords(e,i,r){var a=e?new xt(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(o){o.linear&&(a?o.index>=a.spinePos&&this.q.enqueue(this.processWords.bind(this),o,i,a,r):this.q.enqueue(this.processWords.bind(this),o,i,a,r))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,i,r,a){return a&&this._locationsWords.length>=a?Promise.resolve():e.load(this.request).then((function(o){var l=new Et,h=this.parseWords(o,e,i,r),f=a-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(h.length>=a?h.slice(0,f):h),e.unload(),this.processingTimeout=setTimeout(()=>l.resolve(h),this.pause),l.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,i,r,a){var o=i.cfiBase,l=[],h=e.ownerDocument,f=Yt(h,"body"),p=r,v=a?a.spinePos!==i.index:!0,m;a&&i.index===a.spinePos&&(m=a.findNode(a.range?a.path.steps.concat(a.start.steps):a.path.steps,e.ownerDocument));var w=function(x){if(!v)if(x===m)v=!0;else return!1;if(x.textContent.length<10&&x.textContent.trim().length===0)return!1;var R=this.countWords(x.textContent),T,_=0;if(R===0)return!1;for(T=p-this._wordCounter,T>R&&(this._wordCounter+=R,_=R);_<R;)if(T=p-this._wordCounter,_+T>=R)this._wordCounter+=R-_,_=R;else{_+=T;let E=new xt(x,o);l.push({cfi:E.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return bu(f,w.bind(this)),l}locationFromCfi(e){let i;return xt.prototype.isCfiString(e)&&(e=new xt(e)),this._locations.length===0?-1:(i=ls(e,this._locations,this.epubcfi.compare),i>this.total?this.total:i)}percentageFromCfi(e){if(this._locations.length===0)return null;var i=this.locationFromCfi(e);return this.percentageFromLocation(i)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var i=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(i=this._locations[e]),i}cfiFromPercentage(e){let i;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let r=new xt(this._locations[this.total]);return r.collapse(),r.toString()}return i=Math.ceil(this.total*e),this.cfiFromLocation(i)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var i;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(i=this.locationFromCfi(e),this._current=i):i=e,this.emit(Pe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(i)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}Bn(_b.prototype);class lA{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var i;if(!e)throw new Error("Container File Not Found");if(i=Yt(e,"rootfile"),!i)throw new Error("No RootFile Found");this.packagePath=i.getAttribute("full-path"),this.directory=Lr.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class D0{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var i,r,a;if(!e)throw new Error("Package File Not Found");if(i=Yt(e,"metadata"),!i)throw new Error("No Metadata Found");if(r=Yt(e,"manifest"),!r)throw new Error("No Manifest Found");if(a=Yt(e,"spine"),!a)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,a),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=fb(a),this.spine=this.parseSpine(a,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(i),this.metadata.direction=a.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var i={};return i.title=this.getElementText(e,"title"),i.creator=this.getElementText(e,"creator"),i.description=this.getElementText(e,"description"),i.pubdate=this.getElementText(e,"date"),i.publisher=this.getElementText(e,"publisher"),i.identifier=this.getElementText(e,"identifier"),i.language=this.getElementText(e,"language"),i.rights=this.getElementText(e,"rights"),i.modified_date=this.getPropertyText(e,"dcterms:modified"),i.layout=this.getPropertyText(e,"rendition:layout"),i.orientation=this.getPropertyText(e,"rendition:orientation"),i.flow=this.getPropertyText(e,"rendition:flow"),i.viewport=this.getPropertyText(e,"rendition:viewport"),i.media_active_class=this.getPropertyText(e,"media:active-class"),i.spread=this.getPropertyText(e,"rendition:spread"),i}parseManifest(e){var i={},r=ir(e,"item"),a=Array.prototype.slice.call(r);return a.forEach(function(o){var l=o.getAttribute("id"),h=o.getAttribute("href")||"",f=o.getAttribute("media-type")||"",p=o.getAttribute("media-overlay")||"",v=o.getAttribute("properties")||"";i[l]={href:h,type:f,overlay:p,properties:v.length?v.split(" "):[]}}),i}parseSpine(e,i){var r=[],a=ir(e,"itemref"),o=Array.prototype.slice.call(a);return o.forEach(function(l,h){var f=l.getAttribute("idref"),p=l.getAttribute("properties")||"",v=p.length?p.split(" "):[],m={id:l.getAttribute("id"),idref:f,linear:l.getAttribute("linear")||"yes",properties:v,index:h};r.push(m)}),r}findUniqueIdentifier(e){var i=e.documentElement.getAttribute("unique-identifier");if(!i)return"";var r=e.getElementById(i);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var i=ts(e,"item",{properties:"nav"});return i?i.getAttribute("href"):!1}findNcxPath(e,i){var r=ts(e,"item",{"media-type":"application/x-dtbncx+xml"}),a;return r||(a=i.getAttribute("toc"),a&&(r=e.querySelector(`#${a}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var i=Yt(e,"package");i.getAttribute("version");var r=ts(e,"item",{properties:"cover-image"});if(r)return r.getAttribute("href");var a=ts(e,"meta",{name:"cover"});if(a){var o=a.getAttribute("content"),l=e.getElementById(o);return l?l.getAttribute("href"):""}else return!1}getElementText(e,i){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",i),a;return!r||r.length===0?"":(a=r[0],a.childNodes.length?a.childNodes[0].nodeValue:"")}getPropertyText(e,i){var r=ts(e,"meta",{property:i});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let i=e.readingOrder||e.spine;return this.spine=i.map((r,a)=>(r.index=a,r.linear=r.linear||"yes",r)),e.resources.forEach((r,a)=>{this.manifest[a]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,a)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class xf{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let i=e.nodeType,r,a;i&&(r=Yt(e,"html"),a=Yt(e,"ncx")),i?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):a&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var i,r=0;r<e.length;r++)i=e[r],i.href&&(this.tocByHref[i.href]=r),i.id&&(this.tocById[i.id]=r),this.length++,i.subitems.length&&this.unpack(i.subitems)}get(e){var i;return e?(e.indexOf("#")===0?i=this.tocById[e.substring(1)]:e in this.tocByHref&&(i=this.tocByHref[e]),this.getByIndex(e,i,this.toc)):this.toc}getByIndex(e,i,r){if(r.length===0)return;const a=r[i];if(a&&(e===a.id||e===a.href))return a;{let o;for(let l=0;l<r.length&&(o=this.getByIndex(e,i,r[l].subitems),!o);++l);return o}}landmark(e){var i;return e?(i=this.landmarksByType[e],this.landmarks[i]):this.landmarks}parseNav(e){var i=_u(e,"nav","toc"),r=[];if(!i)return r;let a=is(i,"ol",!0);return a&&(r=this.parseNavList(a)),r}parseNavList(e,i){const r=[];if(!e||!e.children)return r;for(let a=0;a<e.children.length;a++){const o=this.navItem(e.children[a],i);o&&r.push(o)}return r}navItem(e,i){let r=e.getAttribute("id")||void 0,a=is(e,"a",!0)||is(e,"span",!0);if(!a)return;let o=a.getAttribute("href")||"";r||(r=o);let l=a.textContent||"",h=[],f=is(e,"ol",!0);return f&&(h=this.parseNavList(f,r)),{id:r,href:o,label:l,subitems:h,parent:i}}parseLandmarks(e){var i=_u(e,"nav","landmarks"),r=i?ir(i,"li"):[],a=r.length,o,l=[],h;if(!r||a===0)return l;for(o=0;o<a;++o)h=this.landmarkItem(r[o]),h&&(l.push(h),this.landmarksByType[h.type]=o);return l}landmarkItem(e){let i=is(e,"a",!0);if(!i)return;let r=i.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,a=i.getAttribute("href")||"",o=i.textContent||"";return{href:a,label:o,type:r}}parseNcx(e){var i=ir(e,"navPoint"),r=i.length,a,o={},l=[],h,f;if(!i||r===0)return l;for(a=0;a<r;++a)h=this.ncxItem(i[a]),o[h.id]=h,h.parent?(f=o[h.parent],f.subitems.push(h)):l.push(h);return l}ncxItem(e){var i=e.getAttribute("id")||!1,r=Yt(e,"content"),a=r.getAttribute("src"),o=Yt(e,"navLabel"),l=o.textContent?o.textContent:"",h=[],f=e.parentNode,p;return f&&(f.nodeName==="navPoint"||f.nodeName.split(":").slice(-1)[0]==="navPoint")&&(p=f.getAttribute("id")),{id:i,href:a,label:l,subitems:h,parent:p}}load(e){return e.map(i=>(i.label=i.title,i.subitems=i.children?this.load(i.children):[],i))}forEach(e){return this.toc.forEach(e)}}var wo={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},uA=function(){var c,e,i,r,a={};for(c in wo)if(wo.hasOwnProperty(c)){for(e in wo[c])if(wo[c].hasOwnProperty(e))if(i=wo[c][e],typeof i=="string")a[i]=c+"/"+e;else for(r=0;r<i.length;r++)a[i[r]]=c+"/"+e}return a}(),cA="text/plain";function hA(c){return c&&uA[c.split(".").pop().toLowerCase()]||cA}const rs={lookup:hA};class fA{constructor(e,i){this.settings={replacements:i&&i.replacements||"base64",archive:i&&i.archive,resolver:i&&i.resolver,request:i&&i.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(i){return e[i]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var i=new _n(e),r=rs.lookup(i.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(a=>mb(a)).then(a=>rd(a,r)):this.settings.request(e,"blob").then(a=>yu(a,r))}replacements(){if(this.settings.replacements==="none")return new Promise((function(i){i(this.urls)}).bind(this));var e=this.urls.map(i=>{var r=this.settings.resolver(i);return this.createUrl(r).catch(a=>(console.error(a),null))});return Promise.all(e).then(i=>(this.replacementUrls=i.filter(r=>typeof r=="string"),i))}replaceCss(e,i){var r=[];return e=e||this.settings.archive,i=i||this.settings.resolver,this.cssUrls.forEach((function(a){var o=this.createCssFile(a,e,i).then((function(l){var h=this.urls.indexOf(a);h>-1&&(this.replacementUrls[h]=l)}).bind(this));r.push(o)}).bind(this)),Promise.all(r)}createCssFile(e){var i;if(Lr.isAbsolute(e))return new Promise(function(l){l()});var r=this.settings.resolver(e),a;this.settings.archive?a=this.settings.archive.getText(r):a=this.settings.request(r,"text");var o=this.urls.map(l=>{var h=this.settings.resolver(l),f=new nr(r).relative(h);return f});return a?a.then(l=>(l=T0(l,o,this.replacementUrls),this.settings.replacements==="base64"?i=rd(l,"text/css"):i=yu(l,"text/css"),i),l=>new Promise(function(h){h()})):new Promise(function(l){l()})}relativeTo(e,i){return i=i||this.settings.resolver,this.urls.map((function(r){var a=i(r),o=new nr(e).relative(a);return o}).bind(this))}get(e){var i=this.urls.indexOf(e);if(i!==-1)return this.replacementUrls.length?new Promise((function(r,a){r(this.replacementUrls[i])}).bind(this)):this.createUrl(e)}substitute(e,i){var r;return i?r=this.relativeTo(i):r=this.urls,T0(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class Sf{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new xt,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var i=Yt(e,"html"),r=Yt(e,"ncx");if(i)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var i=_u(e,"nav","page-list"),r=i?ir(i,"li"):[],a=r.length,o,l=[],h;if(!r||a===0)return l;for(o=0;o<a;++o)h=this.item(r[o]),l.push(h);return l}parseNcx(e){var i=[],r=0,a,o,l,h=0;if(o=Yt(e,"pageList"),!o||(l=ir(o,"pageTarget"),h=l.length,!l||l.length===0))return i;for(r=0;r<h;++r)a=this.ncxItem(l[r]),i.push(a);return i}ncxItem(e){var i=Yt(e,"navLabel"),r=Yt(i,"text"),a=r.textContent,o=Yt(e,"content"),l=o.getAttribute("src"),h=parseInt(a,10);return{href:l,page:h}}item(e){var i=Yt(e,"a"),r=i.getAttribute("href")||"",a=i.textContent||"",o=parseInt(a),l=r.indexOf("epubcfi"),h,f,p;return l!=-1?(h=r.split("#"),f=h[0],p=h.length>1?h[1]:!1,{cfi:p,href:r,packageUrl:f,page:o}):{href:r,page:o}}process(e){e.forEach(function(i){this.pages.push(i.page),i.cfi&&this.locations.push(i.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var i=-1;if(this.locations.length===0)return-1;var r=vu(e,this.locations,this.epubcfi.compare);return r!=-1?i=this.pages[r]:(r=ls(e,this.locations,this.epubcfi.compare),i=r-1>=0?this.pages[r-1]:this.pages[0],i!==void 0||(i=-1)),i}cfiFromPage(e){var i=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(i=this.locations[r]),i}pageFromPercentage(e){var i=Math.round(this.totalPages*e);return i}percentageFromPage(e){var i=(e-this.firstPage)/this.totalPages;return Math.round(i*1e3)/1e3}percentageFromCfi(e){var i=this.pageFromCfi(e),r=this.percentageFromPage(i);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class wb{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,i){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),i>=0&&(this._minSpreadWidth=i),this._spread}calculate(e,i,r){var a=1,o=r||0,l=e,h=i,f=Math.floor(l/12),p,v,m,w;this._spread&&l>=this._minSpreadWidth?a=2:a=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(o=f%2===0?f:f-1),this.name==="pre-paginated"&&(o=0),a>1?(p=l/a-o,m=p+o):(p=l,m=l),this.name==="pre-paginated"&&a>1&&(l=p),v=p*a+o,w=l,this.width=l,this.height=h,this.spreadWidth=v,this.pageWidth=m,this.delta=w,this.columnWidth=p,this.gap=o,this.divisor=a,this.update({width:l,height:h,spreadWidth:v,pageWidth:m,delta:w,columnWidth:p,gap:o,divisor:a})}format(e,i,r){var a;return this.name==="pre-paginated"?a=e.fit(this.columnWidth,this.height,i):this._flow==="paginated"?a=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?a=e.size(null,this.height):a=e.size(this.width,null),a}count(e,i){let r,a;return this.name==="pre-paginated"?(r=1,a=1):this._flow==="paginated"?(i=i||this.delta,r=Math.ceil(e/i),a=r*this.divisor):(i=i||this.height,r=Math.ceil(e/i),a=r),{spreads:r,pages:a}}update(e){if(Object.keys(e).forEach(i=>{this.props[i]===e[i]&&delete e[i]}),Object.keys(e).length>0){let i=Oi(this.props,e);this.emit(Pe.LAYOUT.UPDATED,i,e)}}}Bn(wb.prototype);class dA{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var i in e)e.hasOwnProperty(i)&&(typeof e[i]=="string"?this.registerUrl(i,e[i]):this.registerRules(i,e[i]))}registerCss(e,i){this._themes[e]={serialized:i},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,i){var r=new _n(i);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,i){this._themes[e]={rules:i},(this._injected[e]||e=="default")&&this.update(e)}select(e){var i=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(a=>{a.removeClass(i),a.addClass(e)})}update(e){var i=this.rendition.getContents();i.forEach(r=>{this.add(e,r)})}inject(e){var i=[],r=this._themes,a;for(var o in r)r.hasOwnProperty(o)&&(o===this._current||o==="default")&&(a=r[o],(a.rules&&Object.keys(a.rules).length>0||a.url&&i.indexOf(a.url)===-1)&&this.add(o,e),this._injected.push(o));this._current!="default"&&e.addClass(this._current)}add(e,i){var r=this._themes[e];!r||!i||(r.url?i.addStylesheet(r.url):r.serialized?(i.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(i.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,i,r){var a=this.rendition.getContents();this._overrides[e]={value:i,priority:r===!0},a.forEach(o=>{o.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var i=this.rendition.getContents();delete this._overrides[e],i.forEach(r=>{r.css(e)})}overrides(e){var i=this._overrides;for(var r in i)i.hasOwnProperty(r)&&e.css(r,i[r].value,i[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class wu{constructor(e,i,r,a=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=i||"ltr",this._dev=a}section(e){var i=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,i);return r}page(e,i,r,a){var o=e&&e.document?e.document.body:!1,l;if(o){if(l=this.rangePairToCfiPair(i,{start:this.findStart(o,r,a),end:this.findEnd(o,r,a)}),this._dev===!0){let h=e.document,f=new xt(l.start).toRange(h),p=new xt(l.end).toRange(h),v=h.defaultView.getSelection(),m=h.createRange();v.removeAllRanges(),m.setStart(f.startContainer,f.startOffset),m.setEnd(p.endContainer,p.endOffset),v.addRange(m)}return l}}walk(e,i){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(f){return f.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},a=r.acceptNode;a.acceptNode=r.acceptNode;for(var o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,a,!1),l,h;(l=o.nextNode())&&(h=i(l),!h););return h}}findRanges(e){for(var i=[],r=e.contents.scrollWidth(),a=Math.ceil(r/this.layout.spreadWidth),o=a*this.layout.divisor,l=this.layout.columnWidth,h=this.layout.gap,f,p,v=0;v<o.pages;v++)f=(l+h)*v,p=l*(v+1)+h*v,i.push({start:this.findStart(e.document.body,f,p),end:this.findEnd(e.document.body,f,p)});return i}findStart(e,i,r){for(var a=[e],o,l,h=e;a.length;)if(o=a.shift(),l=this.walk(o,f=>{var p,v,m,w,x;if(x=nd(f),this.horizontal&&this.direction==="ltr"){if(p=this.horizontal?x.left:x.top,v=this.horizontal?x.right:x.bottom,p>=i&&p<=r)return f;if(v>i)return f;h=f,a.push(f)}else if(this.horizontal&&this.direction==="rtl"){if(p=x.left,v=x.right,v<=r&&v>=i)return f;if(p<r)return f;h=f,a.push(f)}else{if(m=x.top,w=x.bottom,m>=i&&m<=r)return f;if(w>i)return f;h=f,a.push(f)}}),l)return this.findTextStartRange(l,i,r);return this.findTextStartRange(h,i,r)}findEnd(e,i,r){for(var a=[e],o,l=e,h;a.length;)if(o=a.shift(),h=this.walk(o,f=>{var p,v,m,w,x;if(x=nd(f),this.horizontal&&this.direction==="ltr"){if(p=Math.round(x.left),v=Math.round(x.right),p>r&&l)return l;if(v>r)return f;l=f,a.push(f)}else if(this.horizontal&&this.direction==="rtl"){if(p=Math.round(this.horizontal?x.left:x.top),v=Math.round(this.horizontal?x.right:x.bottom),v<i&&l)return l;if(p<i)return f;l=f,a.push(f)}else{if(m=Math.round(x.top),w=Math.round(x.bottom),m>r&&l)return l;if(w>r)return f;l=f,a.push(f)}}),h)return this.findTextEndRange(h,i,r);return this.findTextEndRange(l,i,r)}findTextStartRange(e,i,r){for(var a=this.splitTextNodeIntoRanges(e),o,l,h,f,p,v=0;v<a.length;v++)if(o=a[v],l=o.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(h=l.left,h>=i)return o}else if(this.horizontal&&this.direction==="rtl"){if(p=l.right,p<=r)return o}else if(f=l.top,f>=i)return o;return a[0]}findTextEndRange(e,i,r){for(var a=this.splitTextNodeIntoRanges(e),o,l,h,f,p,v,m,w=0;w<a.length;w++){if(l=a[w],h=l.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(f=h.left,p=h.right,f>r&&o)return o;if(p>r)return l}else if(this.horizontal&&this.direction==="rtl"){if(f=h.left,p=h.right,p<i&&o)return o;if(f<i)return l}else{if(v=h.top,m=h.bottom,v>r&&o)return o;if(m>r)return l}o=l}return a[a.length-1]}splitTextNodeIntoRanges(e,i){var r=[],a=e.textContent||"",o=a.trim(),l,h=e.ownerDocument,f=i||" ",p=o.indexOf(f);if(p===-1||e.nodeType!=Node.TEXT_NODE)return l=h.createRange(),l.selectNodeContents(e),[l];for(l=h.createRange(),l.setStart(e,0),l.setEnd(e,p),r.push(l),l=!1;p!=-1;)p=o.indexOf(f,p+1),p>0&&(l&&(l.setEnd(e,p),r.push(l)),l=h.createRange(),l.setStart(e,p+1));return l&&(l.setEnd(e,o.length),r.push(l)),r}rangePairToCfiPair(e,i){var r=i.start,a=i.end;r.collapse(!0),a.collapse(!1);let o=new xt(r,e).toString(),l=new xt(a,e).toString();return{start:o,end:l}}rangeListToCfiList(e,i){for(var r=[],a,o=0;o<i.length;o++)a=this.rangePairToCfiPair(e,i[o]),r.push(a);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const Eb=typeof navigator<"u",pA=Eb&&/Chrome/.test(navigator.userAgent),R0=Eb&&!pA&&/AppleWebKit/.test(navigator.userAgent),vA=1;class kd{constructor(e,i,r,a){this.epubcfi=new xt,this.document=e,this.documentElement=this.document.documentElement,this.content=i||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=a||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",Lu),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return uu}width(e){var i=this.content;return e&&oi(e)&&(e=e+"px"),e&&(i.style.width=e),parseInt(this.window.getComputedStyle(i).width)}height(e){var i=this.content;return e&&oi(e)&&(e=e+"px"),e&&(i.style.height=e),parseInt(this.window.getComputedStyle(i).height)}contentWidth(e){var i=this.content||this.document.body;return e&&oi(e)&&(e=e+"px"),e&&(i.style.width=e),parseInt(this.window.getComputedStyle(i).width)}contentHeight(e){var i=this.content||this.document.body;return e&&oi(e)&&(e=e+"px"),e&&(i.style.height=e),parseInt(this.window.getComputedStyle(i).height)}textWidth(){let e,i,r=this.document.createRange(),a=this.content||this.document.body,o=gu(a);return r.selectNodeContents(a),e=r.getBoundingClientRect(),i=e.width,o&&o.width&&(i+=o.width),Math.round(i)}textHeight(){let e,i,r=this.document.createRange(),a=this.content||this.document.body;return r.selectNodeContents(a),e=r.getBoundingClientRect(),i=e.bottom,Math.round(i)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,i,r){var a=this.content||this.document.body;return i?a.style.setProperty(e,i,r?"important":""):a.style.removeProperty(e),this.window.getComputedStyle(a)[e]}viewport(e){var i=this.document.querySelector("meta[name='viewport']"),r={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},a=[],o={};if(i&&i.hasAttribute("content")){let l=i.getAttribute("content"),h=l.match(/width\s*=\s*([^,]*)/),f=l.match(/height\s*=\s*([^,]*)/),p=l.match(/initial-scale\s*=\s*([^,]*)/),v=l.match(/minimum-scale\s*=\s*([^,]*)/),m=l.match(/maximum-scale\s*=\s*([^,]*)/),w=l.match(/user-scalable\s*=\s*([^,]*)/);h&&h.length&&typeof h[1]<"u"&&(r.width=h[1]),f&&f.length&&typeof f[1]<"u"&&(r.height=f[1]),p&&p.length&&typeof p[1]<"u"&&(r.scale=p[1]),v&&v.length&&typeof v[1]<"u"&&(r.minimum=v[1]),m&&m.length&&typeof m[1]<"u"&&(r.maximum=m[1]),w&&w.length&&typeof w[1]<"u"&&(r.scalable=w[1])}return o=hb(e||{},r),e&&(o.width&&a.push("width="+o.width),o.height&&a.push("height="+o.height),o.scale&&a.push("initial-scale="+o.scale),o.scalable==="no"?(a.push("minimum-scale="+o.scale),a.push("maximum-scale="+o.scale),a.push("user-scalable="+o.scalable)):(o.scalable&&a.push("user-scalable="+o.scalable),o.minimum&&a.push("minimum-scale="+o.minimum),o.maximum&&a.push("minimum-scale="+o.maximum)),i||(i=this.document.createElement("meta"),i.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(i)),i.setAttribute("content",a.join(", ")),this.window.scrollTo(0,0)),o}expand(){this.emit(Pe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),i=this.textHeight();(e!=this._size.width||i!=this._size.height)&&(this._size={width:e,height:i},this.onResize&&this.onResize(this._size),this.emit(Pe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,i=(function(h){h.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),r=0;r<e.length;r+=1){var a;try{a=e[r].cssRules}catch{return}if(!a)return;for(var o=0;o<a.length;o+=1)if(a[o].media){var l=this.window.matchMedia(a[o].media.mediaText);l.addListener(i)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(i=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),i,r=0;r<e.length;r++)i=e[r],typeof i.naturalWidth<"u"&&i.naturalWidth===0&&(i.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,i){var r,a={left:0,top:0};if(!this.document)return a;if(this.epubcfi.isCfiString(e)){let o=new xt(e).toRange(this.document,i);if(o){try{if(!o.endContainer||o.startContainer==o.endContainer&&o.startOffset==o.endOffset){let l=o.startContainer.textContent.indexOf(" ",o.startOffset);l==-1&&(l=o.startContainer.textContent.length),o.setEnd(o.startContainer,l)}}catch(l){console.error("setting end offset to start container length failed",l)}if(o.startContainer.nodeType===Node.ELEMENT_NODE)r=o.startContainer.getBoundingClientRect(),a.left=r.left,a.top=r.top;else if(R0){let l=o.startContainer,h=new Range;try{l.nodeType===vA?r=l.getBoundingClientRect():o.startOffset+2<l.length?(h.setStart(l,o.startOffset),h.setEnd(l,o.startOffset+2),r=h.getBoundingClientRect()):o.startOffset-2>0?(h.setStart(l,o.startOffset-2),h.setEnd(l,o.startOffset),r=h.getBoundingClientRect()):r=l.parentNode.getBoundingClientRect()}catch(f){console.error(f,f.stack)}}else r=o.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let o=e.substring(e.indexOf("#")+1),l=this.document.getElementById(o);if(l)if(R0){let h=new Range;h.selectNode(l),r=h.getBoundingClientRect()}else r=l.getBoundingClientRect()}return r&&(a.left=r.left,a.top=r.top),a}addStylesheet(e){return new Promise((function(i,r){var a,o=!1;if(!this.document){i(!1);return}if(a=this.document.querySelector("link[href='"+e+"']"),a){i(!0);return}a=this.document.createElement("link"),a.type="text/css",a.rel="stylesheet",a.href=e,a.onload=a.onreadystatechange=function(){!o&&(!this.readyState||this.readyState=="complete")&&(o=!0,setTimeout(()=>{i(!0)},1))},this.document.head.appendChild(a)}).bind(this))}_getStylesheetNode(e){var i;return e="epubjs-inserted-css-"+(e||""),this.document?(i=this.document.getElementById(e),i||(i=this.document.createElement("style"),i.id=e,this.document.head.appendChild(i)),i):!1}addStylesheetCss(e,i){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(i),r.innerHTML=e,!0}addStylesheetRules(e,i){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(i).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var a=0,o=e.length;a<o;a++){var l=1,h=e[a],f=e[a][0],p="";Object.prototype.toString.call(h[1][0])==="[object Array]"&&(h=h[1],l=0);for(var v=h.length;l<v;l++){var m=h[l];p+=m[0]+":"+m[1]+(m[2]?" !important":"")+`;
`}r.insertRule(f+"{"+p+"}",r.cssRules.length)}else Object.keys(e).forEach(x=>{const R=e[x];if(Array.isArray(R))R.forEach(T=>{const E=Object.keys(T).map(S=>`${S}:${T[S]}`).join(";");r.insertRule(`${x}{${E}}`,r.cssRules.length)});else{const _=Object.keys(R).map(E=>`${E}:${R[E]}`).join(";");r.insertRule(`${x}{${_}}`,r.cssRules.length)}})}addScript(e){return new Promise((function(i,r){var a,o=!1;if(!this.document){i(!1);return}a=this.document.createElement("script"),a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){!o&&(!this.readyState||this.readyState=="complete")&&(o=!0,setTimeout(function(){i(!0)},1))},this.document.head.appendChild(a)}).bind(this))}addClass(e){var i;this.document&&(i=this.content||this.document.body,i&&i.classList.add(e))}removeClass(e){var i;this.document&&(i=this.content||this.document.body,i&&i.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),uu.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(uu.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var i=this.window.getSelection();this.triggerSelectedEvent(i)}).bind(this),250)}triggerSelectedEvent(e){var i,r;e&&e.rangeCount>0&&(i=e.getRangeAt(0),i.collapsed||(r=new xt(i,this.cfiBase).toString(),this.emit(Pe.CONTENTS.SELECTED,r),this.emit(Pe.CONTENTS.SELECTED_RANGE,i)))}range(e,i){var r=new xt(e);return r.toRange(this.document,i)}cfiFromRange(e,i){return new xt(e,this.cfiBase,i).toString()}cfiFromNode(e,i){return new xt(e,this.cfiBase,i).toString()}map(e){var i=new wu(e);return i.section()}size(e,i){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),i>=0&&(this.height(i),r.height=i),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,i,r,a,o){let l=es("column-axis"),h=es("column-gap"),f=es("column-width"),p=es("column-fill"),m=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),o==="rtl"&&m==="horizontal"&&this.direction(o),this.width(e),this.height(i),this.viewport({width:e,height:i,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),m==="vertical"?(this.css("padding-top",a/2+"px",!0),this.css("padding-bottom",a/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(l,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",a/2+"px",!0),this.css("padding-right",a/2+"px",!0),this.css(l,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(p,"auto"),this.css(h,a+"px"),this.css(f,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,i,r){var a="scale("+e+")",o="";this.css("transform-origin","top left"),(i>=0||r>=0)&&(o=" translate("+(i||0)+"px, "+(r||0)+"px )"),this.css("transform",a+o)}fit(e,i,r){var a=this.viewport(),o=parseInt(a.width),l=parseInt(a.height),h=e/o,f=i/l,p=h<f?h:f;if(this.layoutStyle("paginated"),this.width(o),this.height(l),this.overflow("hidden"),this.scaler(p,0,0),this.css("background-size",o*p+"px "+l*p+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var v=e-o*p;this.css("margin-left",v+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,i,r,a,o){var l=new wu(i,o);return l.page(this,e,r,a)}linksHandler(){aA(this.content,e=>{this.emit(Pe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let i=es("writing-mode");return e&&this.documentElement&&(this.documentElement.style[i]=e),this.window.getComputedStyle(this.documentElement)[i]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,i){return navigator.epubReadingSystem={name:e,version:i,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}Bn(kd.prototype);class gA{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,i,r,a,o,l){let h=encodeURI(i+e),p=new xt(i).spinePos,v=new xb({type:e,cfiRange:i,data:r,sectionIndex:p,cb:a,className:o,styles:l});return this._annotations[h]=v,p in this._annotationsBySectionIndex?this._annotationsBySectionIndex[p].push(h):this._annotationsBySectionIndex[p]=[h],this.rendition.views().forEach(w=>{v.sectionIndex===w.index&&v.attach(w)}),v}remove(e,i){let r=encodeURI(e+i);if(r in this._annotations){let a=this._annotations[r];if(i&&a.type!==i)return;this.rendition.views().forEach(l=>{this._removeFromAnnotationBySectionIndex(a.sectionIndex,r),a.sectionIndex===l.index&&a.detach(l)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,i){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==i)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,i,r,a,o){return this.add("highlight",e,i,r,a,o)}underline(e,i,r,a,o){return this.add("underline",e,i,r,a,o)}mark(e,i,r){return this.add("mark",e,i,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let i=e.index;i in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[i].forEach(a=>{this._annotations[a].attach(e)})}clear(e){let i=e.index;i in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[i].forEach(a=>{this._annotations[a].detach(e)})}show(){}hide(){}}class xb{constructor({type:e,cfiRange:i,data:r,sectionIndex:a,cb:o,className:l,styles:h}){this.type=e,this.cfiRange=i,this.data=r,this.sectionIndex=a,this.mark=void 0,this.cb=o,this.className=l,this.styles=h}update(e){this.data=e}attach(e){let{cfiRange:i,data:r,type:a,mark:o,cb:l,className:h,styles:f}=this,p;return a==="highlight"?p=e.highlight(i,r,l,h,f):a==="underline"?p=e.underline(i,r,l,h,f):a==="mark"&&(p=e.mark(i,r,l)),this.mark=p,this.emit(Pe.ANNOTATION.ATTACH,p),p}detach(e){let{cfiRange:i,type:r}=this,a;return e&&(r==="highlight"?a=e.unhighlight(i):r==="underline"?a=e.ununderline(i):r==="mark"&&(a=e.unmark(i))),this.mark=void 0,this.emit(Pe.ANNOTATION.DETACH,a),a}text(){}}Bn(xb.prototype);var mn={},Eo={},O0;function mA(){if(O0)return Eo;O0=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.createElement=c;function c(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return Eo.default={createElement:c},Eo}var Qa={},N0;function yA(){if(N0)return Qa;N0=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.proxyMouse=c,Qa.clone=e,Qa.default={proxyMouse:c};function c(r,a){function o(p){for(var v=a.length-1;v>=0;v--){var m=a[v],w=p.clientX,x=p.clientY;if(p.touches&&p.touches.length&&(w=p.touches[0].clientX,x=p.touches[0].clientY),!!i(m,r,w,x)){m.dispatchEvent(e(p));break}}}if(r.nodeName==="iframe"||r.nodeName==="IFRAME")try{this.target=r.contentDocument}catch{this.target=r}else this.target=r;for(var l=["mouseup","mousedown","click","touchstart"],h=0;h<l.length;h++){var f=l[h];this.target.addEventListener(f,function(p){return o(p)},!1)}}function e(r){var a=Object.assign({},r,{bubbles:!1});try{return new MouseEvent(r.type,a)}catch{var o=document.createEvent("MouseEvents");return o.initMouseEvent(r.type,!1,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget),o}}function i(r,a,o,l){var h=a.getBoundingClientRect();function f(x,R,T){var _=x.top-h.top,E=x.left-h.left,S=_+x.height,A=E+x.width;return _<=T&&E<=R&&S>T&&A>R}var p=r.getBoundingClientRect();if(!f(p,o,l))return!1;for(var v=r.getClientRects(),m=0,w=v.length;m<w;m++)if(f(v[m],o,l))return!0;return!1}return Qa}var B0;function bA(){if(B0)return mn;B0=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.Underline=mn.Highlight=mn.Mark=mn.Pane=void 0;var c=function T(_,E,S){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,E);if(A===void 0){var z=Object.getPrototypeOf(_);return z===null?void 0:T(z,E,S)}else{if("value"in A)return A.value;var C=A.get;return C===void 0?void 0:C.call(S)}},e=function(){function T(_,E){for(var S=0;S<E.length;S++){var A=E[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,E,S){return E&&T(_.prototype,E),S&&T(_,S),_}}(),i=mA(),r=l(i),a=yA(),o=l(a);function l(T){return T&&T.__esModule?T:{default:T}}function h(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function f(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}function p(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}mn.Pane=function(){function T(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;p(this,T),this.target=_,this.element=r.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),o.default.proxyMouse(this.target,this.marks),this.container=E,this.container.appendChild(this.element),this.render()}return e(T,[{key:"addMark",value:function(E){var S=r.default.createElement("g");return this.element.appendChild(S),E.bind(S,this.container),this.marks.push(E),E.render(),E}},{key:"removeMark",value:function(E){var S=this.marks.indexOf(E);if(S!==-1){var A=E.unbind();this.element.removeChild(A),this.marks.splice(S,1)}}},{key:"render",value:function(){x(this.element,w(this.target,this.container));var E=!0,S=!1,A=void 0;try{for(var z=this.marks[Symbol.iterator](),C;!(E=(C=z.next()).done);E=!0){var N=C.value;N.render()}}catch(F){S=!0,A=F}finally{try{!E&&z.return&&z.return()}finally{if(S)throw A}}}}]),T}();var v=mn.Mark=function(){function T(){p(this,T),this.element=null}return e(T,[{key:"bind",value:function(E,S){this.element=E,this.container=S}},{key:"unbind",value:function(){var E=this.element;return this.element=null,E}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(E){this.element&&this.element.dispatchEvent(E)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var E=[],S=this.element.firstChild;S;)E.push(S.getBoundingClientRect()),S=S.nextSibling;return E}},{key:"filteredRanges",value:function(){var E=Array.from(this.range.getClientRects());return E.filter(function(S){for(var A=0;A<E.length;A++){if(E[A]===S)return!0;var z=R(E[A],S);if(z)return!1}return!0})}}]),T}(),m=mn.Highlight=function(T){f(_,T);function _(E,S,A,z){p(this,_);var C=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return C.range=E,C.className=S,C.data=A||{},C.attributes=z||{},C}return e(_,[{key:"bind",value:function(S,A){c(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"bind",this).call(this,S,A);for(var z in this.data)this.data.hasOwnProperty(z)&&(this.element.dataset[z]=this.data[z]);for(var z in this.attributes)this.attributes.hasOwnProperty(z)&&this.element.setAttribute(z,this.attributes[z]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var S=this.element.ownerDocument.createDocumentFragment(),A=this.filteredRanges(),z=this.element.getBoundingClientRect(),C=this.container.getBoundingClientRect(),N=0,F=A.length;N<F;N++){var V=A[N],I=r.default.createElement("rect");I.setAttribute("x",V.left-z.left+C.left),I.setAttribute("y",V.top-z.top+C.top),I.setAttribute("height",V.height),I.setAttribute("width",V.width),S.appendChild(I)}this.element.appendChild(S)}}]),_}(v);mn.Underline=function(T){f(_,T);function _(E,S,A,z){return p(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E,S,A,z))}return e(_,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var S=this.element.ownerDocument.createDocumentFragment(),A=this.filteredRanges(),z=this.element.getBoundingClientRect(),C=this.container.getBoundingClientRect(),N=0,F=A.length;N<F;N++){var V=A[N],I=r.default.createElement("rect");I.setAttribute("x",V.left-z.left+C.left),I.setAttribute("y",V.top-z.top+C.top),I.setAttribute("height",V.height),I.setAttribute("width",V.width),I.setAttribute("fill","none");var H=r.default.createElement("line");H.setAttribute("x1",V.left-z.left+C.left),H.setAttribute("x2",V.left-z.left+C.left+V.width),H.setAttribute("y1",V.top-z.top+C.top+V.height-1),H.setAttribute("y2",V.top-z.top+C.top+V.height-1),H.setAttribute("stroke-width",1),H.setAttribute("stroke","black"),H.setAttribute("stroke-linecap","square"),S.appendChild(I),S.appendChild(H)}this.element.appendChild(S)}}]),_}(m);function w(T,_){var E=_.getBoundingClientRect(),S=T.getBoundingClientRect();return{top:S.top-E.top,left:S.left-E.left,height:T.scrollHeight,width:T.scrollWidth}}function x(T,_){T.style.setProperty("top",_.top+"px","important"),T.style.setProperty("left",_.left+"px","important"),T.style.setProperty("height",_.height+"px","important"),T.style.setProperty("width",_.width+"px","important")}function R(T,_){return _.right<=T.right&&_.left>=T.left&&_.top>=T.top&&_.bottom<=T.bottom}return mn}var iu=bA();class Sb{constructor(e,i){this.settings=Oi({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},i||{}),this.id="epubjs-view-"+Bu(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new xt,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var i=document.createElement("div");return i.classList.add("epub-view"),i.style.height="0px",i.style.width="0px",i.style.overflow="hidden",i.style.position="relative",i.style.display="block",e&&e=="horizontal"?i.style.flex="none":i.style.flex="initial",i}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=lu(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,i){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(r){return this.load(r)}).bind(this)).then((function(){let r=this.contents.writingMode(),a;return this.settings.flow==="scrolled"?a=r.indexOf("vertical")===0?"horizontal":"vertical":a=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(a),this.emit(Pe.VIEWS.AXIS,a),this.setWritingMode(r),this.emit(Pe.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((o,l)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),o()})}).bind(this),(function(r){return this.emit(Pe.VIEWS.LOAD_ERROR,r),new Promise((a,o)=>{o(r)})}).bind(this)).then((function(){this.emit(Pe.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,i){var r=e||this.settings.width,a=i||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,a):this.settings.axis==="horizontal"?this.lock("height",r,a):this.lock("width",r,a),this.settings.width=r,this.settings.height=a}lock(e,i,r){var a=gu(this.element),o;this.iframe?o=gu(this.iframe):o={width:0,height:0},e=="width"&&oi(i)&&(this.lockedWidth=i-a.width-o.width),e=="height"&&oi(r)&&(this.lockedHeight=r-a.height-o.height),e==="both"&&oi(i)&&oi(r)&&(this.lockedWidth=i-a.width-o.width,this.lockedHeight=r-a.height-o.height),this.displayed&&this.iframe&&this.expand()}expand(e){var i=this.lockedWidth,r=this.lockedHeight,a;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(i=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(i=this.contents.textWidth(),i%this.layout.pageWidth>0&&(i=Math.ceil(i/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(a=i/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&a%2>0&&(i+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||i!=this._width||r!=this._height)&&this.reframe(i,r),this._expanding=!1)}reframe(e,i){var r;oi(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),oi(i)&&(this.element.style.height=i+"px",this.iframe.style.height=i+"px",this._height=i);let a=this.prevBounds?e-this.prevBounds.width:e,o=this.prevBounds?i-this.prevBounds.height:i;r={width:e,height:i,widthDelta:a,heightDelta:o},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let l;for(let h in this.marks)this.marks.hasOwnProperty(h)&&(l=this.marks[h],this.placeMark(l.element,l.range))}),this.onResize(this,r),this.emit(Pe.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=lu(this.element)}load(e){var i=new Et,r=i.promise;if(!this.iframe)return i.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=(function(o){this.onLoad(o,i)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=yu(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return i.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var a=this;MSApp.execUnsafeLocalFunction(function(){a.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,i){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new kd(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(Pe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Pe.CONTENTS.RESIZE,a=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),i.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var i=new Et;return this.displayed?i.resolve(this):this.render(e).then((function(){this.emit(Pe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,i.resolve(this)}).bind(this),function(r){i.reject(r,this)}),i.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Pe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Pe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var i=this.contents.locationOf(e,this.settings.ignoreClass);return{left:i.left,top:i.top}}onDisplayed(e){}onResize(e,i){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=lu(this.element)),this.elementBounds}highlight(e,i={},r,a="epubjs-hl",o={}){if(!this.contents)return;const l=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},o);let h=this.contents.range(e),f=()=>{this.emit(Pe.VIEWS.MARK_CLICKED,e,i)};i.epubcfi=e,this.pane||(this.pane=new iu.Pane(this.iframe,this.element));let p=new iu.Highlight(h,a,i,l),v=this.pane.addMark(p);return this.highlights[e]={mark:v,element:v.element,listeners:[f,r]},v.element.setAttribute("ref",a),v.element.addEventListener("click",f),v.element.addEventListener("touchstart",f),r&&(v.element.addEventListener("click",r),v.element.addEventListener("touchstart",r)),v}underline(e,i={},r,a="epubjs-ul",o={}){if(!this.contents)return;const l=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},o);let h=this.contents.range(e),f=()=>{this.emit(Pe.VIEWS.MARK_CLICKED,e,i)};i.epubcfi=e,this.pane||(this.pane=new iu.Pane(this.iframe,this.element));let p=new iu.Underline(h,a,i,l),v=this.pane.addMark(p);return this.underlines[e]={mark:v,element:v.element,listeners:[f,r]},v.element.setAttribute("ref",a),v.element.addEventListener("click",f),v.element.addEventListener("touchstart",f),r&&(v.element.addEventListener("click",r),v.element.addEventListener("touchstart",r)),v}mark(e,i={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let a=this.contents.range(e);if(!a)return;let o=a.commonAncestorContainer,l=o.nodeType===1?o:o.parentNode,h=p=>{this.emit(Pe.VIEWS.MARK_CLICKED,e,i)};a.collapsed&&o.nodeType===1?(a=new Range,a.selectNodeContents(o)):a.collapsed&&(a=new Range,a.selectNodeContents(l));let f=this.document.createElement("a");return f.setAttribute("ref","epubjs-mk"),f.style.position="absolute",f.dataset.epubcfi=e,i&&Object.keys(i).forEach(p=>{f.dataset[p]=i[p]}),r&&(f.addEventListener("click",r),f.addEventListener("touchstart",r)),f.addEventListener("click",h),f.addEventListener("touchstart",h),this.placeMark(f,a),this.element.appendChild(f),this.marks[e]={element:f,range:a,listeners:[h,r]},l}placeMark(e,i){let r,a,o;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let h=i.getBoundingClientRect();r=h.top,a=h.right}else{let h=i.getClientRects(),f;for(var l=0;l!=h.length;l++)f=h[l],(!o||f.left<o)&&(o=f.left,a=Math.ceil(o/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=f.top)}e.style.top=`${r}px`,e.style.left=`${a}px`}unhighlight(e){let i;e in this.highlights&&(i=this.highlights[e],this.pane.removeMark(i.mark),i.listeners.forEach(r=>{r&&(i.element.removeEventListener("click",r),i.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let i;e in this.underlines&&(i=this.underlines[e],this.pane.removeMark(i.mark),i.listeners.forEach(r=>{r&&(i.element.removeEventListener("click",r),i.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let i;e in this.marks&&(i=this.marks[e],this.element.removeChild(i.element),i.listeners.forEach(r=>{r&&(i.element.removeEventListener("click",r),i.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&pb(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}Bn(Sb.prototype);function _A(){var c="reverse",e=wA();return document.body.appendChild(e),e.scrollLeft>0?c="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(c="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(c="negative")),document.body.removeChild(e),c}function wA(){var c=document.createElement("div");c.dir="rtl",c.style.position="fixed",c.style.width="1px",c.style.height="1px",c.style.top="0px",c.style.left="0px",c.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var i=document.createElement("span");i.style.width="1px",i.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(i),e.appendChild(r),c.appendChild(e),c}var Af,L0;function Td(){if(L0)return Af;L0=1;function c(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}return Af=c,Af}var Cf,j0;function EA(){if(j0)return Cf;j0=1;var c=typeof hn=="object"&&hn&&hn.Object===Object&&hn;return Cf=c,Cf}var kf,M0;function Ab(){if(M0)return kf;M0=1;var c=EA(),e=typeof self=="object"&&self&&self.Object===Object&&self,i=c||e||Function("return this")();return kf=i,kf}var Tf,I0;function xA(){if(I0)return Tf;I0=1;var c=Ab(),e=function(){return c.Date.now()};return Tf=e,Tf}var Df,U0;function SA(){if(U0)return Df;U0=1;var c=/\s/;function e(i){for(var r=i.length;r--&&c.test(i.charAt(r)););return r}return Df=e,Df}var Rf,z0;function AA(){if(z0)return Rf;z0=1;var c=SA(),e=/^\s+/;function i(r){return r&&r.slice(0,c(r)+1).replace(e,"")}return Rf=i,Rf}var Of,F0;function Cb(){if(F0)return Of;F0=1;var c=Ab(),e=c.Symbol;return Of=e,Of}var Nf,P0;function CA(){if(P0)return Nf;P0=1;var c=Cb(),e=Object.prototype,i=e.hasOwnProperty,r=e.toString,a=c?c.toStringTag:void 0;function o(l){var h=i.call(l,a),f=l[a];try{l[a]=void 0;var p=!0}catch{}var v=r.call(l);return p&&(h?l[a]=f:delete l[a]),v}return Nf=o,Nf}var Bf,q0;function kA(){if(q0)return Bf;q0=1;var c=Object.prototype,e=c.toString;function i(r){return e.call(r)}return Bf=i,Bf}var Lf,V0;function TA(){if(V0)return Lf;V0=1;var c=Cb(),e=CA(),i=kA(),r="[object Null]",a="[object Undefined]",o=c?c.toStringTag:void 0;function l(h){return h==null?h===void 0?a:r:o&&o in Object(h)?e(h):i(h)}return Lf=l,Lf}var jf,H0;function DA(){if(H0)return jf;H0=1;function c(e){return e!=null&&typeof e=="object"}return jf=c,jf}var Mf,G0;function RA(){if(G0)return Mf;G0=1;var c=TA(),e=DA(),i="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&c(a)==i}return Mf=r,Mf}var If,$0;function OA(){if($0)return If;$0=1;var c=AA(),e=Td(),i=RA(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt;function f(p){if(typeof p=="number")return p;if(i(p))return r;if(e(p)){var v=typeof p.valueOf=="function"?p.valueOf():p;p=e(v)?v+"":v}if(typeof p!="string")return p===0?p:+p;p=c(p);var m=o.test(p);return m||l.test(p)?h(p.slice(2),m?2:8):a.test(p)?r:+p}return If=f,If}var Uf,Y0;function kb(){if(Y0)return Uf;Y0=1;var c=Td(),e=xA(),i=OA(),r="Expected a function",a=Math.max,o=Math.min;function l(h,f,p){var v,m,w,x,R,T,_=0,E=!1,S=!1,A=!0;if(typeof h!="function")throw new TypeError(r);f=i(f)||0,c(p)&&(E=!!p.leading,S="maxWait"in p,w=S?a(i(p.maxWait)||0,f):w,A="trailing"in p?!!p.trailing:A);function z(pe){var ke=v,me=m;return v=m=void 0,_=pe,x=h.apply(me,ke),x}function C(pe){return _=pe,R=setTimeout(V,f),E?z(pe):x}function N(pe){var ke=pe-T,me=pe-_,K=f-ke;return S?o(K,w-me):K}function F(pe){var ke=pe-T,me=pe-_;return T===void 0||ke>=f||ke<0||S&&me>=w}function V(){var pe=e();if(F(pe))return I(pe);R=setTimeout(V,N(pe))}function I(pe){return R=void 0,A&&v?z(pe):(v=m=void 0,x)}function H(){R!==void 0&&clearTimeout(R),_=0,v=T=m=R=void 0}function le(){return R===void 0?x:I(e())}function W(){var pe=e(),ke=F(pe);if(v=arguments,m=this,T=pe,ke){if(R===void 0)return C(T);if(S)return clearTimeout(R),R=setTimeout(V,f),z(T)}return R===void 0&&(R=setTimeout(V,f)),x}return W.cancel=H,W.flush=le,W}return Uf=l,Uf}var zf,Z0;function NA(){if(Z0)return zf;Z0=1;var c=kb(),e=Td(),i="Expected a function";function r(a,o,l){var h=!0,f=!0;if(typeof a!="function")throw new TypeError(i);return e(l)&&(h="leading"in l?!!l.leading:h,f="trailing"in l?!!l.trailing:f),c(a,o,{leading:h,maxWait:o,trailing:f})}return zf=r,zf}var BA=NA();const LA=rr(BA);class jA{constructor(e){this.settings=e||{},this.id="epubjs-container-"+Bu(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let i=e.height,r=e.width,a=e.overflow||!1,o=e.axis||"vertical",l=e.direction;Oi(this.settings,e),e.height&&oi(e.height)&&(i=e.height+"px"),e.width&&oi(e.width)&&(r=e.width+"px");let h=document.createElement("div");return h.id=this.id,h.classList.add("epub-container"),h.style.wordSpacing="0",h.style.lineHeight="0",h.style.verticalAlign="top",h.style.position="relative",o==="horizontal"&&(h.style.display="flex",h.style.flexDirection="row",h.style.flexWrap="nowrap"),r&&(h.style.width=r),i&&(h.style.height=i),a&&(a==="scroll"&&o==="vertical"?(h.style["overflow-y"]=a,h.style["overflow-x"]="hidden"):a==="scroll"&&o==="horizontal"?(h.style["overflow-y"]="hidden",h.style["overflow-x"]=a):h.style.overflow=a),l&&(h.dir=l,h.style.direction=l),l&&this.settings.fullsize&&(document.body.style.direction=l),h}wrap(e){var i=document.createElement("div");return i.style.visibility="hidden",i.style.overflow="hidden",i.style.width="0",i.style.height="0",i.appendChild(e),i}getElement(e){var i;if(ub(e)?i=e:typeof e=="string"&&(i=document.getElementById(e)),!i)throw new Error("Not an Element");return i}attachTo(e){var i=this.getElement(e),r;if(i)return this.settings.hidden?r=this.wrapper:r=this.container,i.appendChild(r),this.element=i,i}getContainer(){return this.container}onResize(e){(!oi(this.settings.width)||!oi(this.settings.height))&&(this.resizeFunc=LA(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,i){var r;let a=e||this.settings.width,o=i||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):oi(e)?this.container.style.width=e+"px":this.container.style.width=e,i===null?(r=r||this.element.getBoundingClientRect(),r.height&&(i=r.height,this.container.style.height=i+"px")):oi(i)?this.container.style.height=i+"px":this.container.style.height=i,oi(e)||(e=this.container.clientWidth),oi(i)||(i=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let l=mu(),h=window.getComputedStyle(document.body),f={left:parseFloat(h["padding-left"])||0,right:parseFloat(h["padding-right"])||0,top:parseFloat(h["padding-top"])||0,bottom:parseFloat(h["padding-bottom"])||0};return a||(e=l.width-f.left-f.right),(this.settings.fullsize&&!o||!o)&&(i=l.height-f.top-f.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:i-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?mu():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,i){var r="#"+this.id+" ",a="";this.sheet||(this.sheet=this.getSheet()),i.forEach(function(o){for(var l in o)o.hasOwnProperty(l)&&(a+=l+":"+o[l]+";")}),this.sheet.insertRule(r+e+" {"+a+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class MA{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,i){return this._views.splice(i,0,e),this.container&&(i<this.container.children.length?this.container.insertBefore(e.element,this.container.children[i]):this.container.appendChild(e.element)),this.length++,e}remove(e){var i=this._views.indexOf(e);i>-1&&this._views.splice(i,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,i=this.length;if(this.length){for(var r=0;r<i;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var i,r=this.length,a=0;a<r;a++)if(i=this._views[a],i.displayed&&i.section.index==e.index)return i}displayed(){for(var e=[],i,r=this.length,a=0;a<r;a++)i=this._views[a],i.displayed&&e.push(i);return e}show(){for(var e,i=this.length,r=0;r<i;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,i=this.length,r=0;r<i;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}}class Eu{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Cd(this),this.settings=Oi(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Oi(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,i){let r=e.tagName;typeof this.settings.fullsize>"u"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=i,this.settings.rtlScrollType=_A(),this.stage=new jA({width:i.width,height:i.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new MA(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(i){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:i}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Pe.MANAGERS.ORIENTATION_CHANGE,i)}).bind(this),500)}onResized(e){this.resize()}resize(e,i,r){let a=this.stage.size(e,i);if(this.winBounds=mu(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===a.width&&this._stageSize.height===a.height||(this._stageSize=a,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Pe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,i){return new this.View(e,Oi(this.viewSettings,{forceRight:i}))}handleNextPrePaginated(e,i,r){let a;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||i.index===0)return;if(a=i.next(),a&&!a.properties.includes("page-spread-left"))return r.call(this,a)}}display(e,i){var r=new Et,a=r.promise;(i===e.href||oi(i))&&(i=void 0);var o=this.views.find(e);if(o&&e&&this.layout.name!=="pre-paginated"){let h=o.offset();if(this.settings.direction==="ltr")this.scrollTo(h.left,h.top,!0);else{let f=o.width();this.scrollTo(h.left+f,h.top,!0)}if(i){let f=o.locationOf(i),p=o.width();this.moveTo(f,p)}return r.resolve(),a}this.clear();let l=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(l=!0),this.add(e,l).then((function(h){if(i){let f=h.locationOf(i),p=h.width();this.moveTo(f,p)}}).bind(this),h=>{r.reject(h)}).then((function(){return this.handleNextPrePaginated(l,e,this.add)}).bind(this)).then((function(){this.views.show(),r.resolve()}).bind(this)),a}afterDisplayed(e){this.emit(Pe.MANAGERS.ADDED,e)}afterResized(e){this.emit(Pe.MANAGERS.RESIZE,e.section)}moveTo(e,i){var r=0,a=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),a=Math.floor(e.top/this.layout.delta)*this.layout.delta,a+this.layout.delta>this.container.scrollHeight&&(a=this.container.scrollHeight-this.layout.delta)):a=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-i),this.scrollTo(r,a,!0)}add(e,i){var r=this.createView(e,i);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Pe.VIEWS.AXIS,a=>{this.updateAxis(a)}),r.on(Pe.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),r.display(this.request)}append(e,i){var r=this.createView(e,i);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Pe.VIEWS.AXIS,a=>{this.updateAxis(a)}),r.on(Pe.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),r.display(this.request)}prepend(e,i){var r=this.createView(e,i);return r.on(Pe.VIEWS.RESIZED,a=>{this.counter(a)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Pe.VIEWS.AXIS,a=>{this.updateAxis(a)}),r.on(Pe.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,i;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,i=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,i<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(i=this.container.scrollLeft,i>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(i=this.container.scrollLeft+this.layout.delta*-1,i>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.append(e,a).then((function(){return this.handleNextPrePaginated(a,e,this.append)}).bind(this),o=>o).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,i;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,i=this.container.scrollLeft,i>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(i=this.container.scrollLeft+this.container.offsetWidth,i<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(i=this.container.scrollLeft,i<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(a=!0),this.prepend(e,a).then((function(){var o;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(o=e.prev(),o))return this.prepend(o)}).bind(this),o=>o).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),i=this.container.getBoundingClientRect(),r=i.height<window.innerHeight?i.height:window.innerHeight,a=i.width<window.innerWidth?i.width:window.innerWidth,o=this.settings.axis==="vertical";this.settings.direction;let l=0,h=0;return this.settings.fullsize&&(l=o?window.scrollY:window.scrollX),e.map(p=>{let{index:v,href:m}=p.section,w=p.position(),x=p.width(),R=p.height(),T,_,E,S;o?(T=l+i.top-w.top+h,_=T+r-h,S=this.layout.count(R,r).pages,E=r):(T=l+i.left-w.left+h,_=T+a-h,S=this.layout.count(x,a).pages,E=a);let A=Math.ceil(T/E),z=[],C=Math.ceil(_/E);if(this.settings.direction==="rtl"&&!o){let V=A;A=S-C,C=S-V}z=[];for(var N=A;N<=C;N++){let V=N+1;z.push(V)}let F=this.mapping.page(p.contents,p.section.cfiBase,T,_);return{index:v,href:m,pages:z,totalPages:S,mapping:F}})}paginatedLocation(){let e=this.visible(),i=this.container.getBoundingClientRect(),r=0,a=0;return this.settings.fullsize&&(r=window.scrollX),e.map(l=>{let{index:h,href:f}=l.section,p,v=l.position(),m=l.width(),w,x,R;this.settings.direction==="rtl"?(p=i.right-r,R=Math.min(Math.abs(p-v.left),this.layout.width)-a,x=v.width-(v.right-p)-a,w=x-R):(p=i.left+r,R=Math.min(v.right-p,this.layout.width)-a,w=p-v.left+a,x=w+R),a+=R;let T=this.mapping.page(l.contents,l.section.cfiBase,w,x),_=this.layout.count(m).pages,E=Math.floor(w/this.layout.pageWidth),S=[],A=Math.floor(x/this.layout.pageWidth);if(E<0&&(E=0,A=A+1),this.settings.direction==="rtl"){let C=E;E=_-A,A=_-C}for(var z=E+1;z<=A;z++){let C=z;S.push(C)}return{index:h,href:f,pages:S,totalPages:_,mapping:T}})}isVisible(e,i,r,a){var o=e.position(),l=a||this.bounds();return this.settings.axis==="horizontal"&&o.right>l.left-i&&o.left<l.right+r?!0:this.settings.axis==="vertical"&&o.bottom>l.top-i&&o.top<l.bottom+r}visible(){for(var e=this.bounds(),i=this.views.displayed(),r=i.length,a=[],o,l,h=0;h<r;h++)l=i[h],o=this.isVisible(l,0,0,e),o===!0&&a.push(l);return a}scrollBy(e,i,r){let a=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*a,i*a):(e&&(this.container.scrollLeft+=e*a),i&&(this.container.scrollTop+=i)),this.scrolled=!0}scrollTo(e,i,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,i):(this.container.scrollLeft=e,this.container.scrollTop=i),this.scrolled=!0}onScroll(){let e,i;this.settings.fullsize?(e=window.scrollY,i=window.scrollX):(e=this.container.scrollTop,i=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=i,this.ignore?this.ignore=!1:(this.emit(Pe.MANAGERS.SCROLL,{top:e,left:i}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(Pe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new wu(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(i){i&&i.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,i){!i&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new wu(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,i="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":i,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(i){const r=i&&i.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}Bn(Eu.prototype);const IA={easeInCubic:function(c){return Math.pow(c,3)}};class od{constructor(e,i){this.settings=Oi({duration:80,minVelocity:.2,minDistance:10,easing:IA.easeInCubic},i||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Pe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Pe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let i=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{i.on(r,a=>this.triggerViewEvent(a,i))})}triggerViewEvent(e,i){this.emit(e.type,e,i)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:i,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=i,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=i,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:i,screenY:r}=e.touches[0],a=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&a<10&&(this.element.scrollLeft-=i-this.endTouchX),this.endTouchX=i,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let i=this.wasSwiped();i!==0?this.snap(i):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,i=this.endTouchX-this.startTouchX,r=Math.abs(i),a=this.endTime-this.startTime,o=i/a,l=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(o>l)return-1;if(o<-l)return 1}needsSnap(){let e=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor;return e%i!==0}snap(e=0){let i=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,a=Math.round(i/r)*r;return e&&(a+=e*r),this.smoothScrollTo(a)}smoothScrollTo(e){const i=new Et,r=this.scrollLeft,a=this.now(),o=this.settings.duration,l=this.settings.easing;this.snapping=!0;function h(){const f=this.now(),p=Math.min(1,(f-a)/o);if(l(p),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,i.resolve();return}p<1?(window.requestAnimationFrame(h.bind(this)),this.scrollTo(r+(e-r)*p,0)):(this.scrollTo(e,0),this.snapping=!1,i.resolve())}return h.call(this),i.promise}scrollTo(e=0,i=0){this.fullsize?window.scroll(e,i):(this.scroller.scrollLeft=e,this.scroller.scrollTop=i)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}Bn(od.prototype);var UA=kb();const zA=rr(UA);class FA extends Eu{constructor(e){super(e),this.name="continuous",this.settings=Oi(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Oi(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,i){return Eu.prototype.display.call(this,e,i).then((function(){return this.fill()}).bind(this))}fill(e){var i=e||new Et;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(i):i.resolve()}),i.promise}moveTo(e){var i=0,r=0;this.isPaginated?(i=Math.floor(e.left/this.layout.delta)*this.layout.delta,i+this.settings.offsetDelta):(r=e.top,e.top+this.settings.offsetDelta),(i>0||r>0)&&this.scrollBy(i,r,!0)}afterResized(e){this.emit(Pe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var i=this.createView(e);return this.views.append(i),i.on(Pe.VIEWS.RESIZED,r=>{i.expanded=!0}),i.on(Pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),i.on(Pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.display(this.request)}append(e){var i=this.createView(e);return i.on(Pe.VIEWS.RESIZED,r=>{i.expanded=!0}),i.on(Pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),i.on(Pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i}prepend(e){var i=this.createView(e);return i.on(Pe.VIEWS.RESIZED,r=>{this.counter(r),i.expanded=!0}),i.on(Pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),i.on(Pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var i=this.bounds(),r=this.views.all(),a=r.length,o=typeof e<"u"?e:this.settings.offset||0,l,h,f=new Et,p=[],v=0;v<a;v++)if(h=r[v],l=this.isVisible(h,o,o,i),l===!0)if(h.displayed)h.show();else{let m=h.display(this.request).then(function(w){w.show()},w=>{h.hide()});p.push(m)}else this.q.enqueue(h.destroy.bind(h)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return p.length?Promise.all(p).catch(m=>{f.reject(m)}):(f.resolve(),f.promise)}check(e,i){var r=new Et,a=[],o=this.settings.axis==="horizontal",l=this.settings.offset||0;e&&o&&(l=e),i&&!o&&(l=i);var h=this._bounds;let f=o?this.scrollLeft:this.scrollTop,p=o?Math.floor(h.width):h.height,v=o?this.container.scrollWidth:this.container.scrollHeight,m=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",w=this.settings.rtlScrollType,x=this.settings.direction==="rtl";this.settings.fullsize?(o&&x&&w==="negative"||!o&&x&&w==="default")&&(f=f*-1):(x&&w==="default"&&m==="horizontal"&&(f=v-p-f),x&&w==="negative"&&m==="horizontal"&&(f=f*-1));let R=()=>{let A=this.views.first(),z=A&&A.section.prev();z&&a.push(this.prepend(z))},T=()=>{let A=this.views.last(),z=A&&A.section.next();z&&a.push(this.append(z))},_=f+p+l,E=f-l;_>=v&&T(),E<0&&R();let S=a.map(A=>A.display(this.request));return a.length?Promise.all(S).then(()=>this.check()).then(()=>this.update(l),A=>A):(this.q.enqueue((function(){this.update()}).bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new Et,i=this.views.displayed(),r=i[0],a=i[i.length-1],o=this.views.indexOf(r),l=this.views.indexOf(a),h=this.views.slice(0,o),f=this.views.slice(l+1),p=0;p<h.length-1;p++)this.erase(h[p],h);for(var v=1;v<f.length;v++)this.erase(f[v]);return e.resolve(),e.promise}erase(e,i){var r,a;this.settings.fullsize?(r=window.scrollY,a=window.scrollX):(r=this.container.scrollTop,a=this.container.scrollLeft);var o=e.bounds();this.views.remove(e),i&&(this.settings.axis==="vertical"?this.scrollTo(0,r-o.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(a+Math.floor(o.width),0,!0):this.scrollTo(a,0,!0):this.scrollTo(a-Math.floor(o.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(i){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new od(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=xd;let i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*i,this.scrollLeft=window.scrollX*i):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=zA(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,i,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,i=window.scrollX*r):(e=this.container.scrollTop,i=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=i,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(i-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=i,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(Pe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Pe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new od(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class Dd{constructor(e,i){this.settings=Oi(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Oi(this.settings,i),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new En(this),this.hooks.serialize=new En(this),this.hooks.content=new En(this),this.hooks.unloaded=new En(this),this.hooks.layout=new En(this),this.hooks.render=new En(this),this.hooks.show=new En(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new dA(this),this.annotations=new gA(this),this.epubcfi=new xt,this.q=new Cd(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Et,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var i;return typeof e=="string"&&e==="default"?i=Eu:typeof e=="string"&&e==="continuous"?i=FA:i=e,i}requireView(e){var i;return typeof e=="string"&&e==="iframe"?i=Sb:i=e,i}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Pe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Pe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Pe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Pe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Pe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Pe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(Pe.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var i=new Et,r=i.promise,a;return this.displaying=i,this.book.locations.length()&&cb(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),a=this.book.spine.get(e),a?(this.manager.display(a,e).then(()=>{i.resolve(a),this.displaying=void 0,this.emit(Pe.RENDITION.DISPLAYED,a),this.reportLocation()},o=>{this.emit(Pe.RENDITION.DISPLAY_ERROR,o)}),r):(i.reject(new Error("No Section Found")),r)}}afterDisplayed(e){e.on(Pe.VIEWS.MARK_CLICKED,(i,r)=>this.triggerMarkEvent(i,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(Pe.RENDITION.RENDERED,e.section,e)}):this.emit(Pe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(Pe.RENDITION.REMOVED,e.section,e)})}onResized(e,i){this.emit(Pe.RENDITION.RESIZED,{width:e.width,height:e.height},i),this.location&&this.location.start&&this.display(i||this.location.start.cfi)}onOrientationChange(e){this.emit(Pe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,i,r){e&&(this.settings.width=e),i&&(this.settings.height=i),this.manager.resize(e,i,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var i,r=this.settings.layout||e.layout||"reflowable",a=this.settings.spread||e.spread||"auto",o=this.settings.orientation||e.orientation||"auto",l=this.settings.flow||e.flow||"auto",h=e.viewport||"",f=this.settings.minSpreadWidth||e.minSpreadWidth||800,p=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),i={layout:r,spread:a,orientation:o,flow:l,viewport:h,minSpreadWidth:f,direction:p},i}flow(e){var i=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(i="scrolled"),(e==="auto"||e==="paginated")&&(i="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(i),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(i),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new wb(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(Pe.LAYOUT.UPDATED,(i,r)=>{this.emit(Pe.RENDITION.LAYOUT,i,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,i){this.settings.spread=e,i&&(this.settings.minSpreadWidth=i),this._layout&&this._layout.spread(e,i),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then((function(a){let o=this.located(a);!o||!o.start||!o.end||(this.location=o,this.emit(Pe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Pe.RENDITION.RELOCATED,this.location))}).bind(this));else if(r){let a=this.located(r);if(!a||!a.start||!a.end)return;this.location=a,this.emit(Pe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Pe.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(i){return this.located(i)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let i=e[0],r=e[e.length-1],a={start:{index:i.index,href:i.href,cfi:i.mapping.start,displayed:{page:i.pages[0]||1,total:i.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},o=this.book.locations.locationFromCfi(i.mapping.start),l=this.book.locations.locationFromCfi(r.mapping.end);o!=null&&(a.start.location=o,a.start.percentage=this.book.locations.percentageFromLocation(o)),l!=null&&(a.end.location=l,a.end.percentage=this.book.locations.percentageFromLocation(l));let h=this.book.pageList.pageFromCfi(i.mapping.start),f=this.book.pageList.pageFromCfi(r.mapping.end);return h!=-1&&(a.start.page=h),f!=-1&&(a.end.page=f),r.index===this.book.spine.last().index&&a.end.displayed.page>=a.end.displayed.total&&(a.atEnd=!0),i.index===this.book.spine.first().index&&a.start.displayed.page===1&&(a.atStart=!0),a}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){uu.forEach(i=>{e.on(i,r=>this.triggerViewEvent(r,e))}),e.on(Pe.CONTENTS.SELECTED,i=>this.triggerSelectedEvent(i,e))}triggerViewEvent(e,i){this.emit(e.type,e,i)}triggerSelectedEvent(e,i){this.emit(Pe.RENDITION.SELECTED,e,i)}triggerMarkEvent(e,i,r){this.emit(Pe.RENDITION.MARK_CLICKED,e,i,r)}getRange(e,i){var r=new xt(e),a=this.manager.visible().filter(function(o){if(r.spinePos===o.index)return!0});if(a.length)return a[0].contents.range(r,i)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(o){o()});let i=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)))*.95,a=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-a+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-a+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(o,l){setTimeout(function(){o()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(Pe.CONTENTS.LINK_CLICKED,i=>{let r=this.book.path.relative(i);this.display(r)})}injectStylesheet(e,i){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,i){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,i){let r=this.book.packaging.metadata.identifier,a=e.createElement("meta");a.setAttribute("name","dc.relation.ispartof"),r&&a.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(a)}}Bn(Dd.prototype);function jr(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ff={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var X0;function PA(){return X0||(X0=1,function(c,e){(function(i){c.exports=i()})(function(){return function i(r,a,o){function l(p,v){if(!a[p]){if(!r[p]){var m=typeof jr=="function"&&jr;if(!v&&m)return m(p,!0);if(h)return h(p,!0);var w=new Error("Cannot find module '"+p+"'");throw w.code="MODULE_NOT_FOUND",w}var x=a[p]={exports:{}};r[p][0].call(x.exports,function(R){var T=r[p][1][R];return l(T||R)},x,x.exports,i,r,a,o)}return a[p].exports}for(var h=typeof jr=="function"&&jr,f=0;f<o.length;f++)l(o[f]);return l}({1:[function(i,r,a){var o=i("./utils"),l=i("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(f){for(var p=[],v,m,w,x,R,T,_,E=0,S=f.length,A=S,z=o.getTypeOf(f)!=="string";E<f.length;)A=S-E,z?(v=f[E++],m=E<S?f[E++]:0,w=E<S?f[E++]:0):(v=f.charCodeAt(E++),m=E<S?f.charCodeAt(E++):0,w=E<S?f.charCodeAt(E++):0),x=v>>2,R=(v&3)<<4|m>>4,T=A>1?(m&15)<<2|w>>6:64,_=A>2?w&63:64,p.push(h.charAt(x)+h.charAt(R)+h.charAt(T)+h.charAt(_));return p.join("")},a.decode=function(f){var p,v,m,w,x,R,T,_=0,E=0,S="data:";if(f.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");f=f.replace(/[^A-Za-z0-9+/=]/g,"");var A=f.length*3/4;if(f.charAt(f.length-1)===h.charAt(64)&&A--,f.charAt(f.length-2)===h.charAt(64)&&A--,A%1!==0)throw new Error("Invalid base64 input, bad content length.");var z;for(l.uint8array?z=new Uint8Array(A|0):z=new Array(A|0);_<f.length;)w=h.indexOf(f.charAt(_++)),x=h.indexOf(f.charAt(_++)),R=h.indexOf(f.charAt(_++)),T=h.indexOf(f.charAt(_++)),p=w<<2|x>>4,v=(x&15)<<4|R>>2,m=(R&3)<<6|T,z[E++]=p,R!==64&&(z[E++]=v),T!==64&&(z[E++]=m);return z}},{"./support":30,"./utils":32}],2:[function(i,r,a){var o=i("./external"),l=i("./stream/DataWorker"),h=i("./stream/Crc32Probe"),f=i("./stream/DataLengthProbe");function p(v,m,w,x,R){this.compressedSize=v,this.uncompressedSize=m,this.crc32=w,this.compression=x,this.compressedContent=R}p.prototype={getContentWorker:function(){var v=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),m=this;return v.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(v,m,w){return v.pipe(new h).pipe(new f("uncompressedSize")).pipe(m.compressWorker(w)).pipe(new f("compressedSize")).withStreamInfo("compression",m)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,a){var o=i("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},a.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,a){var o=i("./utils");function l(){for(var v,m=[],w=0;w<256;w++){v=w;for(var x=0;x<8;x++)v=v&1?3988292384^v>>>1:v>>>1;m[w]=v}return m}var h=l();function f(v,m,w,x){var R=h,T=x+w;v=v^-1;for(var _=x;_<T;_++)v=v>>>8^R[(v^m[_])&255];return v^-1}function p(v,m,w,x){var R=h,T=x+w;v=v^-1;for(var _=x;_<T;_++)v=v>>>8^R[(v^m.charCodeAt(_))&255];return v^-1}r.exports=function(m,w){if(typeof m>"u"||!m.length)return 0;var x=o.getTypeOf(m)!=="string";return x?f(w|0,m,m.length,0):p(w|0,m,m.length,0)}},{"./utils":32}],5:[function(i,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(i,r,a){var o=null;typeof Promise<"u"?o=Promise:o=i("lie"),r.exports={Promise:o}},{lie:37}],7:[function(i,r,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=i("pako"),h=i("./utils"),f=i("./stream/GenericWorker"),p=o?"uint8array":"array";a.magic="\b\0";function v(m,w){f.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=w,this.meta={}}h.inherits(v,f),v.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(p,m.data),!1)},v.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(w){m.push({data:w,meta:m.meta})}},a.compressWorker=function(m){return new v("Deflate",m)},a.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,a){var o=i("../utils"),l=i("../stream/GenericWorker"),h=i("../utf8"),f=i("../crc32"),p=i("../signature"),v=function(E,S){var A="",z;for(z=0;z<S;z++)A+=String.fromCharCode(E&255),E=E>>>8;return A},m=function(E,S){var A=E;return E||(A=S?16893:33204),(A&65535)<<16},w=function(E){return(E||0)&63},x=function(E,S,A,z,C,N){var F=E.file,V=E.compression,I=N!==h.utf8encode,H=o.transformTo("string",N(F.name)),le=o.transformTo("string",h.utf8encode(F.name)),W=F.comment,pe=o.transformTo("string",N(W)),ke=o.transformTo("string",h.utf8encode(W)),me=le.length!==F.name.length,K=ke.length!==W.length,re,ce,Ae="",G="",M="",oe=F.dir,ye=F.date,xe={crc32:0,compressedSize:0,uncompressedSize:0};(!S||A)&&(xe.crc32=E.crc32,xe.compressedSize=E.compressedSize,xe.uncompressedSize=E.uncompressedSize);var Ue=0;S&&(Ue|=8),!I&&(me||K)&&(Ue|=2048);var ze=0,tt=0;oe&&(ze|=16),C==="UNIX"?(tt=798,ze|=m(F.unixPermissions,oe)):(tt=20,ze|=w(F.dosPermissions)),re=ye.getUTCHours(),re=re<<6,re=re|ye.getUTCMinutes(),re=re<<5,re=re|ye.getUTCSeconds()/2,ce=ye.getUTCFullYear()-1980,ce=ce<<4,ce=ce|ye.getUTCMonth()+1,ce=ce<<5,ce=ce|ye.getUTCDate(),me&&(G=v(1,1)+v(f(H),4)+le,Ae+="up"+v(G.length,2)+G),K&&(M=v(1,1)+v(f(pe),4)+ke,Ae+="uc"+v(M.length,2)+M);var Me="";Me+=`
\0`,Me+=v(Ue,2),Me+=V.magic,Me+=v(re,2),Me+=v(ce,2),Me+=v(xe.crc32,4),Me+=v(xe.compressedSize,4),Me+=v(xe.uncompressedSize,4),Me+=v(H.length,2),Me+=v(Ae.length,2);var it=p.LOCAL_FILE_HEADER+Me+H+Ae,St=p.CENTRAL_FILE_HEADER+v(tt,2)+Me+v(pe.length,2)+"\0\0\0\0"+v(ze,4)+v(z,4)+H+Ae+pe;return{fileRecord:it,dirRecord:St}},R=function(E,S,A,z,C){var N="",F=o.transformTo("string",C(z));return N=p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(E,2)+v(E,2)+v(S,4)+v(A,4)+v(F.length,2)+F,N},T=function(E){var S="";return S=p.DATA_DESCRIPTOR+v(E.crc32,4)+v(E.compressedSize,4)+v(E.uncompressedSize,4),S};function _(E,S,A,z){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=A,this.encodeFileName=z,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(_,l),_.prototype.push=function(E){var S=E.meta.percent||0,A=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,l.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:A?(S+100*(A-z-1))/A:100}}))},_.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var S=this.streamFiles&&!E.file.dir;if(S){var A=x(E,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(E){this.accumulate=!1;var S=this.streamFiles&&!E.file.dir,A=x(E,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),S)this.push({data:T(E),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var E=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var A=this.bytesWritten-E,z=R(this.dirRecords.length,A,E,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(E){this._sources.push(E);var S=this;return E.on("data",function(A){S.processChunk(A)}),E.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),E.on("error",function(A){S.error(A)}),this},_.prototype.resume=function(){if(!l.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},_.prototype.error=function(E){var S=this._sources;if(!l.prototype.error.call(this,E))return!1;for(var A=0;A<S.length;A++)try{S[A].error(E)}catch{}return!0},_.prototype.lock=function(){l.prototype.lock.call(this);for(var E=this._sources,S=0;S<E.length;S++)E[S].lock()},r.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,a){var o=i("../compressions"),l=i("./ZipFileWorker"),h=function(f,p){var v=f||p,m=o[v];if(!m)throw new Error(v+" is not a valid compression method !");return m};a.generateWorker=function(f,p,v){var m=new l(p.streamFiles,v,p.platform,p.encodeFileName),w=0;try{f.forEach(function(x,R){w++;var T=h(R.options.compression,p.compression),_=R.options.compressionOptions||p.compressionOptions||{},E=R.dir,S=R.date;R._compressWorker(T,_).withStreamInfo("file",{name:x,dir:E,date:S,comment:R.comment||"",unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions}).pipe(m)}),m.entriesCount=w}catch(x){m.error(x)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,a){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var h in this)typeof this[h]!="function"&&(l[h]=this[h]);return l}}o.prototype=i("./object"),o.prototype.loadAsync=i("./load"),o.support=i("./support"),o.defaults=i("./defaults"),o.version="3.10.1",o.loadAsync=function(l,h){return new o().loadAsync(l,h)},o.external=i("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,a){var o=i("./utils"),l=i("./external"),h=i("./utf8"),f=i("./zipEntries"),p=i("./stream/Crc32Probe"),v=i("./nodejsUtils");function m(w){return new l.Promise(function(x,R){var T=w.decompressed.getContentWorker().pipe(new p);T.on("error",function(_){R(_)}).on("end",function(){T.streamInfo.crc32!==w.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}r.exports=function(w,x){var R=this;return x=o.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),v.isNode&&v.isStream(w)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",w,!0,x.optimizedBinaryString,x.base64).then(function(T){var _=new f(x);return _.load(T),_}).then(function(_){var E=[l.Promise.resolve(_)],S=_.files;if(x.checkCRC32)for(var A=0;A<S.length;A++)E.push(m(S[A]));return l.Promise.all(E)}).then(function(_){for(var E=_.shift(),S=E.files,A=0;A<S.length;A++){var z=S[A],C=z.fileNameStr,N=o.resolve(z.fileNameStr);R.file(N,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:x.createFolders}),z.dir||(R.file(N).unsafeOriginalName=C)}return E.zipComment.length&&(R.comment=E.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,a){var o=i("../utils"),l=i("../stream/GenericWorker");function h(f,p){l.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(h,l),h.prototype._bindStream=function(f){var p=this;this._stream=f,f.pause(),f.on("data",function(v){p.push({data:v,meta:{percent:0}})}).on("error",function(v){p.isPaused?this.generatedError=v:p.error(v)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},h.prototype.pause=function(){return l.prototype.pause.call(this)?(this._stream.pause(),!0):!1},h.prototype.resume=function(){return l.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,a){var o=i("readable-stream").Readable,l=i("../utils");l.inherits(h,o);function h(f,p,v){o.call(this,p),this._helper=f;var m=this;f.on("data",function(w,x){m.push(w)||m._helper.pause(),v&&v(x)}).on("error",function(w){m.emit("error",w)}).on("end",function(){m.push(null)})}h.prototype._read=function(){this._helper.resume()},r.exports=h},{"../utils":32,"readable-stream":16}],14:[function(i,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(i,r,a){var o=i("./utf8"),l=i("./utils"),h=i("./stream/GenericWorker"),f=i("./stream/StreamHelper"),p=i("./defaults"),v=i("./compressedObject"),m=i("./zipObject"),w=i("./generate"),x=i("./nodejsUtils"),R=i("./nodejs/NodejsStreamInputAdapter"),T=function(C,N,F){var V=l.getTypeOf(N),I,H=l.extend(F||{},p);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&H.unixPermissions&16384&&(H.dir=!0),H.dosPermissions&&H.dosPermissions&16&&(H.dir=!0),H.dir&&(C=E(C)),H.createFolders&&(I=_(C))&&S.call(this,I,!0);var le=V==="string"&&H.binary===!1&&H.base64===!1;(!F||typeof F.binary>"u")&&(H.binary=!le);var W=N instanceof v&&N.uncompressedSize===0;(W||H.dir||!N||N.length===0)&&(H.base64=!1,H.binary=!0,N="",H.compression="STORE",V="string");var pe=null;N instanceof v||N instanceof h?pe=N:x.isNode&&x.isStream(N)?pe=new R(C,N):pe=l.prepareContent(C,N,H.binary,H.optimizedBinaryString,H.base64);var ke=new m(C,pe,H);this.files[C]=ke},_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var N=C.lastIndexOf("/");return N>0?C.substring(0,N):""},E=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},S=function(C,N){return N=typeof N<"u"?N:p.createFolders,C=E(C),this.files[C]||T.call(this,C,null,{dir:!0,createFolders:N}),this.files[C]};function A(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var N,F,V;for(N in this.files)V=this.files[N],F=N.slice(this.root.length,N.length),F&&N.slice(0,this.root.length)===this.root&&C(F,V)},filter:function(C){var N=[];return this.forEach(function(F,V){C(F,V)&&N.push(V)}),N},file:function(C,N,F){if(arguments.length===1)if(A(C)){var V=C;return this.filter(function(H,le){return!le.dir&&V.test(H)})}else{var I=this.files[this.root+C];return I&&!I.dir?I:null}else C=this.root+C,T.call(this,C,N,F);return this},folder:function(C){if(!C)return this;if(A(C))return this.filter(function(I,H){return H.dir&&C.test(I)});var N=this.root+C,F=S.call(this,N),V=this.clone();return V.root=F.name,V},remove:function(C){C=this.root+C;var N=this.files[C];if(N||(C.slice(-1)!=="/"&&(C+="/"),N=this.files[C]),N&&!N.dir)delete this.files[C];else for(var F=this.filter(function(I,H){return H.name.slice(0,C.length)===C}),V=0;V<F.length;V++)delete this.files[F[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var N,F={};try{if(F=l.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode}),F.type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");l.checkSupport(F.type),(F.platform==="darwin"||F.platform==="freebsd"||F.platform==="linux"||F.platform==="sunos")&&(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var V=F.comment||this.comment||"";N=w.generateWorker(this,F,V)}catch(I){N=new h("error"),N.error(I)}return new f(N,F.type||"string",F.mimeType)},generateAsync:function(C,N){return this.generateInternalStream(C).accumulate(N)},generateNodeStream:function(C,N){return C=C||{},C.type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(N)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,a){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,a){var o=i("./DataReader"),l=i("../utils");function h(f){o.call(this,f);for(var p=0;p<this.data.length;p++)f[p]=f[p]&255}l.inherits(h,o),h.prototype.byteAt=function(f){return this.data[this.zero+f]},h.prototype.lastIndexOfSignature=function(f){for(var p=f.charCodeAt(0),v=f.charCodeAt(1),m=f.charCodeAt(2),w=f.charCodeAt(3),x=this.length-4;x>=0;--x)if(this.data[x]===p&&this.data[x+1]===v&&this.data[x+2]===m&&this.data[x+3]===w)return x-this.zero;return-1},h.prototype.readAndCheckSignature=function(f){var p=f.charCodeAt(0),v=f.charCodeAt(1),m=f.charCodeAt(2),w=f.charCodeAt(3),x=this.readData(4);return p===x[0]&&v===x[1]&&m===x[2]&&w===x[3]},h.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},r.exports=h},{"../utils":32,"./DataReader":18}],18:[function(i,r,a){var o=i("../utils");function l(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var f=0,p;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)f=(f<<8)+this.byteAt(p);return this.index+=h,f},readString:function(h){return o.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC((h>>25&127)+1980,(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(h&31)<<1))}},r.exports=l},{"../utils":32}],19:[function(i,r,a){var o=i("./Uint8ArrayReader"),l=i("../utils");function h(f){o.call(this,f)}l.inherits(h,o),h.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},r.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,a){var o=i("./DataReader"),l=i("../utils");function h(f){o.call(this,f)}l.inherits(h,o),h.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},h.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},h.prototype.readAndCheckSignature=function(f){var p=this.readData(4);return f===p},h.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},r.exports=h},{"../utils":32,"./DataReader":18}],21:[function(i,r,a){var o=i("./ArrayReader"),l=i("../utils");function h(f){o.call(this,f)}l.inherits(h,o),h.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},r.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,a){var o=i("../utils"),l=i("../support"),h=i("./ArrayReader"),f=i("./StringReader"),p=i("./NodeBufferReader"),v=i("./Uint8ArrayReader");r.exports=function(m){var w=o.getTypeOf(m);return o.checkSupport(w),w==="string"&&!l.uint8array?new f(m):w==="nodebuffer"?new p(m):l.uint8array?new v(o.transformTo("uint8array",m)):new h(o.transformTo("array",m))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,a){var o=i("./GenericWorker"),l=i("../utils");function h(f){o.call(this,"ConvertWorker to "+f),this.destType=f}l.inherits(h,o),h.prototype.processChunk=function(f){this.push({data:l.transformTo(this.destType,f.data),meta:f.meta})},r.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,a){var o=i("./GenericWorker"),l=i("../crc32"),h=i("../utils");function f(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h.inherits(f,o),f.prototype.processChunk=function(p){this.streamInfo.crc32=l(p.data,this.streamInfo.crc32||0),this.push(p)},r.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,a){var o=i("../utils"),l=i("./GenericWorker");function h(f){l.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}o.inherits(h,l),h.prototype.processChunk=function(f){if(f){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+f.data.length}l.prototype.processChunk.call(this,f)},r.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,a){var o=i("../utils"),l=i("./GenericWorker"),h=16*1024;function f(p){l.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(m){v.dataIsReady=!0,v.data=m,v.max=m&&m.length||0,v.type=o.getTypeOf(m),v.isPaused||v._tickAndRepeat()},function(m){v.error(m)})}o.inherits(f,l),f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return l.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0):!1},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=h,v=null,m=Math.min(this.max,this.index+p);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,m);break;case"uint8array":v=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":v=this.data.slice(this.index,m);break}return this.index=m,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,a){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return this.isFinished?!1:(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,h){return this._listeners[l].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,h){if(this._listeners[l])for(var f=0;f<this._listeners[l].length;f++)this._listeners[l][f].call(this,h)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var h=this;return l.on("data",function(f){h.processChunk(f)}),l.on("end",function(){h.end()}),l.on("error",function(f){h.error(f)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var l=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,h){return this.extraStreamInfo[l]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=o},{}],29:[function(i,r,a){var o=i("../utils"),l=i("./ConvertWorker"),h=i("./GenericWorker"),f=i("../base64"),p=i("../support"),v=i("../external"),m=null;if(p.nodestream)try{m=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(_,E,S){switch(_){case"blob":return o.newBlob(o.transformTo("arraybuffer",E),S);case"base64":return f.encode(E);default:return o.transformTo(_,E)}}function x(_,E){var S,A=0,z=null,C=0;for(S=0;S<E.length;S++)C+=E[S].length;switch(_){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(z=new Uint8Array(C),S=0;S<E.length;S++)z.set(E[S],A),A+=E[S].length;return z;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+_+"'")}}function R(_,E){return new v.Promise(function(S,A){var z=[],C=_._internalType,N=_._outputType,F=_._mimeType;_.on("data",function(V,I){z.push(V),E&&E(I)}).on("error",function(V){z=[],A(V)}).on("end",function(){try{var V=w(N,x(C,z),F);S(V)}catch(I){A(I)}z=[]}).resume()})}function T(_,E,S){var A=E;switch(E){case"blob":case"arraybuffer":A="uint8array";break;case"base64":A="string";break}try{this._internalType=A,this._outputType=E,this._mimeType=S,o.checkSupport(A),this._worker=_.pipe(new l(A)),_.lock()}catch(z){this._worker=new h("error"),this._worker.error(z)}}T.prototype={accumulate:function(_){return R(this,_)},on:function(_,E){var S=this;return _==="data"?this._worker.on(_,function(A){E.call(S,A.data,A.meta)}):this._worker.on(_,function(){o.delay(E,arguments,S)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var o=new ArrayBuffer(0);try{a.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,h=new l;h.append(o),a.blob=h.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!i("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,a){for(var o=i("./utils"),l=i("./support"),h=i("./nodejsUtils"),f=i("./stream/GenericWorker"),p=new Array(256),v=0;v<256;v++)p[v]=v>=252?6:v>=248?5:v>=240?4:v>=224?3:v>=192?2:1;p[254]=p[254]=1;var m=function(_){var E,S,A,z,C,N=_.length,F=0;for(z=0;z<N;z++)S=_.charCodeAt(z),(S&64512)===55296&&z+1<N&&(A=_.charCodeAt(z+1),(A&64512)===56320&&(S=65536+(S-55296<<10)+(A-56320),z++)),F+=S<128?1:S<2048?2:S<65536?3:4;for(l.uint8array?E=new Uint8Array(F):E=new Array(F),C=0,z=0;C<F;z++)S=_.charCodeAt(z),(S&64512)===55296&&z+1<N&&(A=_.charCodeAt(z+1),(A&64512)===56320&&(S=65536+(S-55296<<10)+(A-56320),z++)),S<128?E[C++]=S:S<2048?(E[C++]=192|S>>>6,E[C++]=128|S&63):S<65536?(E[C++]=224|S>>>12,E[C++]=128|S>>>6&63,E[C++]=128|S&63):(E[C++]=240|S>>>18,E[C++]=128|S>>>12&63,E[C++]=128|S>>>6&63,E[C++]=128|S&63);return E},w=function(_,E){var S;for(E=E||_.length,E>_.length&&(E=_.length),S=E-1;S>=0&&(_[S]&192)===128;)S--;return S<0||S===0?E:S+p[_[S]]>E?S:E},x=function(_){var E,S,A,z,C=_.length,N=new Array(C*2);for(S=0,E=0;E<C;){if(A=_[E++],A<128){N[S++]=A;continue}if(z=p[A],z>4){N[S++]=65533,E+=z-1;continue}for(A&=z===2?31:z===3?15:7;z>1&&E<C;)A=A<<6|_[E++]&63,z--;if(z>1){N[S++]=65533;continue}A<65536?N[S++]=A:(A-=65536,N[S++]=55296|A>>10&1023,N[S++]=56320|A&1023)}return N.length!==S&&(N.subarray?N=N.subarray(0,S):N.length=S),o.applyFromCharCode(N)};a.utf8encode=function(E){return l.nodebuffer?h.newBufferFrom(E,"utf-8"):m(E)},a.utf8decode=function(E){return l.nodebuffer?o.transformTo("nodebuffer",E).toString("utf-8"):(E=o.transformTo(l.uint8array?"uint8array":"array",E),x(E))};function R(){f.call(this,"utf-8 decode"),this.leftOver=null}o.inherits(R,f),R.prototype.processChunk=function(_){var E=o.transformTo(l.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var S=E;E=new Uint8Array(S.length+this.leftOver.length),E.set(this.leftOver,0),E.set(S,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var A=w(E),z=E;A!==E.length&&(l.uint8array?(z=E.subarray(0,A),this.leftOver=E.subarray(A,E.length)):(z=E.slice(0,A),this.leftOver=E.slice(A,E.length))),this.push({data:a.utf8decode(z),meta:_.meta})},R.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=R;function T(){f.call(this,"utf-8 encode")}o.inherits(T,f),T.prototype.processChunk=function(_){this.push({data:a.utf8encode(_.data),meta:_.meta})},a.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,a){var o=i("./support"),l=i("./base64"),h=i("./nodejsUtils"),f=i("./external");i("setimmediate");function p(_){var E=null;return o.uint8array?E=new Uint8Array(_.length):E=new Array(_.length),m(_,E)}a.newBlob=function(_,E){a.checkSupport("blob");try{return new Blob([_],{type:E})}catch{try{var S=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,A=new S;return A.append(_),A.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};function v(_){return _}function m(_,E){for(var S=0;S<_.length;++S)E[S]=_.charCodeAt(S)&255;return E}var w={stringifyByChunk:function(_,E,S){var A=[],z=0,C=_.length;if(C<=S)return String.fromCharCode.apply(null,_);for(;z<C;)E==="array"||E==="nodebuffer"?A.push(String.fromCharCode.apply(null,_.slice(z,Math.min(z+S,C)))):A.push(String.fromCharCode.apply(null,_.subarray(z,Math.min(z+S,C)))),z+=S;return A.join("")},stringifyByChar:function(_){for(var E="",S=0;S<_.length;S++)E+=String.fromCharCode(_[S]);return E},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function x(_){var E=65536,S=a.getTypeOf(_),A=!0;if(S==="uint8array"?A=w.applyCanBeUsed.uint8array:S==="nodebuffer"&&(A=w.applyCanBeUsed.nodebuffer),A)for(;E>1;)try{return w.stringifyByChunk(_,S,E)}catch{E=Math.floor(E/2)}return w.stringifyByChar(_)}a.applyFromCharCode=x;function R(_,E){for(var S=0;S<_.length;S++)E[S]=_[S];return E}var T={};T.string={string:v,array:function(_){return m(_,new Array(_.length))},arraybuffer:function(_){return T.string.uint8array(_).buffer},uint8array:function(_){return m(_,new Uint8Array(_.length))},nodebuffer:function(_){return m(_,h.allocBuffer(_.length))}},T.array={string:x,array:v,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return h.newBufferFrom(_)}},T.arraybuffer={string:function(_){return x(new Uint8Array(_))},array:function(_){return R(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:v,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return h.newBufferFrom(new Uint8Array(_))}},T.uint8array={string:x,array:function(_){return R(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:v,nodebuffer:function(_){return h.newBufferFrom(_)}},T.nodebuffer={string:x,array:function(_){return R(_,new Array(_.length))},arraybuffer:function(_){return T.nodebuffer.uint8array(_).buffer},uint8array:function(_){return R(_,new Uint8Array(_.length))},nodebuffer:v},a.transformTo=function(_,E){if(E||(E=""),!_)return E;a.checkSupport(_);var S=a.getTypeOf(E),A=T[S][_](E);return A},a.resolve=function(_){for(var E=_.split("/"),S=[],A=0;A<E.length;A++){var z=E[A];z==="."||z===""&&A!==0&&A!==E.length-1||(z===".."?S.pop():S.push(z))}return S.join("/")},a.getTypeOf=function(_){if(typeof _=="string")return"string";if(Object.prototype.toString.call(_)==="[object Array]")return"array";if(o.nodebuffer&&h.isBuffer(_))return"nodebuffer";if(o.uint8array&&_ instanceof Uint8Array)return"uint8array";if(o.arraybuffer&&_ instanceof ArrayBuffer)return"arraybuffer"},a.checkSupport=function(_){var E=o[_.toLowerCase()];if(!E)throw new Error(_+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(_){var E="",S,A;for(A=0;A<(_||"").length;A++)S=_.charCodeAt(A),E+="\\x"+(S<16?"0":"")+S.toString(16).toUpperCase();return E},a.delay=function(_,E,S){setImmediate(function(){_.apply(S||null,E||[])})},a.inherits=function(_,E){var S=function(){};S.prototype=E.prototype,_.prototype=new S},a.extend=function(){var _={},E,S;for(E=0;E<arguments.length;E++)for(S in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],S)&&typeof _[S]>"u"&&(_[S]=arguments[E][S]);return _},a.prepareContent=function(_,E,S,A,z){var C=f.Promise.resolve(E).then(function(N){var F=o.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1);return F&&typeof FileReader<"u"?new f.Promise(function(V,I){var H=new FileReader;H.onload=function(le){V(le.target.result)},H.onerror=function(le){I(le.target.error)},H.readAsArrayBuffer(N)}):N});return C.then(function(N){var F=a.getTypeOf(N);return F?(F==="arraybuffer"?N=a.transformTo("uint8array",N):F==="string"&&(z?N=l.decode(N):S&&A!==!0&&(N=p(N))),N):f.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,a){var o=i("./reader/readerFor"),l=i("./utils"),h=i("./signature"),f=i("./zipEntry"),p=i("./support");function v(m){this.files=[],this.loadOptions=m}v.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(w)+", expected "+l.pretty(m)+")")}},isSignature:function(m,w){var x=this.reader.index;this.reader.setIndex(m);var R=this.reader.readString(4),T=R===w;return this.reader.setIndex(x),T},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),w=p.uint8array?"uint8array":"array",x=l.transformTo(w,m);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m=this.zip64EndOfCentralSize-44,w=0,x,R,T;w<m;)x=this.reader.readInt(2),R=this.reader.readInt(4),T=this.reader.readData(R),this.zip64ExtensibleData[x]={id:x,length:R,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,w;for(m=0;m<this.files.length;m++)w=this.files[m],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)m=new f({zip64:this.zip64},this.loadOptions),m.readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(m<0){var w=!this.isSignature(0,h.LOCAL_FILE_HEADER);throw w?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(m);var x=m;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,m=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),m<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var R=this.centralDirOffset+this.centralDirSize;this.zip64&&(R+=20,R+=12+this.zip64EndOfCentralSize);var T=x-R;if(T>0)this.isSignature(x,h.CENTRAL_FILE_HEADER)||(this.reader.zero=T);else if(T<0)throw new Error("Corrupted zip: missing "+Math.abs(T)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,a){var o=i("./reader/readerFor"),l=i("./utils"),h=i("./compressedObject"),f=i("./crc32"),p=i("./utf8"),v=i("./compressions"),m=i("./support"),w=0,x=3,R=function(_){for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)&&v[E].magic===_)return v[E];return null};function T(_,E){this.options=_,this.loadOptions=E}T.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(_){var E,S;if(_.skip(22),this.fileNameLength=_.readInt(2),S=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(E=R(this.compressionMethod),E===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,E,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var E=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(E),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),_===w&&(this.dosPermissions=this.externalFileAttributes&63),_===x&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var E=_.index+this.extraFieldsLength,S,A,z;for(this.extraFields||(this.extraFields={});_.index+4<E;)S=_.readInt(2),A=_.readInt(2),z=_.readData(A),this.extraFields[S]={id:S,length:A,value:z};_.setIndex(E)},handleUTF8:function(){var _=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var S=l.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var z=l.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(z)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var E=o(_.value);return E.readInt(1)!==1||f(this.fileName)!==E.readInt(4)?null:p.utf8decode(E.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var E=o(_.value);return E.readInt(1)!==1||f(this.fileComment)!==E.readInt(4)?null:p.utf8decode(E.readData(_.length-5))}return null}},r.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,a){var o=i("./stream/StreamHelper"),l=i("./stream/DataWorker"),h=i("./utf8"),f=i("./compressedObject"),p=i("./stream/GenericWorker"),v=function(R,T,_){this.name=R,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=T,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}};v.prototype={internalStream:function(R){var T=null,_="string";try{if(!R)throw new Error("No output type specified.");_=R.toLowerCase();var E=_==="string"||_==="text";(_==="binarystring"||_==="text")&&(_="string"),T=this._decompressWorker();var S=!this._dataBinary;S&&!E&&(T=T.pipe(new h.Utf8EncodeWorker)),!S&&E&&(T=T.pipe(new h.Utf8DecodeWorker))}catch(A){T=new p("error"),T.error(A)}return new o(T,_,"")},async:function(R,T){return this.internalStream(R).accumulate(T)},nodeStream:function(R,T){return this.internalStream(R||"nodebuffer").toNodejsStream(T)},_compressWorker:function(R,T){if(this._data instanceof f&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(_,R,T)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof p?this._data:new l(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<m.length;x++)v.prototype[m[x]]=w;r.exports=v},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,a){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,h;if(l){var f=0,p=new l(R),v=o.document.createTextNode("");p.observe(v,{characterData:!0}),h=function(){v.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var m=new o.MessageChannel;m.port1.onmessage=R,h=function(){m.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?h=function(){var _=o.document.createElement("script");_.onreadystatechange=function(){R(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},o.document.documentElement.appendChild(_)}:h=function(){setTimeout(R,0)};var w,x=[];function R(){w=!0;for(var _,E,S=x.length;S;){for(E=x,x=[],_=-1;++_<S;)E[_]();S=x.length}w=!1}r.exports=T;function T(_){x.push(_)===1&&!w&&h()}}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,a){var o=i("immediate");function l(){}var h={},f=["REJECTED"],p=["FULFILLED"],v=["PENDING"];r.exports=m;function m(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,C!==l&&T(this,C)}m.prototype.finally=function(C){if(typeof C!="function")return this;var N=this.constructor;return this.then(F,V);function F(I){function H(){return I}return N.resolve(C()).then(H)}function V(I){function H(){throw I}return N.resolve(C()).then(H)}},m.prototype.catch=function(C){return this.then(null,C)},m.prototype.then=function(C,N){if(typeof C!="function"&&this.state===p||typeof N!="function"&&this.state===f)return this;var F=new this.constructor(l);if(this.state!==v){var V=this.state===p?C:N;x(F,V,this.outcome)}else this.queue.push(new w(F,C,N));return F};function w(C,N,F){this.promise=C,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(C){h.resolve(this.promise,C)},w.prototype.otherCallFulfilled=function(C){x(this.promise,this.onFulfilled,C)},w.prototype.callRejected=function(C){h.reject(this.promise,C)},w.prototype.otherCallRejected=function(C){x(this.promise,this.onRejected,C)};function x(C,N,F){o(function(){var V;try{V=N(F)}catch(I){return h.reject(C,I)}V===C?h.reject(C,new TypeError("Cannot resolve promise with itself")):h.resolve(C,V)})}h.resolve=function(C,N){var F=_(R,N);if(F.status==="error")return h.reject(C,F.value);var V=F.value;if(V)T(C,V);else{C.state=p,C.outcome=N;for(var I=-1,H=C.queue.length;++I<H;)C.queue[I].callFulfilled(N)}return C},h.reject=function(C,N){C.state=f,C.outcome=N;for(var F=-1,V=C.queue.length;++F<V;)C.queue[F].callRejected(N);return C};function R(C){var N=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof N=="function")return function(){N.apply(C,arguments)}}function T(C,N){var F=!1;function V(W){F||(F=!0,h.reject(C,W))}function I(W){F||(F=!0,h.resolve(C,W))}function H(){N(I,V)}var le=_(H);le.status==="error"&&V(le.value)}function _(C,N){var F={};try{F.value=C(N),F.status="success"}catch(V){F.status="error",F.value=V}return F}m.resolve=E;function E(C){return C instanceof this?C:h.resolve(new this(l),C)}m.reject=S;function S(C){var N=new this(l);return h.reject(N,C)}m.all=A;function A(C){var N=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=C.length,V=!1;if(!F)return this.resolve([]);for(var I=new Array(F),H=0,le=-1,W=new this(l);++le<F;)pe(C[le],le);return W;function pe(ke,me){N.resolve(ke).then(K,function(re){V||(V=!0,h.reject(W,re))});function K(re){I[me]=re,++H===F&&!V&&(V=!0,h.resolve(W,I))}}}m.race=z;function z(C){var N=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=C.length,V=!1;if(!F)return this.resolve([]);for(var I=-1,H=new this(l);++I<F;)le(C[I]);return H;function le(W){N.resolve(W).then(function(pe){V||(V=!0,h.resolve(H,pe))},function(pe){V||(V=!0,h.reject(H,pe))})}}},{immediate:36}],38:[function(i,r,a){var o=i("./lib/utils/common").assign,l=i("./lib/deflate"),h=i("./lib/inflate"),f=i("./lib/zlib/constants"),p={};o(p,l,h,f),r.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,a){var o=i("./zlib/deflate"),l=i("./utils/common"),h=i("./utils/strings"),f=i("./zlib/messages"),p=i("./zlib/zstream"),v=Object.prototype.toString,m=0,w=4,x=0,R=1,T=2,_=-1,E=0,S=8;function A(F){if(!(this instanceof A))return new A(F);this.options=l.assign({level:_,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},F||{});var V=this.options;V.raw&&V.windowBits>0?V.windowBits=-V.windowBits:V.gzip&&V.windowBits>0&&V.windowBits<16&&(V.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var I=o.deflateInit2(this.strm,V.level,V.method,V.windowBits,V.memLevel,V.strategy);if(I!==x)throw new Error(f[I]);if(V.header&&o.deflateSetHeader(this.strm,V.header),V.dictionary){var H;if(typeof V.dictionary=="string"?H=h.string2buf(V.dictionary):v.call(V.dictionary)==="[object ArrayBuffer]"?H=new Uint8Array(V.dictionary):H=V.dictionary,I=o.deflateSetDictionary(this.strm,H),I!==x)throw new Error(f[I]);this._dict_set=!0}}A.prototype.push=function(F,V){var I=this.strm,H=this.options.chunkSize,le,W;if(this.ended)return!1;W=V===~~V?V:V===!0?w:m,typeof F=="string"?I.input=h.string2buf(F):v.call(F)==="[object ArrayBuffer]"?I.input=new Uint8Array(F):I.input=F,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new l.Buf8(H),I.next_out=0,I.avail_out=H),le=o.deflate(I,W),le!==R&&le!==x)return this.onEnd(le),this.ended=!0,!1;(I.avail_out===0||I.avail_in===0&&(W===w||W===T))&&(this.options.to==="string"?this.onData(h.buf2binstring(l.shrinkBuf(I.output,I.next_out))):this.onData(l.shrinkBuf(I.output,I.next_out)))}while((I.avail_in>0||I.avail_out===0)&&le!==R);return W===w?(le=o.deflateEnd(this.strm),this.onEnd(le),this.ended=!0,le===x):(W===T&&(this.onEnd(x),I.avail_out=0),!0)},A.prototype.onData=function(F){this.chunks.push(F)},A.prototype.onEnd=function(F){F===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg};function z(F,V){var I=new A(V);if(I.push(F,!0),I.err)throw I.msg||f[I.err];return I.result}function C(F,V){return V=V||{},V.raw=!0,z(F,V)}function N(F,V){return V=V||{},V.gzip=!0,z(F,V)}a.Deflate=A,a.deflate=z,a.deflateRaw=C,a.gzip=N},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,a){var o=i("./zlib/inflate"),l=i("./utils/common"),h=i("./utils/strings"),f=i("./zlib/constants"),p=i("./zlib/messages"),v=i("./zlib/zstream"),m=i("./zlib/gzheader"),w=Object.prototype.toString;function x(_){if(!(this instanceof x))return new x(_);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},_||{});var E=this.options;E.raw&&E.windowBits>=0&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),E.windowBits>=0&&E.windowBits<16&&!(_&&_.windowBits)&&(E.windowBits+=32),E.windowBits>15&&E.windowBits<48&&(E.windowBits&15)===0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var S=o.inflateInit2(this.strm,E.windowBits);if(S!==f.Z_OK)throw new Error(p[S]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}x.prototype.push=function(_,E){var S=this.strm,A=this.options.chunkSize,z=this.options.dictionary,C,N,F,V,I,H,le=!1;if(this.ended)return!1;N=E===~~E?E:E===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof _=="string"?S.input=h.binstring2buf(_):w.call(_)==="[object ArrayBuffer]"?S.input=new Uint8Array(_):S.input=_,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new l.Buf8(A),S.next_out=0,S.avail_out=A),C=o.inflate(S,f.Z_NO_FLUSH),C===f.Z_NEED_DICT&&z&&(typeof z=="string"?H=h.string2buf(z):w.call(z)==="[object ArrayBuffer]"?H=new Uint8Array(z):H=z,C=o.inflateSetDictionary(this.strm,H)),C===f.Z_BUF_ERROR&&le===!0&&(C=f.Z_OK,le=!1),C!==f.Z_STREAM_END&&C!==f.Z_OK)return this.onEnd(C),this.ended=!0,!1;S.next_out&&(S.avail_out===0||C===f.Z_STREAM_END||S.avail_in===0&&(N===f.Z_FINISH||N===f.Z_SYNC_FLUSH))&&(this.options.to==="string"?(F=h.utf8border(S.output,S.next_out),V=S.next_out-F,I=h.buf2string(S.output,F),S.next_out=V,S.avail_out=A-V,V&&l.arraySet(S.output,S.output,F,V,0),this.onData(I)):this.onData(l.shrinkBuf(S.output,S.next_out))),S.avail_in===0&&S.avail_out===0&&(le=!0)}while((S.avail_in>0||S.avail_out===0)&&C!==f.Z_STREAM_END);return C===f.Z_STREAM_END&&(N=f.Z_FINISH),N===f.Z_FINISH?(C=o.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===f.Z_OK):(N===f.Z_SYNC_FLUSH&&(this.onEnd(f.Z_OK),S.avail_out=0),!0)},x.prototype.onData=function(_){this.chunks.push(_)},x.prototype.onEnd=function(_){_===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function R(_,E){var S=new x(E);if(S.push(_,!0),S.err)throw S.msg||p[S.err];return S.result}function T(_,E){return E=E||{},E.raw=!0,R(_,E)}a.Inflate=x,a.inflate=R,a.inflateRaw=T,a.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(f){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var v=p.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var m in v)v.hasOwnProperty(m)&&(f[m]=v[m])}}return f},a.shrinkBuf=function(f,p){return f.length===p?f:f.subarray?f.subarray(0,p):(f.length=p,f)};var l={arraySet:function(f,p,v,m,w){if(p.subarray&&f.subarray){f.set(p.subarray(v,v+m),w);return}for(var x=0;x<m;x++)f[w+x]=p[v+x]},flattenChunks:function(f){var p,v,m,w,x,R;for(m=0,p=0,v=f.length;p<v;p++)m+=f[p].length;for(R=new Uint8Array(m),w=0,p=0,v=f.length;p<v;p++)x=f[p],R.set(x,w),w+=x.length;return R}},h={arraySet:function(f,p,v,m,w){for(var x=0;x<m;x++)f[w+x]=p[v+x]},flattenChunks:function(f){return[].concat.apply([],f)}};a.setTyped=function(f){f?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,l)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,h))},a.setTyped(o)},{}],42:[function(i,r,a){var o=i("./common"),l=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var f=new o.Buf8(256),p=0;p<256;p++)f[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;f[254]=f[254]=1,a.string2buf=function(m){var w,x,R,T,_,E=m.length,S=0;for(T=0;T<E;T++)x=m.charCodeAt(T),(x&64512)===55296&&T+1<E&&(R=m.charCodeAt(T+1),(R&64512)===56320&&(x=65536+(x-55296<<10)+(R-56320),T++)),S+=x<128?1:x<2048?2:x<65536?3:4;for(w=new o.Buf8(S),_=0,T=0;_<S;T++)x=m.charCodeAt(T),(x&64512)===55296&&T+1<E&&(R=m.charCodeAt(T+1),(R&64512)===56320&&(x=65536+(x-55296<<10)+(R-56320),T++)),x<128?w[_++]=x:x<2048?(w[_++]=192|x>>>6,w[_++]=128|x&63):x<65536?(w[_++]=224|x>>>12,w[_++]=128|x>>>6&63,w[_++]=128|x&63):(w[_++]=240|x>>>18,w[_++]=128|x>>>12&63,w[_++]=128|x>>>6&63,w[_++]=128|x&63);return w};function v(m,w){if(w<65537&&(m.subarray&&h||!m.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(m,w));for(var x="",R=0;R<w;R++)x+=String.fromCharCode(m[R]);return x}a.buf2binstring=function(m){return v(m,m.length)},a.binstring2buf=function(m){for(var w=new o.Buf8(m.length),x=0,R=w.length;x<R;x++)w[x]=m.charCodeAt(x);return w},a.buf2string=function(m,w){var x,R,T,_,E=w||m.length,S=new Array(E*2);for(R=0,x=0;x<E;){if(T=m[x++],T<128){S[R++]=T;continue}if(_=f[T],_>4){S[R++]=65533,x+=_-1;continue}for(T&=_===2?31:_===3?15:7;_>1&&x<E;)T=T<<6|m[x++]&63,_--;if(_>1){S[R++]=65533;continue}T<65536?S[R++]=T:(T-=65536,S[R++]=55296|T>>10&1023,S[R++]=56320|T&1023)}return v(S,R)},a.utf8border=function(m,w){var x;for(w=w||m.length,w>m.length&&(w=m.length),x=w-1;x>=0&&(m[x]&192)===128;)x--;return x<0||x===0?w:x+f[m[x]]>w?x:w}},{"./common":41}],43:[function(i,r,a){function o(l,h,f,p){for(var v=l&65535|0,m=l>>>16&65535|0,w=0;f!==0;){w=f>2e3?2e3:f,f-=w;do v=v+h[p++]|0,m=m+v|0;while(--w);v%=65521,m%=65521}return v|m<<16|0}r.exports=o},{}],44:[function(i,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,a){function o(){for(var f,p=[],v=0;v<256;v++){f=v;for(var m=0;m<8;m++)f=f&1?3988292384^f>>>1:f>>>1;p[v]=f}return p}var l=o();function h(f,p,v,m){var w=l,x=m+v;f^=-1;for(var R=m;R<x;R++)f=f>>>8^w[(f^p[R])&255];return f^-1}r.exports=h},{}],46:[function(i,r,a){var o=i("../utils/common"),l=i("./trees"),h=i("./adler32"),f=i("./crc32"),p=i("./messages"),v=0,m=1,w=3,x=4,R=5,T=0,_=1,E=-2,S=-3,A=-5,z=-1,C=1,N=2,F=3,V=4,I=0,H=2,le=8,W=9,pe=15,ke=8,me=29,K=256,re=K+1+me,ce=30,Ae=19,G=2*re+1,M=15,oe=3,ye=258,xe=ye+oe+1,Ue=32,ze=42,tt=69,Me=73,it=91,St=103,Ze=113,ot=666,nt=1,lt=2,Ot=3,bt=4,Ke=3;function Ft(b,Y){return b.msg=p[Y],Y}function Kt(b){return(b<<1)-(b>4?9:0)}function kt(b){for(var Y=b.length;--Y>=0;)b[Y]=0}function $e(b){var Y=b.state,ie=Y.pending;ie>b.avail_out&&(ie=b.avail_out),ie!==0&&(o.arraySet(b.output,Y.pending_buf,Y.pending_out,ie,b.next_out),b.next_out+=ie,Y.pending_out+=ie,b.total_out+=ie,b.avail_out-=ie,Y.pending-=ie,Y.pending===0&&(Y.pending_out=0))}function Je(b,Y){l._tr_flush_block(b,b.block_start>=0?b.block_start:-1,b.strstart-b.block_start,Y),b.block_start=b.strstart,$e(b.strm)}function de(b,Y){b.pending_buf[b.pending++]=Y}function Ye(b,Y){b.pending_buf[b.pending++]=Y>>>8&255,b.pending_buf[b.pending++]=Y&255}function wt(b,Y,ie,B){var Z=b.avail_in;return Z>B&&(Z=B),Z===0?0:(b.avail_in-=Z,o.arraySet(Y,b.input,b.next_in,Z,ie),b.state.wrap===1?b.adler=h(b.adler,Y,Z,ie):b.state.wrap===2&&(b.adler=f(b.adler,Y,Z,ie)),b.next_in+=Z,b.total_in+=Z,Z)}function Pt(b,Y){var ie=b.max_chain_length,B=b.strstart,Z,ue,Be=b.prev_length,Oe=b.nice_match,je=b.strstart>b.w_size-xe?b.strstart-(b.w_size-xe):0,Qe=b.window,ui=b.w_mask,vt=b.prev,rt=b.strstart+ye,Tt=Qe[B+Be-1],ft=Qe[B+Be];b.prev_length>=b.good_match&&(ie>>=2),Oe>b.lookahead&&(Oe=b.lookahead);do if(Z=Y,!(Qe[Z+Be]!==ft||Qe[Z+Be-1]!==Tt||Qe[Z]!==Qe[B]||Qe[++Z]!==Qe[B+1])){B+=2,Z++;do;while(Qe[++B]===Qe[++Z]&&Qe[++B]===Qe[++Z]&&Qe[++B]===Qe[++Z]&&Qe[++B]===Qe[++Z]&&Qe[++B]===Qe[++Z]&&Qe[++B]===Qe[++Z]&&Qe[++B]===Qe[++Z]&&Qe[++B]===Qe[++Z]&&B<rt);if(ue=ye-(rt-B),B=rt-ye,ue>Be){if(b.match_start=Y,Be=ue,ue>=Oe)break;Tt=Qe[B+Be-1],ft=Qe[B+Be]}}while((Y=vt[Y&ui])>je&&--ie!==0);return Be<=b.lookahead?Be:b.lookahead}function _t(b){var Y=b.w_size,ie,B,Z,ue,Be;do{if(ue=b.window_size-b.lookahead-b.strstart,b.strstart>=Y+(Y-xe)){o.arraySet(b.window,b.window,Y,Y,0),b.match_start-=Y,b.strstart-=Y,b.block_start-=Y,B=b.hash_size,ie=B;do Z=b.head[--ie],b.head[ie]=Z>=Y?Z-Y:0;while(--B);B=Y,ie=B;do Z=b.prev[--ie],b.prev[ie]=Z>=Y?Z-Y:0;while(--B);ue+=Y}if(b.strm.avail_in===0)break;if(B=wt(b.strm,b.window,b.strstart+b.lookahead,ue),b.lookahead+=B,b.lookahead+b.insert>=oe)for(Be=b.strstart-b.insert,b.ins_h=b.window[Be],b.ins_h=(b.ins_h<<b.hash_shift^b.window[Be+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[Be+oe-1])&b.hash_mask,b.prev[Be&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=Be,Be++,b.insert--,!(b.lookahead+b.insert<oe)););}while(b.lookahead<xe&&b.strm.avail_in!==0)}function ni(b,Y){var ie=65535;for(ie>b.pending_buf_size-5&&(ie=b.pending_buf_size-5);;){if(b.lookahead<=1){if(_t(b),b.lookahead===0&&Y===v)return nt;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var B=b.block_start+ie;if((b.strstart===0||b.strstart>=B)&&(b.lookahead=b.strstart-B,b.strstart=B,Je(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-xe&&(Je(b,!1),b.strm.avail_out===0))return nt}return b.insert=0,Y===x?(Je(b,!0),b.strm.avail_out===0?Ot:bt):(b.strstart>b.block_start&&(Je(b,!1),b.strm.avail_out===0),nt)}function jt(b,Y){for(var ie,B;;){if(b.lookahead<xe){if(_t(b),b.lookahead<xe&&Y===v)return nt;if(b.lookahead===0)break}if(ie=0,b.lookahead>=oe&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+oe-1])&b.hash_mask,ie=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),ie!==0&&b.strstart-ie<=b.w_size-xe&&(b.match_length=Pt(b,ie)),b.match_length>=oe)if(B=l._tr_tally(b,b.strstart-b.match_start,b.match_length-oe),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=oe){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+oe-1])&b.hash_mask,ie=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(--b.match_length!==0);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else B=l._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(B&&(Je(b,!1),b.strm.avail_out===0))return nt}return b.insert=b.strstart<oe-1?b.strstart:oe-1,Y===x?(Je(b,!0),b.strm.avail_out===0?Ot:bt):b.last_lit&&(Je(b,!1),b.strm.avail_out===0)?nt:lt}function li(b,Y){for(var ie,B,Z;;){if(b.lookahead<xe){if(_t(b),b.lookahead<xe&&Y===v)return nt;if(b.lookahead===0)break}if(ie=0,b.lookahead>=oe&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+oe-1])&b.hash_mask,ie=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=oe-1,ie!==0&&b.prev_length<b.max_lazy_match&&b.strstart-ie<=b.w_size-xe&&(b.match_length=Pt(b,ie),b.match_length<=5&&(b.strategy===C||b.match_length===oe&&b.strstart-b.match_start>4096)&&(b.match_length=oe-1)),b.prev_length>=oe&&b.match_length<=b.prev_length){Z=b.strstart+b.lookahead-oe,B=l._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-oe),b.lookahead-=b.prev_length-1,b.prev_length-=2;do++b.strstart<=Z&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+oe-1])&b.hash_mask,ie=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(--b.prev_length!==0);if(b.match_available=0,b.match_length=oe-1,b.strstart++,B&&(Je(b,!1),b.strm.avail_out===0))return nt}else if(b.match_available){if(B=l._tr_tally(b,0,b.window[b.strstart-1]),B&&Je(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return nt}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(B=l._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<oe-1?b.strstart:oe-1,Y===x?(Je(b,!0),b.strm.avail_out===0?Ot:bt):b.last_lit&&(Je(b,!1),b.strm.avail_out===0)?nt:lt}function ki(b,Y){for(var ie,B,Z,ue,Be=b.window;;){if(b.lookahead<=ye){if(_t(b),b.lookahead<=ye&&Y===v)return nt;if(b.lookahead===0)break}if(b.match_length=0,b.lookahead>=oe&&b.strstart>0&&(Z=b.strstart-1,B=Be[Z],B===Be[++Z]&&B===Be[++Z]&&B===Be[++Z])){ue=b.strstart+ye;do;while(B===Be[++Z]&&B===Be[++Z]&&B===Be[++Z]&&B===Be[++Z]&&B===Be[++Z]&&B===Be[++Z]&&B===Be[++Z]&&B===Be[++Z]&&Z<ue);b.match_length=ye-(ue-Z),b.match_length>b.lookahead&&(b.match_length=b.lookahead)}if(b.match_length>=oe?(ie=l._tr_tally(b,1,b.match_length-oe),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(ie=l._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++),ie&&(Je(b,!1),b.strm.avail_out===0))return nt}return b.insert=0,Y===x?(Je(b,!0),b.strm.avail_out===0?Ot:bt):b.last_lit&&(Je(b,!1),b.strm.avail_out===0)?nt:lt}function yi(b,Y){for(var ie;;){if(b.lookahead===0&&(_t(b),b.lookahead===0)){if(Y===v)return nt;break}if(b.match_length=0,ie=l._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++,ie&&(Je(b,!1),b.strm.avail_out===0))return nt}return b.insert=0,Y===x?(Je(b,!0),b.strm.avail_out===0?Ot:bt):b.last_lit&&(Je(b,!1),b.strm.avail_out===0)?nt:lt}function Mt(b,Y,ie,B,Z){this.good_length=b,this.max_lazy=Y,this.nice_length=ie,this.max_chain=B,this.func=Z}var Qt;Qt=[new Mt(0,0,0,0,ni),new Mt(4,4,8,4,jt),new Mt(4,5,16,8,jt),new Mt(4,6,32,32,jt),new Mt(4,4,16,16,li),new Mt(8,16,32,32,li),new Mt(8,16,128,128,li),new Mt(8,32,128,256,li),new Mt(32,128,258,1024,li),new Mt(32,258,258,4096,li)];function bi(b){b.window_size=2*b.w_size,kt(b.head),b.max_lazy_match=Qt[b.level].max_lazy,b.good_match=Qt[b.level].good_length,b.nice_match=Qt[b.level].nice_length,b.max_chain_length=Qt[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=oe-1,b.match_available=0,b.ins_h=0}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=le,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(G*2),this.dyn_dtree=new o.Buf16((2*ce+1)*2),this.bl_tree=new o.Buf16((2*Ae+1)*2),kt(this.dyn_ltree),kt(this.dyn_dtree),kt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(M+1),this.heap=new o.Buf16(2*re+1),kt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*re+1),kt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ee(b){var Y;return!b||!b.state?Ft(b,E):(b.total_in=b.total_out=0,b.data_type=H,Y=b.state,Y.pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?ze:Ze,b.adler=Y.wrap===2?0:1,Y.last_flush=v,l._tr_init(Y),T)}function Re(b){var Y=Ee(b);return Y===T&&bi(b.state),Y}function Fe(b,Y){return!b||!b.state||b.state.wrap!==2?E:(b.state.gzhead=Y,T)}function Q(b,Y,ie,B,Z,ue){if(!b)return E;var Be=1;if(Y===z&&(Y=6),B<0?(Be=0,B=-B):B>15&&(Be=2,B-=16),Z<1||Z>W||ie!==le||B<8||B>15||Y<0||Y>9||ue<0||ue>V)return Ft(b,E);B===8&&(B=9);var Oe=new U;return b.state=Oe,Oe.strm=b,Oe.wrap=Be,Oe.gzhead=null,Oe.w_bits=B,Oe.w_size=1<<Oe.w_bits,Oe.w_mask=Oe.w_size-1,Oe.hash_bits=Z+7,Oe.hash_size=1<<Oe.hash_bits,Oe.hash_mask=Oe.hash_size-1,Oe.hash_shift=~~((Oe.hash_bits+oe-1)/oe),Oe.window=new o.Buf8(Oe.w_size*2),Oe.head=new o.Buf16(Oe.hash_size),Oe.prev=new o.Buf16(Oe.w_size),Oe.lit_bufsize=1<<Z+6,Oe.pending_buf_size=Oe.lit_bufsize*4,Oe.pending_buf=new o.Buf8(Oe.pending_buf_size),Oe.d_buf=1*Oe.lit_bufsize,Oe.l_buf=3*Oe.lit_bufsize,Oe.level=Y,Oe.strategy=ue,Oe.method=ie,Re(b)}function be(b,Y){return Q(b,Y,le,pe,ke,I)}function y(b,Y){var ie,B,Z,ue;if(!b||!b.state||Y>R||Y<0)return b?Ft(b,E):E;if(B=b.state,!b.output||!b.input&&b.avail_in!==0||B.status===ot&&Y!==x)return Ft(b,b.avail_out===0?A:E);if(B.strm=b,ie=B.last_flush,B.last_flush=Y,B.status===ze)if(B.wrap===2)b.adler=0,de(B,31),de(B,139),de(B,8),B.gzhead?(de(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),de(B,B.gzhead.time&255),de(B,B.gzhead.time>>8&255),de(B,B.gzhead.time>>16&255),de(B,B.gzhead.time>>24&255),de(B,B.level===9?2:B.strategy>=N||B.level<2?4:0),de(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length&&(de(B,B.gzhead.extra.length&255),de(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(b.adler=f(b.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=tt):(de(B,0),de(B,0),de(B,0),de(B,0),de(B,0),de(B,B.level===9?2:B.strategy>=N||B.level<2?4:0),de(B,Ke),B.status=Ze);else{var Be=le+(B.w_bits-8<<4)<<8,Oe=-1;B.strategy>=N||B.level<2?Oe=0:B.level<6?Oe=1:B.level===6?Oe=2:Oe=3,Be|=Oe<<6,B.strstart!==0&&(Be|=Ue),Be+=31-Be%31,B.status=Ze,Ye(B,Be),B.strstart!==0&&(Ye(B,b.adler>>>16),Ye(B,b.adler&65535)),b.adler=1}if(B.status===tt)if(B.gzhead.extra){for(Z=B.pending;B.gzindex<(B.gzhead.extra.length&65535)&&!(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Z&&(b.adler=f(b.adler,B.pending_buf,B.pending-Z,Z)),$e(b),Z=B.pending,B.pending===B.pending_buf_size));)de(B,B.gzhead.extra[B.gzindex]&255),B.gzindex++;B.gzhead.hcrc&&B.pending>Z&&(b.adler=f(b.adler,B.pending_buf,B.pending-Z,Z)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=Me)}else B.status=Me;if(B.status===Me)if(B.gzhead.name){Z=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Z&&(b.adler=f(b.adler,B.pending_buf,B.pending-Z,Z)),$e(b),Z=B.pending,B.pending===B.pending_buf_size)){ue=1;break}B.gzindex<B.gzhead.name.length?ue=B.gzhead.name.charCodeAt(B.gzindex++)&255:ue=0,de(B,ue)}while(ue!==0);B.gzhead.hcrc&&B.pending>Z&&(b.adler=f(b.adler,B.pending_buf,B.pending-Z,Z)),ue===0&&(B.gzindex=0,B.status=it)}else B.status=it;if(B.status===it)if(B.gzhead.comment){Z=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Z&&(b.adler=f(b.adler,B.pending_buf,B.pending-Z,Z)),$e(b),Z=B.pending,B.pending===B.pending_buf_size)){ue=1;break}B.gzindex<B.gzhead.comment.length?ue=B.gzhead.comment.charCodeAt(B.gzindex++)&255:ue=0,de(B,ue)}while(ue!==0);B.gzhead.hcrc&&B.pending>Z&&(b.adler=f(b.adler,B.pending_buf,B.pending-Z,Z)),ue===0&&(B.status=St)}else B.status=St;if(B.status===St&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&$e(b),B.pending+2<=B.pending_buf_size&&(de(B,b.adler&255),de(B,b.adler>>8&255),b.adler=0,B.status=Ze)):B.status=Ze),B.pending!==0){if($e(b),b.avail_out===0)return B.last_flush=-1,T}else if(b.avail_in===0&&Kt(Y)<=Kt(ie)&&Y!==x)return Ft(b,A);if(B.status===ot&&b.avail_in!==0)return Ft(b,A);if(b.avail_in!==0||B.lookahead!==0||Y!==v&&B.status!==ot){var je=B.strategy===N?yi(B,Y):B.strategy===F?ki(B,Y):Qt[B.level].func(B,Y);if((je===Ot||je===bt)&&(B.status=ot),je===nt||je===Ot)return b.avail_out===0&&(B.last_flush=-1),T;if(je===lt&&(Y===m?l._tr_align(B):Y!==R&&(l._tr_stored_block(B,0,0,!1),Y===w&&(kt(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),$e(b),b.avail_out===0))return B.last_flush=-1,T}return Y!==x?T:B.wrap<=0?_:(B.wrap===2?(de(B,b.adler&255),de(B,b.adler>>8&255),de(B,b.adler>>16&255),de(B,b.adler>>24&255),de(B,b.total_in&255),de(B,b.total_in>>8&255),de(B,b.total_in>>16&255),de(B,b.total_in>>24&255)):(Ye(B,b.adler>>>16),Ye(B,b.adler&65535)),$e(b),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?T:_)}function D(b){var Y;return!b||!b.state?E:(Y=b.state.status,Y!==ze&&Y!==tt&&Y!==Me&&Y!==it&&Y!==St&&Y!==Ze&&Y!==ot?Ft(b,E):(b.state=null,Y===Ze?Ft(b,S):T))}function q(b,Y){var ie=Y.length,B,Z,ue,Be,Oe,je,Qe,ui;if(!b||!b.state||(B=b.state,Be=B.wrap,Be===2||Be===1&&B.status!==ze||B.lookahead))return E;for(Be===1&&(b.adler=h(b.adler,Y,ie,0)),B.wrap=0,ie>=B.w_size&&(Be===0&&(kt(B.head),B.strstart=0,B.block_start=0,B.insert=0),ui=new o.Buf8(B.w_size),o.arraySet(ui,Y,ie-B.w_size,B.w_size,0),Y=ui,ie=B.w_size),Oe=b.avail_in,je=b.next_in,Qe=b.input,b.avail_in=ie,b.next_in=0,b.input=Y,_t(B);B.lookahead>=oe;){Z=B.strstart,ue=B.lookahead-(oe-1);do B.ins_h=(B.ins_h<<B.hash_shift^B.window[Z+oe-1])&B.hash_mask,B.prev[Z&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Z,Z++;while(--ue);B.strstart=Z,B.lookahead=oe-1,_t(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=oe-1,B.match_available=0,b.next_in=je,b.input=Qe,b.avail_in=Oe,B.wrap=Be,T}a.deflateInit=be,a.deflateInit2=Q,a.deflateReset=Re,a.deflateResetKeep=Ee,a.deflateSetHeader=Fe,a.deflate=y,a.deflateEnd=D,a.deflateSetDictionary=q,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,a){function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=o},{}],48:[function(i,r,a){var o=30,l=12;r.exports=function(f,p){var v,m,w,x,R,T,_,E,S,A,z,C,N,F,V,I,H,le,W,pe,ke,me,K,re,ce;v=f.state,m=f.next_in,re=f.input,w=m+(f.avail_in-5),x=f.next_out,ce=f.output,R=x-(p-f.avail_out),T=x+(f.avail_out-257),_=v.dmax,E=v.wsize,S=v.whave,A=v.wnext,z=v.window,C=v.hold,N=v.bits,F=v.lencode,V=v.distcode,I=(1<<v.lenbits)-1,H=(1<<v.distbits)-1;e:do{N<15&&(C+=re[m++]<<N,N+=8,C+=re[m++]<<N,N+=8),le=F[C&I];t:for(;;){if(W=le>>>24,C>>>=W,N-=W,W=le>>>16&255,W===0)ce[x++]=le&65535;else if(W&16){pe=le&65535,W&=15,W&&(N<W&&(C+=re[m++]<<N,N+=8),pe+=C&(1<<W)-1,C>>>=W,N-=W),N<15&&(C+=re[m++]<<N,N+=8,C+=re[m++]<<N,N+=8),le=V[C&H];i:for(;;){if(W=le>>>24,C>>>=W,N-=W,W=le>>>16&255,W&16){if(ke=le&65535,W&=15,N<W&&(C+=re[m++]<<N,N+=8,N<W&&(C+=re[m++]<<N,N+=8)),ke+=C&(1<<W)-1,ke>_){f.msg="invalid distance too far back",v.mode=o;break e}if(C>>>=W,N-=W,W=x-R,ke>W){if(W=ke-W,W>S&&v.sane){f.msg="invalid distance too far back",v.mode=o;break e}if(me=0,K=z,A===0){if(me+=E-W,W<pe){pe-=W;do ce[x++]=z[me++];while(--W);me=x-ke,K=ce}}else if(A<W){if(me+=E+A-W,W-=A,W<pe){pe-=W;do ce[x++]=z[me++];while(--W);if(me=0,A<pe){W=A,pe-=W;do ce[x++]=z[me++];while(--W);me=x-ke,K=ce}}}else if(me+=A-W,W<pe){pe-=W;do ce[x++]=z[me++];while(--W);me=x-ke,K=ce}for(;pe>2;)ce[x++]=K[me++],ce[x++]=K[me++],ce[x++]=K[me++],pe-=3;pe&&(ce[x++]=K[me++],pe>1&&(ce[x++]=K[me++]))}else{me=x-ke;do ce[x++]=ce[me++],ce[x++]=ce[me++],ce[x++]=ce[me++],pe-=3;while(pe>2);pe&&(ce[x++]=ce[me++],pe>1&&(ce[x++]=ce[me++]))}}else if((W&64)===0){le=V[(le&65535)+(C&(1<<W)-1)];continue i}else{f.msg="invalid distance code",v.mode=o;break e}break}}else if((W&64)===0){le=F[(le&65535)+(C&(1<<W)-1)];continue t}else if(W&32){v.mode=l;break e}else{f.msg="invalid literal/length code",v.mode=o;break e}break}}while(m<w&&x<T);pe=N>>3,m-=pe,N-=pe<<3,C&=(1<<N)-1,f.next_in=m,f.next_out=x,f.avail_in=m<w?5+(w-m):5-(m-w),f.avail_out=x<T?257+(T-x):257-(x-T),v.hold=C,v.bits=N}},{}],49:[function(i,r,a){var o=i("../utils/common"),l=i("./adler32"),h=i("./crc32"),f=i("./inffast"),p=i("./inftrees"),v=0,m=1,w=2,x=4,R=5,T=6,_=0,E=1,S=2,A=-2,z=-3,C=-4,N=-5,F=8,V=1,I=2,H=3,le=4,W=5,pe=6,ke=7,me=8,K=9,re=10,ce=11,Ae=12,G=13,M=14,oe=15,ye=16,xe=17,Ue=18,ze=19,tt=20,Me=21,it=22,St=23,Ze=24,ot=25,nt=26,lt=27,Ot=28,bt=29,Ke=30,Ft=31,Kt=32,kt=852,$e=592,Je=15,de=Je;function Ye(Q){return(Q>>>24&255)+(Q>>>8&65280)+((Q&65280)<<8)+((Q&255)<<24)}function wt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Pt(Q){var be;return!Q||!Q.state?A:(be=Q.state,Q.total_in=Q.total_out=be.total=0,Q.msg="",be.wrap&&(Q.adler=be.wrap&1),be.mode=V,be.last=0,be.havedict=0,be.dmax=32768,be.head=null,be.hold=0,be.bits=0,be.lencode=be.lendyn=new o.Buf32(kt),be.distcode=be.distdyn=new o.Buf32($e),be.sane=1,be.back=-1,_)}function _t(Q){var be;return!Q||!Q.state?A:(be=Q.state,be.wsize=0,be.whave=0,be.wnext=0,Pt(Q))}function ni(Q,be){var y,D;return!Q||!Q.state||(D=Q.state,be<0?(y=0,be=-be):(y=(be>>4)+1,be<48&&(be&=15)),be&&(be<8||be>15))?A:(D.window!==null&&D.wbits!==be&&(D.window=null),D.wrap=y,D.wbits=be,_t(Q))}function jt(Q,be){var y,D;return Q?(D=new wt,Q.state=D,D.window=null,y=ni(Q,be),y!==_&&(Q.state=null),y):A}function li(Q){return jt(Q,de)}var ki=!0,yi,Mt;function Qt(Q){if(ki){var be;for(yi=new o.Buf32(512),Mt=new o.Buf32(32),be=0;be<144;)Q.lens[be++]=8;for(;be<256;)Q.lens[be++]=9;for(;be<280;)Q.lens[be++]=7;for(;be<288;)Q.lens[be++]=8;for(p(m,Q.lens,0,288,yi,0,Q.work,{bits:9}),be=0;be<32;)Q.lens[be++]=5;p(w,Q.lens,0,32,Mt,0,Q.work,{bits:5}),ki=!1}Q.lencode=yi,Q.lenbits=9,Q.distcode=Mt,Q.distbits=5}function bi(Q,be,y,D){var q,b=Q.state;return b.window===null&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new o.Buf8(b.wsize)),D>=b.wsize?(o.arraySet(b.window,be,y-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(q=b.wsize-b.wnext,q>D&&(q=D),o.arraySet(b.window,be,y-D,q,b.wnext),D-=q,D?(o.arraySet(b.window,be,y-D,D,0),b.wnext=D,b.whave=b.wsize):(b.wnext+=q,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=q))),0}function U(Q,be){var y,D,q,b,Y,ie,B,Z,ue,Be,Oe,je,Qe,ui,vt=0,rt,Tt,ft,Zt,fi,Mi,It,Dt,ri=new o.Buf8(4),Fi,di,fn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Q||!Q.state||!Q.output||!Q.input&&Q.avail_in!==0)return A;y=Q.state,y.mode===Ae&&(y.mode=G),Y=Q.next_out,q=Q.output,B=Q.avail_out,b=Q.next_in,D=Q.input,ie=Q.avail_in,Z=y.hold,ue=y.bits,Be=ie,Oe=B,Dt=_;e:for(;;)switch(y.mode){case V:if(y.wrap===0){y.mode=G;break}for(;ue<16;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if(y.wrap&2&&Z===35615){y.check=0,ri[0]=Z&255,ri[1]=Z>>>8&255,y.check=h(y.check,ri,2,0),Z=0,ue=0,y.mode=I;break}if(y.flags=0,y.head&&(y.head.done=!1),!(y.wrap&1)||(((Z&255)<<8)+(Z>>8))%31){Q.msg="incorrect header check",y.mode=Ke;break}if((Z&15)!==F){Q.msg="unknown compression method",y.mode=Ke;break}if(Z>>>=4,ue-=4,It=(Z&15)+8,y.wbits===0)y.wbits=It;else if(It>y.wbits){Q.msg="invalid window size",y.mode=Ke;break}y.dmax=1<<It,Q.adler=y.check=1,y.mode=Z&512?re:Ae,Z=0,ue=0;break;case I:for(;ue<16;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if(y.flags=Z,(y.flags&255)!==F){Q.msg="unknown compression method",y.mode=Ke;break}if(y.flags&57344){Q.msg="unknown header flags set",y.mode=Ke;break}y.head&&(y.head.text=Z>>8&1),y.flags&512&&(ri[0]=Z&255,ri[1]=Z>>>8&255,y.check=h(y.check,ri,2,0)),Z=0,ue=0,y.mode=H;case H:for(;ue<32;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}y.head&&(y.head.time=Z),y.flags&512&&(ri[0]=Z&255,ri[1]=Z>>>8&255,ri[2]=Z>>>16&255,ri[3]=Z>>>24&255,y.check=h(y.check,ri,4,0)),Z=0,ue=0,y.mode=le;case le:for(;ue<16;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}y.head&&(y.head.xflags=Z&255,y.head.os=Z>>8),y.flags&512&&(ri[0]=Z&255,ri[1]=Z>>>8&255,y.check=h(y.check,ri,2,0)),Z=0,ue=0,y.mode=W;case W:if(y.flags&1024){for(;ue<16;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}y.length=Z,y.head&&(y.head.extra_len=Z),y.flags&512&&(ri[0]=Z&255,ri[1]=Z>>>8&255,y.check=h(y.check,ri,2,0)),Z=0,ue=0}else y.head&&(y.head.extra=null);y.mode=pe;case pe:if(y.flags&1024&&(je=y.length,je>ie&&(je=ie),je&&(y.head&&(It=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),o.arraySet(y.head.extra,D,b,je,It)),y.flags&512&&(y.check=h(y.check,D,je,b)),ie-=je,b+=je,y.length-=je),y.length))break e;y.length=0,y.mode=ke;case ke:if(y.flags&2048){if(ie===0)break e;je=0;do It=D[b+je++],y.head&&It&&y.length<65536&&(y.head.name+=String.fromCharCode(It));while(It&&je<ie);if(y.flags&512&&(y.check=h(y.check,D,je,b)),ie-=je,b+=je,It)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=me;case me:if(y.flags&4096){if(ie===0)break e;je=0;do It=D[b+je++],y.head&&It&&y.length<65536&&(y.head.comment+=String.fromCharCode(It));while(It&&je<ie);if(y.flags&512&&(y.check=h(y.check,D,je,b)),ie-=je,b+=je,It)break e}else y.head&&(y.head.comment=null);y.mode=K;case K:if(y.flags&512){for(;ue<16;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if(Z!==(y.check&65535)){Q.msg="header crc mismatch",y.mode=Ke;break}Z=0,ue=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),Q.adler=y.check=0,y.mode=Ae;break;case re:for(;ue<32;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}Q.adler=y.check=Ye(Z),Z=0,ue=0,y.mode=ce;case ce:if(y.havedict===0)return Q.next_out=Y,Q.avail_out=B,Q.next_in=b,Q.avail_in=ie,y.hold=Z,y.bits=ue,S;Q.adler=y.check=1,y.mode=Ae;case Ae:if(be===R||be===T)break e;case G:if(y.last){Z>>>=ue&7,ue-=ue&7,y.mode=lt;break}for(;ue<3;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}switch(y.last=Z&1,Z>>>=1,ue-=1,Z&3){case 0:y.mode=M;break;case 1:if(Qt(y),y.mode=tt,be===T){Z>>>=2,ue-=2;break e}break;case 2:y.mode=xe;break;case 3:Q.msg="invalid block type",y.mode=Ke}Z>>>=2,ue-=2;break;case M:for(Z>>>=ue&7,ue-=ue&7;ue<32;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if((Z&65535)!==(Z>>>16^65535)){Q.msg="invalid stored block lengths",y.mode=Ke;break}if(y.length=Z&65535,Z=0,ue=0,y.mode=oe,be===T)break e;case oe:y.mode=ye;case ye:if(je=y.length,je){if(je>ie&&(je=ie),je>B&&(je=B),je===0)break e;o.arraySet(q,D,b,je,Y),ie-=je,b+=je,B-=je,Y+=je,y.length-=je;break}y.mode=Ae;break;case xe:for(;ue<14;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if(y.nlen=(Z&31)+257,Z>>>=5,ue-=5,y.ndist=(Z&31)+1,Z>>>=5,ue-=5,y.ncode=(Z&15)+4,Z>>>=4,ue-=4,y.nlen>286||y.ndist>30){Q.msg="too many length or distance symbols",y.mode=Ke;break}y.have=0,y.mode=Ue;case Ue:for(;y.have<y.ncode;){for(;ue<3;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}y.lens[fn[y.have++]]=Z&7,Z>>>=3,ue-=3}for(;y.have<19;)y.lens[fn[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,Fi={bits:y.lenbits},Dt=p(v,y.lens,0,19,y.lencode,0,y.work,Fi),y.lenbits=Fi.bits,Dt){Q.msg="invalid code lengths set",y.mode=Ke;break}y.have=0,y.mode=ze;case ze:for(;y.have<y.nlen+y.ndist;){for(;vt=y.lencode[Z&(1<<y.lenbits)-1],rt=vt>>>24,Tt=vt>>>16&255,ft=vt&65535,!(rt<=ue);){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if(ft<16)Z>>>=rt,ue-=rt,y.lens[y.have++]=ft;else{if(ft===16){for(di=rt+2;ue<di;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if(Z>>>=rt,ue-=rt,y.have===0){Q.msg="invalid bit length repeat",y.mode=Ke;break}It=y.lens[y.have-1],je=3+(Z&3),Z>>>=2,ue-=2}else if(ft===17){for(di=rt+3;ue<di;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}Z>>>=rt,ue-=rt,It=0,je=3+(Z&7),Z>>>=3,ue-=3}else{for(di=rt+7;ue<di;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}Z>>>=rt,ue-=rt,It=0,je=11+(Z&127),Z>>>=7,ue-=7}if(y.have+je>y.nlen+y.ndist){Q.msg="invalid bit length repeat",y.mode=Ke;break}for(;je--;)y.lens[y.have++]=It}}if(y.mode===Ke)break;if(y.lens[256]===0){Q.msg="invalid code -- missing end-of-block",y.mode=Ke;break}if(y.lenbits=9,Fi={bits:y.lenbits},Dt=p(m,y.lens,0,y.nlen,y.lencode,0,y.work,Fi),y.lenbits=Fi.bits,Dt){Q.msg="invalid literal/lengths set",y.mode=Ke;break}if(y.distbits=6,y.distcode=y.distdyn,Fi={bits:y.distbits},Dt=p(w,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,Fi),y.distbits=Fi.bits,Dt){Q.msg="invalid distances set",y.mode=Ke;break}if(y.mode=tt,be===T)break e;case tt:y.mode=Me;case Me:if(ie>=6&&B>=258){Q.next_out=Y,Q.avail_out=B,Q.next_in=b,Q.avail_in=ie,y.hold=Z,y.bits=ue,f(Q,Oe),Y=Q.next_out,q=Q.output,B=Q.avail_out,b=Q.next_in,D=Q.input,ie=Q.avail_in,Z=y.hold,ue=y.bits,y.mode===Ae&&(y.back=-1);break}for(y.back=0;vt=y.lencode[Z&(1<<y.lenbits)-1],rt=vt>>>24,Tt=vt>>>16&255,ft=vt&65535,!(rt<=ue);){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if(Tt&&(Tt&240)===0){for(Zt=rt,fi=Tt,Mi=ft;vt=y.lencode[Mi+((Z&(1<<Zt+fi)-1)>>Zt)],rt=vt>>>24,Tt=vt>>>16&255,ft=vt&65535,!(Zt+rt<=ue);){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}Z>>>=Zt,ue-=Zt,y.back+=Zt}if(Z>>>=rt,ue-=rt,y.back+=rt,y.length=ft,Tt===0){y.mode=nt;break}if(Tt&32){y.back=-1,y.mode=Ae;break}if(Tt&64){Q.msg="invalid literal/length code",y.mode=Ke;break}y.extra=Tt&15,y.mode=it;case it:if(y.extra){for(di=y.extra;ue<di;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}y.length+=Z&(1<<y.extra)-1,Z>>>=y.extra,ue-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=St;case St:for(;vt=y.distcode[Z&(1<<y.distbits)-1],rt=vt>>>24,Tt=vt>>>16&255,ft=vt&65535,!(rt<=ue);){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if((Tt&240)===0){for(Zt=rt,fi=Tt,Mi=ft;vt=y.distcode[Mi+((Z&(1<<Zt+fi)-1)>>Zt)],rt=vt>>>24,Tt=vt>>>16&255,ft=vt&65535,!(Zt+rt<=ue);){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}Z>>>=Zt,ue-=Zt,y.back+=Zt}if(Z>>>=rt,ue-=rt,y.back+=rt,Tt&64){Q.msg="invalid distance code",y.mode=Ke;break}y.offset=ft,y.extra=Tt&15,y.mode=Ze;case Ze:if(y.extra){for(di=y.extra;ue<di;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}y.offset+=Z&(1<<y.extra)-1,Z>>>=y.extra,ue-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){Q.msg="invalid distance too far back",y.mode=Ke;break}y.mode=ot;case ot:if(B===0)break e;if(je=Oe-B,y.offset>je){if(je=y.offset-je,je>y.whave&&y.sane){Q.msg="invalid distance too far back",y.mode=Ke;break}je>y.wnext?(je-=y.wnext,Qe=y.wsize-je):Qe=y.wnext-je,je>y.length&&(je=y.length),ui=y.window}else ui=q,Qe=Y-y.offset,je=y.length;je>B&&(je=B),B-=je,y.length-=je;do q[Y++]=ui[Qe++];while(--je);y.length===0&&(y.mode=Me);break;case nt:if(B===0)break e;q[Y++]=y.length,B--,y.mode=Me;break;case lt:if(y.wrap){for(;ue<32;){if(ie===0)break e;ie--,Z|=D[b++]<<ue,ue+=8}if(Oe-=B,Q.total_out+=Oe,y.total+=Oe,Oe&&(Q.adler=y.check=y.flags?h(y.check,q,Oe,Y-Oe):l(y.check,q,Oe,Y-Oe)),Oe=B,(y.flags?Z:Ye(Z))!==y.check){Q.msg="incorrect data check",y.mode=Ke;break}Z=0,ue=0}y.mode=Ot;case Ot:if(y.wrap&&y.flags){for(;ue<32;){if(ie===0)break e;ie--,Z+=D[b++]<<ue,ue+=8}if(Z!==(y.total&4294967295)){Q.msg="incorrect length check",y.mode=Ke;break}Z=0,ue=0}y.mode=bt;case bt:Dt=E;break e;case Ke:Dt=z;break e;case Ft:return C;case Kt:default:return A}return Q.next_out=Y,Q.avail_out=B,Q.next_in=b,Q.avail_in=ie,y.hold=Z,y.bits=ue,(y.wsize||Oe!==Q.avail_out&&y.mode<Ke&&(y.mode<lt||be!==x))&&bi(Q,Q.output,Q.next_out,Oe-Q.avail_out),Be-=Q.avail_in,Oe-=Q.avail_out,Q.total_in+=Be,Q.total_out+=Oe,y.total+=Oe,y.wrap&&Oe&&(Q.adler=y.check=y.flags?h(y.check,q,Oe,Q.next_out-Oe):l(y.check,q,Oe,Q.next_out-Oe)),Q.data_type=y.bits+(y.last?64:0)+(y.mode===Ae?128:0)+(y.mode===tt||y.mode===oe?256:0),(Be===0&&Oe===0||be===x)&&Dt===_&&(Dt=N),Dt}function Ee(Q){if(!Q||!Q.state)return A;var be=Q.state;return be.window&&(be.window=null),Q.state=null,_}function Re(Q,be){var y;return!Q||!Q.state||(y=Q.state,(y.wrap&2)===0)?A:(y.head=be,be.done=!1,_)}function Fe(Q,be){var y=be.length,D,q,b;return!Q||!Q.state||(D=Q.state,D.wrap!==0&&D.mode!==ce)?A:D.mode===ce&&(q=1,q=l(q,be,y,0),q!==D.check)?z:(b=bi(Q,be,y,y),b?(D.mode=Ft,C):(D.havedict=1,_))}a.inflateReset=_t,a.inflateReset2=ni,a.inflateResetKeep=Pt,a.inflateInit=li,a.inflateInit2=jt,a.inflate=U,a.inflateEnd=Ee,a.inflateGetHeader=Re,a.inflateSetDictionary=Fe,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,a){var o=i("../utils/common"),l=15,h=852,f=592,p=0,v=1,m=2,w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],R=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(E,S,A,z,C,N,F,V){var I=V.bits,H=0,le=0,W=0,pe=0,ke=0,me=0,K=0,re=0,ce=0,Ae=0,G,M,oe,ye,xe,Ue=null,ze=0,tt,Me=new o.Buf16(l+1),it=new o.Buf16(l+1),St=null,Ze=0,ot,nt,lt;for(H=0;H<=l;H++)Me[H]=0;for(le=0;le<z;le++)Me[S[A+le]]++;for(ke=I,pe=l;pe>=1&&Me[pe]===0;pe--);if(ke>pe&&(ke=pe),pe===0)return C[N++]=1<<24|64<<16|0,C[N++]=1<<24|64<<16|0,V.bits=1,0;for(W=1;W<pe&&Me[W]===0;W++);for(ke<W&&(ke=W),re=1,H=1;H<=l;H++)if(re<<=1,re-=Me[H],re<0)return-1;if(re>0&&(E===p||pe!==1))return-1;for(it[1]=0,H=1;H<l;H++)it[H+1]=it[H]+Me[H];for(le=0;le<z;le++)S[A+le]!==0&&(F[it[S[A+le]]++]=le);if(E===p?(Ue=St=F,tt=19):E===v?(Ue=w,ze-=257,St=x,Ze-=257,tt=256):(Ue=R,St=T,tt=-1),Ae=0,le=0,H=W,xe=N,me=ke,K=0,oe=-1,ce=1<<ke,ye=ce-1,E===v&&ce>h||E===m&&ce>f)return 1;for(;;){ot=H-K,F[le]<tt?(nt=0,lt=F[le]):F[le]>tt?(nt=St[Ze+F[le]],lt=Ue[ze+F[le]]):(nt=96,lt=0),G=1<<H-K,M=1<<me,W=M;do M-=G,C[xe+(Ae>>K)+M]=ot<<24|nt<<16|lt|0;while(M!==0);for(G=1<<H-1;Ae&G;)G>>=1;if(G!==0?(Ae&=G-1,Ae+=G):Ae=0,le++,--Me[H]===0){if(H===pe)break;H=S[A+F[le]]}if(H>ke&&(Ae&ye)!==oe){for(K===0&&(K=ke),xe+=W,me=H-K,re=1<<me;me+K<pe&&(re-=Me[me+K],!(re<=0));)me++,re<<=1;if(ce+=1<<me,E===v&&ce>h||E===m&&ce>f)return 1;oe=Ae&ye,C[oe]=ke<<24|me<<16|xe-N|0}}return Ae!==0&&(C[xe+Ae]=H-K<<24|64<<16|0),V.bits=ke,0}},{"../utils/common":41}],51:[function(i,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,a){var o=i("../utils/common"),l=4,h=0,f=1,p=2;function v(U){for(var Ee=U.length;--Ee>=0;)U[Ee]=0}var m=0,w=1,x=2,R=3,T=258,_=29,E=256,S=E+1+_,A=30,z=19,C=2*S+1,N=15,F=16,V=7,I=256,H=16,le=17,W=18,pe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ke=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=512,ce=new Array((S+2)*2);v(ce);var Ae=new Array(A*2);v(Ae);var G=new Array(re);v(G);var M=new Array(T-R+1);v(M);var oe=new Array(_);v(oe);var ye=new Array(A);v(ye);function xe(U,Ee,Re,Fe,Q){this.static_tree=U,this.extra_bits=Ee,this.extra_base=Re,this.elems=Fe,this.max_length=Q,this.has_stree=U&&U.length}var Ue,ze,tt;function Me(U,Ee){this.dyn_tree=U,this.max_code=0,this.stat_desc=Ee}function it(U){return U<256?G[U]:G[256+(U>>>7)]}function St(U,Ee){U.pending_buf[U.pending++]=Ee&255,U.pending_buf[U.pending++]=Ee>>>8&255}function Ze(U,Ee,Re){U.bi_valid>F-Re?(U.bi_buf|=Ee<<U.bi_valid&65535,St(U,U.bi_buf),U.bi_buf=Ee>>F-U.bi_valid,U.bi_valid+=Re-F):(U.bi_buf|=Ee<<U.bi_valid&65535,U.bi_valid+=Re)}function ot(U,Ee,Re){Ze(U,Re[Ee*2],Re[Ee*2+1])}function nt(U,Ee){var Re=0;do Re|=U&1,U>>>=1,Re<<=1;while(--Ee>0);return Re>>>1}function lt(U){U.bi_valid===16?(St(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):U.bi_valid>=8&&(U.pending_buf[U.pending++]=U.bi_buf&255,U.bi_buf>>=8,U.bi_valid-=8)}function Ot(U,Ee){var Re=Ee.dyn_tree,Fe=Ee.max_code,Q=Ee.stat_desc.static_tree,be=Ee.stat_desc.has_stree,y=Ee.stat_desc.extra_bits,D=Ee.stat_desc.extra_base,q=Ee.stat_desc.max_length,b,Y,ie,B,Z,ue,Be=0;for(B=0;B<=N;B++)U.bl_count[B]=0;for(Re[U.heap[U.heap_max]*2+1]=0,b=U.heap_max+1;b<C;b++)Y=U.heap[b],B=Re[Re[Y*2+1]*2+1]+1,B>q&&(B=q,Be++),Re[Y*2+1]=B,!(Y>Fe)&&(U.bl_count[B]++,Z=0,Y>=D&&(Z=y[Y-D]),ue=Re[Y*2],U.opt_len+=ue*(B+Z),be&&(U.static_len+=ue*(Q[Y*2+1]+Z)));if(Be!==0){do{for(B=q-1;U.bl_count[B]===0;)B--;U.bl_count[B]--,U.bl_count[B+1]+=2,U.bl_count[q]--,Be-=2}while(Be>0);for(B=q;B!==0;B--)for(Y=U.bl_count[B];Y!==0;)ie=U.heap[--b],!(ie>Fe)&&(Re[ie*2+1]!==B&&(U.opt_len+=(B-Re[ie*2+1])*Re[ie*2],Re[ie*2+1]=B),Y--)}}function bt(U,Ee,Re){var Fe=new Array(N+1),Q=0,be,y;for(be=1;be<=N;be++)Fe[be]=Q=Q+Re[be-1]<<1;for(y=0;y<=Ee;y++){var D=U[y*2+1];D!==0&&(U[y*2]=nt(Fe[D]++,D))}}function Ke(){var U,Ee,Re,Fe,Q,be=new Array(N+1);for(Re=0,Fe=0;Fe<_-1;Fe++)for(oe[Fe]=Re,U=0;U<1<<pe[Fe];U++)M[Re++]=Fe;for(M[Re-1]=Fe,Q=0,Fe=0;Fe<16;Fe++)for(ye[Fe]=Q,U=0;U<1<<ke[Fe];U++)G[Q++]=Fe;for(Q>>=7;Fe<A;Fe++)for(ye[Fe]=Q<<7,U=0;U<1<<ke[Fe]-7;U++)G[256+Q++]=Fe;for(Ee=0;Ee<=N;Ee++)be[Ee]=0;for(U=0;U<=143;)ce[U*2+1]=8,U++,be[8]++;for(;U<=255;)ce[U*2+1]=9,U++,be[9]++;for(;U<=279;)ce[U*2+1]=7,U++,be[7]++;for(;U<=287;)ce[U*2+1]=8,U++,be[8]++;for(bt(ce,S+1,be),U=0;U<A;U++)Ae[U*2+1]=5,Ae[U*2]=nt(U,5);Ue=new xe(ce,pe,E+1,S,N),ze=new xe(Ae,ke,0,A,N),tt=new xe(new Array(0),me,0,z,V)}function Ft(U){var Ee;for(Ee=0;Ee<S;Ee++)U.dyn_ltree[Ee*2]=0;for(Ee=0;Ee<A;Ee++)U.dyn_dtree[Ee*2]=0;for(Ee=0;Ee<z;Ee++)U.bl_tree[Ee*2]=0;U.dyn_ltree[I*2]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function Kt(U){U.bi_valid>8?St(U,U.bi_buf):U.bi_valid>0&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function kt(U,Ee,Re,Fe){Kt(U),St(U,Re),St(U,~Re),o.arraySet(U.pending_buf,U.window,Ee,Re,U.pending),U.pending+=Re}function $e(U,Ee,Re,Fe){var Q=Ee*2,be=Re*2;return U[Q]<U[be]||U[Q]===U[be]&&Fe[Ee]<=Fe[Re]}function Je(U,Ee,Re){for(var Fe=U.heap[Re],Q=Re<<1;Q<=U.heap_len&&(Q<U.heap_len&&$e(Ee,U.heap[Q+1],U.heap[Q],U.depth)&&Q++,!$e(Ee,Fe,U.heap[Q],U.depth));)U.heap[Re]=U.heap[Q],Re=Q,Q<<=1;U.heap[Re]=Fe}function de(U,Ee,Re){var Fe,Q,be=0,y,D;if(U.last_lit!==0)do Fe=U.pending_buf[U.d_buf+be*2]<<8|U.pending_buf[U.d_buf+be*2+1],Q=U.pending_buf[U.l_buf+be],be++,Fe===0?ot(U,Q,Ee):(y=M[Q],ot(U,y+E+1,Ee),D=pe[y],D!==0&&(Q-=oe[y],Ze(U,Q,D)),Fe--,y=it(Fe),ot(U,y,Re),D=ke[y],D!==0&&(Fe-=ye[y],Ze(U,Fe,D)));while(be<U.last_lit);ot(U,I,Ee)}function Ye(U,Ee){var Re=Ee.dyn_tree,Fe=Ee.stat_desc.static_tree,Q=Ee.stat_desc.has_stree,be=Ee.stat_desc.elems,y,D,q=-1,b;for(U.heap_len=0,U.heap_max=C,y=0;y<be;y++)Re[y*2]!==0?(U.heap[++U.heap_len]=q=y,U.depth[y]=0):Re[y*2+1]=0;for(;U.heap_len<2;)b=U.heap[++U.heap_len]=q<2?++q:0,Re[b*2]=1,U.depth[b]=0,U.opt_len--,Q&&(U.static_len-=Fe[b*2+1]);for(Ee.max_code=q,y=U.heap_len>>1;y>=1;y--)Je(U,Re,y);b=be;do y=U.heap[1],U.heap[1]=U.heap[U.heap_len--],Je(U,Re,1),D=U.heap[1],U.heap[--U.heap_max]=y,U.heap[--U.heap_max]=D,Re[b*2]=Re[y*2]+Re[D*2],U.depth[b]=(U.depth[y]>=U.depth[D]?U.depth[y]:U.depth[D])+1,Re[y*2+1]=Re[D*2+1]=b,U.heap[1]=b++,Je(U,Re,1);while(U.heap_len>=2);U.heap[--U.heap_max]=U.heap[1],Ot(U,Ee),bt(Re,q,U.bl_count)}function wt(U,Ee,Re){var Fe,Q=-1,be,y=Ee[0*2+1],D=0,q=7,b=4;for(y===0&&(q=138,b=3),Ee[(Re+1)*2+1]=65535,Fe=0;Fe<=Re;Fe++)be=y,y=Ee[(Fe+1)*2+1],!(++D<q&&be===y)&&(D<b?U.bl_tree[be*2]+=D:be!==0?(be!==Q&&U.bl_tree[be*2]++,U.bl_tree[H*2]++):D<=10?U.bl_tree[le*2]++:U.bl_tree[W*2]++,D=0,Q=be,y===0?(q=138,b=3):be===y?(q=6,b=3):(q=7,b=4))}function Pt(U,Ee,Re){var Fe,Q=-1,be,y=Ee[0*2+1],D=0,q=7,b=4;for(y===0&&(q=138,b=3),Fe=0;Fe<=Re;Fe++)if(be=y,y=Ee[(Fe+1)*2+1],!(++D<q&&be===y)){if(D<b)do ot(U,be,U.bl_tree);while(--D!==0);else be!==0?(be!==Q&&(ot(U,be,U.bl_tree),D--),ot(U,H,U.bl_tree),Ze(U,D-3,2)):D<=10?(ot(U,le,U.bl_tree),Ze(U,D-3,3)):(ot(U,W,U.bl_tree),Ze(U,D-11,7));D=0,Q=be,y===0?(q=138,b=3):be===y?(q=6,b=3):(q=7,b=4)}}function _t(U){var Ee;for(wt(U,U.dyn_ltree,U.l_desc.max_code),wt(U,U.dyn_dtree,U.d_desc.max_code),Ye(U,U.bl_desc),Ee=z-1;Ee>=3&&U.bl_tree[K[Ee]*2+1]===0;Ee--);return U.opt_len+=3*(Ee+1)+5+5+4,Ee}function ni(U,Ee,Re,Fe){var Q;for(Ze(U,Ee-257,5),Ze(U,Re-1,5),Ze(U,Fe-4,4),Q=0;Q<Fe;Q++)Ze(U,U.bl_tree[K[Q]*2+1],3);Pt(U,U.dyn_ltree,Ee-1),Pt(U,U.dyn_dtree,Re-1)}function jt(U){var Ee=4093624447,Re;for(Re=0;Re<=31;Re++,Ee>>>=1)if(Ee&1&&U.dyn_ltree[Re*2]!==0)return h;if(U.dyn_ltree[9*2]!==0||U.dyn_ltree[10*2]!==0||U.dyn_ltree[13*2]!==0)return f;for(Re=32;Re<E;Re++)if(U.dyn_ltree[Re*2]!==0)return f;return h}var li=!1;function ki(U){li||(Ke(),li=!0),U.l_desc=new Me(U.dyn_ltree,Ue),U.d_desc=new Me(U.dyn_dtree,ze),U.bl_desc=new Me(U.bl_tree,tt),U.bi_buf=0,U.bi_valid=0,Ft(U)}function yi(U,Ee,Re,Fe){Ze(U,(m<<1)+(Fe?1:0),3),kt(U,Ee,Re)}function Mt(U){Ze(U,w<<1,3),ot(U,I,ce),lt(U)}function Qt(U,Ee,Re,Fe){var Q,be,y=0;U.level>0?(U.strm.data_type===p&&(U.strm.data_type=jt(U)),Ye(U,U.l_desc),Ye(U,U.d_desc),y=_t(U),Q=U.opt_len+3+7>>>3,be=U.static_len+3+7>>>3,be<=Q&&(Q=be)):Q=be=Re+5,Re+4<=Q&&Ee!==-1?yi(U,Ee,Re,Fe):U.strategy===l||be===Q?(Ze(U,(w<<1)+(Fe?1:0),3),de(U,ce,Ae)):(Ze(U,(x<<1)+(Fe?1:0),3),ni(U,U.l_desc.max_code+1,U.d_desc.max_code+1,y+1),de(U,U.dyn_ltree,U.dyn_dtree)),Ft(U),Fe&&Kt(U)}function bi(U,Ee,Re){return U.pending_buf[U.d_buf+U.last_lit*2]=Ee>>>8&255,U.pending_buf[U.d_buf+U.last_lit*2+1]=Ee&255,U.pending_buf[U.l_buf+U.last_lit]=Re&255,U.last_lit++,Ee===0?U.dyn_ltree[Re*2]++:(U.matches++,Ee--,U.dyn_ltree[(M[Re]+E+1)*2]++,U.dyn_dtree[it(Ee)*2]++),U.last_lit===U.lit_bufsize-1}a._tr_init=ki,a._tr_stored_block=yi,a._tr_flush_block=Qt,a._tr_tally=bi,a._tr_align=Mt},{"../utils/common":41}],53:[function(i,r,a){function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=o},{}],54:[function(i,r,a){(function(o){(function(l,h){if(l.setImmediate)return;var f=1,p={},v=!1,m=l.document,w;function x(V){typeof V!="function"&&(V=new Function(""+V));for(var I=new Array(arguments.length-1),H=0;H<I.length;H++)I[H]=arguments[H+1];var le={callback:V,args:I};return p[f]=le,w(f),f++}function R(V){delete p[V]}function T(V){var I=V.callback,H=V.args;switch(H.length){case 0:I();break;case 1:I(H[0]);break;case 2:I(H[0],H[1]);break;case 3:I(H[0],H[1],H[2]);break;default:I.apply(h,H);break}}function _(V){if(v)setTimeout(_,0,V);else{var I=p[V];if(I){v=!0;try{T(I)}finally{R(V),v=!1}}}}function E(){w=function(V){process.nextTick(function(){_(V)})}}function S(){if(l.postMessage&&!l.importScripts){var V=!0,I=l.onmessage;return l.onmessage=function(){V=!1},l.postMessage("","*"),l.onmessage=I,V}}function A(){var V="setImmediate$"+Math.random()+"$",I=function(H){H.source===l&&typeof H.data=="string"&&H.data.indexOf(V)===0&&_(+H.data.slice(V.length))};l.addEventListener?l.addEventListener("message",I,!1):l.attachEvent("onmessage",I),w=function(H){l.postMessage(V+H,"*")}}function z(){var V=new MessageChannel;V.port1.onmessage=function(I){var H=I.data;_(H)},w=function(I){V.port2.postMessage(I)}}function C(){var V=m.documentElement;w=function(I){var H=m.createElement("script");H.onreadystatechange=function(){_(I),H.onreadystatechange=null,V.removeChild(H),H=null},V.appendChild(H)}}function N(){w=function(V){setTimeout(_,0,V)}}var F=Object.getPrototypeOf&&Object.getPrototypeOf(l);F=F&&F.setTimeout?F:l,{}.toString.call(l.process)==="[object process]"?E():S()?A():l.MessageChannel?z():m&&"onreadystatechange"in m.createElement("script")?C():N(),F.setImmediate=x,F.clearImmediate=R})(typeof self>"u"?typeof o>"u"?this:o:self)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Ff)),Ff.exports}var qA=PA();const VA=rr(qA);class HA{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new VA}catch{throw new Error("JSZip lib not loaded")}}open(e,i){return this.zip.loadAsync(e,{base64:i})}openUrl(e,i){return No(e,"binary").then((function(r){return this.zip.loadAsync(r,{base64:i})}).bind(this))}request(e,i){var r=new Et,a,o=new nr(e);return i||(i=o.extension),i=="blob"?a=this.getBlob(e):a=this.getText(e),a?a.then((function(l){let h=this.handleResponse(l,i);r.resolve(h)}).bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,i){var r;return i=="json"?r=JSON.parse(e):Oo(i)?r=On(e,"text/xml"):i=="xhtml"?r=On(e,"application/xhtml+xml"):i=="html"||i=="htm"?r=On(e,"text/html"):r=e,r}getBlob(e,i){var r=window.decodeURIComponent(e.substr(1)),a=this.zip.file(r);if(a)return i=i||rs.lookup(a.name),a.async("uint8array").then(function(o){return new Blob([o],{type:i})})}getText(e,i){var r=window.decodeURIComponent(e.substr(1)),a=this.zip.file(r);if(a)return a.async("string").then(function(o){return o})}getBase64(e,i){var r=window.decodeURIComponent(e.substr(1)),a=this.zip.file(r);if(a)return i=i||rs.lookup(a.name),a.async("base64").then(function(o){return"data:"+i+";base64,"+o})}createUrl(e,i){var r=new Et,a=window.URL||window.webkitURL||window.mozURL,o,l,h=i&&i.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(h?(l=this.getBase64(e),l&&l.then((function(f){this.urlCache[e]=f,r.resolve(f)}).bind(this))):(l=this.getBlob(e),l&&l.then((function(f){o=a.createObjectURL(f),this.urlCache[e]=o,r.resolve(o)}).bind(this))),l||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var i=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&i.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let i in this.urlCache)e.revokeObjectURL(i);this.zip=void 0,this.urlCache={}}}var Pf={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var W0;function GA(){return W0||(W0=1,function(c,e){(function(i){c.exports=i()})(function(){return function i(r,a,o){function l(p,v){if(!a[p]){if(!r[p]){var m=typeof jr=="function"&&jr;if(!v&&m)return m(p,!0);if(h)return h(p,!0);var w=new Error("Cannot find module '"+p+"'");throw w.code="MODULE_NOT_FOUND",w}var x=a[p]={exports:{}};r[p][0].call(x.exports,function(R){var T=r[p][1][R];return l(T||R)},x,x.exports,i,r,a,o)}return a[p].exports}for(var h=typeof jr=="function"&&jr,f=0;f<o.length;f++)l(o[f]);return l}({1:[function(i,r,a){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,h;if(l){var f=0,p=new l(R),v=o.document.createTextNode("");p.observe(v,{characterData:!0}),h=function(){v.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var m=new o.MessageChannel;m.port1.onmessage=R,h=function(){m.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?h=function(){var _=o.document.createElement("script");_.onreadystatechange=function(){R(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},o.document.documentElement.appendChild(_)}:h=function(){setTimeout(R,0)};var w,x=[];function R(){w=!0;for(var _,E,S=x.length;S;){for(E=x,x=[],_=-1;++_<S;)E[_]();S=x.length}w=!1}r.exports=T;function T(_){x.push(_)===1&&!w&&h()}}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,r,a){var o=i(1);function l(){}var h={},f=["REJECTED"],p=["FULFILLED"],v=["PENDING"];r.exports=m;function m(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,C!==l&&T(this,C)}m.prototype.catch=function(C){return this.then(null,C)},m.prototype.then=function(C,N){if(typeof C!="function"&&this.state===p||typeof N!="function"&&this.state===f)return this;var F=new this.constructor(l);if(this.state!==v){var V=this.state===p?C:N;x(F,V,this.outcome)}else this.queue.push(new w(F,C,N));return F};function w(C,N,F){this.promise=C,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(C){h.resolve(this.promise,C)},w.prototype.otherCallFulfilled=function(C){x(this.promise,this.onFulfilled,C)},w.prototype.callRejected=function(C){h.reject(this.promise,C)},w.prototype.otherCallRejected=function(C){x(this.promise,this.onRejected,C)};function x(C,N,F){o(function(){var V;try{V=N(F)}catch(I){return h.reject(C,I)}V===C?h.reject(C,new TypeError("Cannot resolve promise with itself")):h.resolve(C,V)})}h.resolve=function(C,N){var F=_(R,N);if(F.status==="error")return h.reject(C,F.value);var V=F.value;if(V)T(C,V);else{C.state=p,C.outcome=N;for(var I=-1,H=C.queue.length;++I<H;)C.queue[I].callFulfilled(N)}return C},h.reject=function(C,N){C.state=f,C.outcome=N;for(var F=-1,V=C.queue.length;++F<V;)C.queue[F].callRejected(N);return C};function R(C){var N=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof N=="function")return function(){N.apply(C,arguments)}}function T(C,N){var F=!1;function V(W){F||(F=!0,h.reject(C,W))}function I(W){F||(F=!0,h.resolve(C,W))}function H(){N(I,V)}var le=_(H);le.status==="error"&&V(le.value)}function _(C,N){var F={};try{F.value=C(N),F.status="success"}catch(V){F.status="error",F.value=V}return F}m.resolve=E;function E(C){return C instanceof this?C:h.resolve(new this(l),C)}m.reject=S;function S(C){var N=new this(l);return h.reject(N,C)}m.all=A;function A(C){var N=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=C.length,V=!1;if(!F)return this.resolve([]);for(var I=new Array(F),H=0,le=-1,W=new this(l);++le<F;)pe(C[le],le);return W;function pe(ke,me){N.resolve(ke).then(K,function(re){V||(V=!0,h.reject(W,re))});function K(re){I[me]=re,++H===F&&!V&&(V=!0,h.resolve(W,I))}}}m.race=z;function z(C){var N=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=C.length,V=!1;if(!F)return this.resolve([]);for(var I=-1,H=new this(l);++I<F;)le(C[I]);return H;function le(W){N.resolve(W).then(function(pe){V||(V=!0,h.resolve(H,pe))},function(pe){V||(V=!0,h.reject(H,pe))})}}},{1:1}],3:[function(i,r,a){(function(o){typeof o.Promise!="function"&&(o.Promise=i(2))}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,r,a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};function l(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var f=h();function p(){try{if(!f||!f.open)return!1;var j=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),X=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!j||X)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function v(j,X){j=j||[],X=X||{};try{return new Blob(j,X)}catch(ee){if(ee.name!=="TypeError")throw ee;for(var P=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new P,se=0;se<j.length;se+=1)ne.append(j[se]);return ne.getBlob(X.type)}}typeof Promise>"u"&&i(3);var m=Promise;function w(j,X){X&&j.then(function(P){X(null,P)},function(P){X(P)})}function x(j,X,P){typeof X=="function"&&j.then(X),typeof P=="function"&&j.catch(P)}function R(j){return typeof j!="string"&&(console.warn(j+" used as a key, but it is not a string."),j=String(j)),j}function T(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",E=void 0,S={},A=Object.prototype.toString,z="readonly",C="readwrite";function N(j){for(var X=j.length,P=new ArrayBuffer(X),ne=new Uint8Array(P),se=0;se<X;se++)ne[se]=j.charCodeAt(se);return P}function F(j){return new m(function(X){var P=j.transaction(_,C),ne=v([""]);P.objectStore(_).put(ne,"key"),P.onabort=function(se){se.preventDefault(),se.stopPropagation(),X(!1)},P.oncomplete=function(){var se=navigator.userAgent.match(/Chrome\/(\d+)/),ee=navigator.userAgent.match(/Edge\//);X(ee||!se||parseInt(se[1],10)>=43)}}).catch(function(){return!1})}function V(j){return typeof E=="boolean"?m.resolve(E):F(j).then(function(X){return E=X,E})}function I(j){var X=S[j.name],P={};P.promise=new m(function(ne,se){P.resolve=ne,P.reject=se}),X.deferredOperations.push(P),X.dbReady?X.dbReady=X.dbReady.then(function(){return P.promise}):X.dbReady=P.promise}function H(j){var X=S[j.name],P=X.deferredOperations.pop();if(P)return P.resolve(),P.promise}function le(j,X){var P=S[j.name],ne=P.deferredOperations.pop();if(ne)return ne.reject(X),ne.promise}function W(j,X){return new m(function(P,ne){if(S[j.name]=S[j.name]||oe(),j.db)if(X)I(j),j.db.close();else return P(j.db);var se=[j.name];X&&se.push(j.version);var ee=f.open.apply(f,se);X&&(ee.onupgradeneeded=function(we){var De=ee.result;try{De.createObjectStore(j.storeName),we.oldVersion<=1&&De.createObjectStore(_)}catch(Te){if(Te.name==="ConstraintError")console.warn('The database "'+j.name+'" has been upgraded from version '+we.oldVersion+" to version "+we.newVersion+', but the storage "'+j.storeName+'" already exists.');else throw Te}}),ee.onerror=function(we){we.preventDefault(),ne(ee.error)},ee.onsuccess=function(){var we=ee.result;we.onversionchange=function(De){De.target.close()},P(we),H(j)}})}function pe(j){return W(j,!1)}function ke(j){return W(j,!0)}function me(j,X){if(!j.db)return!0;var P=!j.db.objectStoreNames.contains(j.storeName),ne=j.version<j.db.version,se=j.version>j.db.version;if(ne&&(j.version!==X&&console.warn('The database "'+j.name+`" can't be downgraded from version `+j.db.version+" to version "+j.version+"."),j.version=j.db.version),se||P){if(P){var ee=j.db.version+1;ee>j.version&&(j.version=ee)}return!0}return!1}function K(j){return new m(function(X,P){var ne=new FileReader;ne.onerror=P,ne.onloadend=function(se){var ee=btoa(se.target.result||"");X({__local_forage_encoded_blob:!0,data:ee,type:j.type})},ne.readAsBinaryString(j)})}function re(j){var X=N(atob(j.data));return v([X],{type:j.type})}function ce(j){return j&&j.__local_forage_encoded_blob}function Ae(j){var X=this,P=X._initReady().then(function(){var ne=S[X._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return x(P,j,j),P}function G(j){I(j);for(var X=S[j.name],P=X.forages,ne=0;ne<P.length;ne++){var se=P[ne];se._dbInfo.db&&(se._dbInfo.db.close(),se._dbInfo.db=null)}return j.db=null,pe(j).then(function(ee){return j.db=ee,me(j)?ke(j):ee}).then(function(ee){j.db=X.db=ee;for(var we=0;we<P.length;we++)P[we]._dbInfo.db=ee}).catch(function(ee){throw le(j,ee),ee})}function M(j,X,P,ne){ne===void 0&&(ne=1);try{var se=j.db.transaction(j.storeName,X);P(null,se)}catch(ee){if(ne>0&&(!j.db||ee.name==="InvalidStateError"||ee.name==="NotFoundError"))return m.resolve().then(function(){if(!j.db||ee.name==="NotFoundError"&&!j.db.objectStoreNames.contains(j.storeName)&&j.version<=j.db.version)return j.db&&(j.version=j.db.version+1),ke(j)}).then(function(){return G(j).then(function(){M(j,X,P,ne-1)})}).catch(P);P(ee)}}function oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ye(j){var X=this,P={db:null};if(j)for(var ne in j)P[ne]=j[ne];var se=S[P.name];se||(se=oe(),S[P.name]=se),se.forages.push(X),X._initReady||(X._initReady=X.ready,X.ready=Ae);var ee=[];function we(){return m.resolve()}for(var De=0;De<se.forages.length;De++){var Te=se.forages[De];Te!==X&&ee.push(Te._initReady().catch(we))}var Ne=se.forages.slice(0);return m.all(ee).then(function(){return P.db=se.db,pe(P)}).then(function(Le){return P.db=Le,me(P,X._defaultConfig.version)?ke(P):Le}).then(function(Le){P.db=se.db=Le,X._dbInfo=P;for(var qe=0;qe<Ne.length;qe++){var st=Ne[qe];st!==X&&(st._dbInfo.db=P.db,st._dbInfo.version=P.version)}})}function xe(j,X){var P=this;j=R(j);var ne=new m(function(se,ee){P.ready().then(function(){M(P._dbInfo,z,function(we,De){if(we)return ee(we);try{var Te=De.objectStore(P._dbInfo.storeName),Ne=Te.get(j);Ne.onsuccess=function(){var Le=Ne.result;Le===void 0&&(Le=null),ce(Le)&&(Le=re(Le)),se(Le)},Ne.onerror=function(){ee(Ne.error)}}catch(Le){ee(Le)}})}).catch(ee)});return w(ne,X),ne}function Ue(j,X){var P=this,ne=new m(function(se,ee){P.ready().then(function(){M(P._dbInfo,z,function(we,De){if(we)return ee(we);try{var Te=De.objectStore(P._dbInfo.storeName),Ne=Te.openCursor(),Le=1;Ne.onsuccess=function(){var qe=Ne.result;if(qe){var st=qe.value;ce(st)&&(st=re(st));var Rt=j(st,qe.key,Le++);Rt!==void 0?se(Rt):qe.continue()}else se()},Ne.onerror=function(){ee(Ne.error)}}catch(qe){ee(qe)}})}).catch(ee)});return w(ne,X),ne}function ze(j,X,P){var ne=this;j=R(j);var se=new m(function(ee,we){var De;ne.ready().then(function(){return De=ne._dbInfo,A.call(X)==="[object Blob]"?V(De.db).then(function(Te){return Te?X:K(X)}):X}).then(function(Te){M(ne._dbInfo,C,function(Ne,Le){if(Ne)return we(Ne);try{var qe=Le.objectStore(ne._dbInfo.storeName);Te===null&&(Te=void 0);var st=qe.put(Te,j);Le.oncomplete=function(){Te===void 0&&(Te=null),ee(Te)},Le.onabort=Le.onerror=function(){var Rt=st.error?st.error:st.transaction.error;we(Rt)}}catch(Rt){we(Rt)}})}).catch(we)});return w(se,P),se}function tt(j,X){var P=this;j=R(j);var ne=new m(function(se,ee){P.ready().then(function(){M(P._dbInfo,C,function(we,De){if(we)return ee(we);try{var Te=De.objectStore(P._dbInfo.storeName),Ne=Te.delete(j);De.oncomplete=function(){se()},De.onerror=function(){ee(Ne.error)},De.onabort=function(){var Le=Ne.error?Ne.error:Ne.transaction.error;ee(Le)}}catch(Le){ee(Le)}})}).catch(ee)});return w(ne,X),ne}function Me(j){var X=this,P=new m(function(ne,se){X.ready().then(function(){M(X._dbInfo,C,function(ee,we){if(ee)return se(ee);try{var De=we.objectStore(X._dbInfo.storeName),Te=De.clear();we.oncomplete=function(){ne()},we.onabort=we.onerror=function(){var Ne=Te.error?Te.error:Te.transaction.error;se(Ne)}}catch(Ne){se(Ne)}})}).catch(se)});return w(P,j),P}function it(j){var X=this,P=new m(function(ne,se){X.ready().then(function(){M(X._dbInfo,z,function(ee,we){if(ee)return se(ee);try{var De=we.objectStore(X._dbInfo.storeName),Te=De.count();Te.onsuccess=function(){ne(Te.result)},Te.onerror=function(){se(Te.error)}}catch(Ne){se(Ne)}})}).catch(se)});return w(P,j),P}function St(j,X){var P=this,ne=new m(function(se,ee){if(j<0){se(null);return}P.ready().then(function(){M(P._dbInfo,z,function(we,De){if(we)return ee(we);try{var Te=De.objectStore(P._dbInfo.storeName),Ne=!1,Le=Te.openKeyCursor();Le.onsuccess=function(){var qe=Le.result;if(!qe){se(null);return}j===0||Ne?se(qe.key):(Ne=!0,qe.advance(j))},Le.onerror=function(){ee(Le.error)}}catch(qe){ee(qe)}})}).catch(ee)});return w(ne,X),ne}function Ze(j){var X=this,P=new m(function(ne,se){X.ready().then(function(){M(X._dbInfo,z,function(ee,we){if(ee)return se(ee);try{var De=we.objectStore(X._dbInfo.storeName),Te=De.openKeyCursor(),Ne=[];Te.onsuccess=function(){var Le=Te.result;if(!Le){ne(Ne);return}Ne.push(Le.key),Le.continue()},Te.onerror=function(){se(Te.error)}}catch(Le){se(Le)}})}).catch(se)});return w(P,j),P}function ot(j,X){X=T.apply(this,arguments);var P=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||P.name,j.storeName=j.storeName||P.storeName);var ne=this,se;if(!j.name)se=m.reject("Invalid arguments");else{var ee=j.name===P.name&&ne._dbInfo.db,we=ee?m.resolve(ne._dbInfo.db):pe(j).then(function(De){var Te=S[j.name],Ne=Te.forages;Te.db=De;for(var Le=0;Le<Ne.length;Le++)Ne[Le]._dbInfo.db=De;return De});j.storeName?se=we.then(function(De){if(De.objectStoreNames.contains(j.storeName)){var Te=De.version+1;I(j);var Ne=S[j.name],Le=Ne.forages;De.close();for(var qe=0;qe<Le.length;qe++){var st=Le[qe];st._dbInfo.db=null,st._dbInfo.version=Te}var Rt=new m(function(Nt,Gt){var ti=f.open(j.name,Te);ti.onerror=function(Ii){var lr=ti.result;lr.close(),Gt(Ii)},ti.onupgradeneeded=function(){var Ii=ti.result;Ii.deleteObjectStore(j.storeName)},ti.onsuccess=function(){var Ii=ti.result;Ii.close(),Nt(Ii)}});return Rt.then(function(Nt){Ne.db=Nt;for(var Gt=0;Gt<Le.length;Gt++){var ti=Le[Gt];ti._dbInfo.db=Nt,H(ti._dbInfo)}}).catch(function(Nt){throw(le(j,Nt)||m.resolve()).catch(function(){}),Nt})}}):se=we.then(function(De){I(j);var Te=S[j.name],Ne=Te.forages;De.close();for(var Le=0;Le<Ne.length;Le++){var qe=Ne[Le];qe._dbInfo.db=null}var st=new m(function(Rt,Nt){var Gt=f.deleteDatabase(j.name);Gt.onerror=function(){var ti=Gt.result;ti&&ti.close(),Nt(Gt.error)},Gt.onblocked=function(){console.warn('dropInstance blocked for database "'+j.name+'" until all open connections are closed')},Gt.onsuccess=function(){var ti=Gt.result;ti&&ti.close(),Rt(ti)}});return st.then(function(Rt){Te.db=Rt;for(var Nt=0;Nt<Ne.length;Nt++){var Gt=Ne[Nt];H(Gt._dbInfo)}}).catch(function(Rt){throw(le(j,Rt)||m.resolve()).catch(function(){}),Rt})})}return w(se,X),se}var nt={_driver:"asyncStorage",_initStorage:ye,_support:p(),iterate:Ue,getItem:xe,setItem:ze,removeItem:tt,clear:Me,length:it,key:St,keys:Ze,dropInstance:ot};function lt(){return typeof openDatabase=="function"}var Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bt="~~local_forage_type~",Ke=/^~~local_forage_type~([^~]+)~/,Ft="__lfsc__:",Kt=Ft.length,kt="arbf",$e="blob",Je="si08",de="ui08",Ye="uic8",wt="si16",Pt="si32",_t="ur16",ni="ui32",jt="fl32",li="fl64",ki=Kt+kt.length,yi=Object.prototype.toString;function Mt(j){var X=j.length*.75,P=j.length,ne,se=0,ee,we,De,Te;j[j.length-1]==="="&&(X--,j[j.length-2]==="="&&X--);var Ne=new ArrayBuffer(X),Le=new Uint8Array(Ne);for(ne=0;ne<P;ne+=4)ee=Ot.indexOf(j[ne]),we=Ot.indexOf(j[ne+1]),De=Ot.indexOf(j[ne+2]),Te=Ot.indexOf(j[ne+3]),Le[se++]=ee<<2|we>>4,Le[se++]=(we&15)<<4|De>>2,Le[se++]=(De&3)<<6|Te&63;return Ne}function Qt(j){var X=new Uint8Array(j),P="",ne;for(ne=0;ne<X.length;ne+=3)P+=Ot[X[ne]>>2],P+=Ot[(X[ne]&3)<<4|X[ne+1]>>4],P+=Ot[(X[ne+1]&15)<<2|X[ne+2]>>6],P+=Ot[X[ne+2]&63];return X.length%3===2?P=P.substring(0,P.length-1)+"=":X.length%3===1&&(P=P.substring(0,P.length-2)+"=="),P}function bi(j,X){var P="";if(j&&(P=yi.call(j)),j&&(P==="[object ArrayBuffer]"||j.buffer&&yi.call(j.buffer)==="[object ArrayBuffer]")){var ne,se=Ft;j instanceof ArrayBuffer?(ne=j,se+=kt):(ne=j.buffer,P==="[object Int8Array]"?se+=Je:P==="[object Uint8Array]"?se+=de:P==="[object Uint8ClampedArray]"?se+=Ye:P==="[object Int16Array]"?se+=wt:P==="[object Uint16Array]"?se+=_t:P==="[object Int32Array]"?se+=Pt:P==="[object Uint32Array]"?se+=ni:P==="[object Float32Array]"?se+=jt:P==="[object Float64Array]"?se+=li:X(new Error("Failed to get type for BinaryArray"))),X(se+Qt(ne))}else if(P==="[object Blob]"){var ee=new FileReader;ee.onload=function(){var we=bt+j.type+"~"+Qt(this.result);X(Ft+$e+we)},ee.readAsArrayBuffer(j)}else try{X(JSON.stringify(j))}catch(we){console.error("Couldn't convert value into a JSON string: ",j),X(null,we)}}function U(j){if(j.substring(0,Kt)!==Ft)return JSON.parse(j);var X=j.substring(ki),P=j.substring(Kt,ki),ne;if(P===$e&&Ke.test(X)){var se=X.match(Ke);ne=se[1],X=X.substring(se[0].length)}var ee=Mt(X);switch(P){case kt:return ee;case $e:return v([ee],{type:ne});case Je:return new Int8Array(ee);case de:return new Uint8Array(ee);case Ye:return new Uint8ClampedArray(ee);case wt:return new Int16Array(ee);case _t:return new Uint16Array(ee);case Pt:return new Int32Array(ee);case ni:return new Uint32Array(ee);case jt:return new Float32Array(ee);case li:return new Float64Array(ee);default:throw new Error("Unkown type: "+P)}}var Ee={serialize:bi,deserialize:U,stringToBuffer:Mt,bufferToString:Qt};function Re(j,X,P,ne){j.executeSql("CREATE TABLE IF NOT EXISTS "+X.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],P,ne)}function Fe(j){var X=this,P={db:null};if(j)for(var ne in j)P[ne]=typeof j[ne]!="string"?j[ne].toString():j[ne];var se=new m(function(ee,we){try{P.db=openDatabase(P.name,String(P.version),P.description,P.size)}catch(De){return we(De)}P.db.transaction(function(De){Re(De,P,function(){X._dbInfo=P,ee()},function(Te,Ne){we(Ne)})},we)});return P.serializer=Ee,se}function Q(j,X,P,ne,se,ee){j.executeSql(P,ne,se,function(we,De){De.code===De.SYNTAX_ERR?we.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[X.storeName],function(Te,Ne){Ne.rows.length?ee(Te,De):Re(Te,X,function(){Te.executeSql(P,ne,se,ee)},ee)},ee):ee(we,De)},ee)}function be(j,X){var P=this;j=R(j);var ne=new m(function(se,ee){P.ready().then(function(){var we=P._dbInfo;we.db.transaction(function(De){Q(De,we,"SELECT * FROM "+we.storeName+" WHERE key = ? LIMIT 1",[j],function(Te,Ne){var Le=Ne.rows.length?Ne.rows.item(0).value:null;Le&&(Le=we.serializer.deserialize(Le)),se(Le)},function(Te,Ne){ee(Ne)})})}).catch(ee)});return w(ne,X),ne}function y(j,X){var P=this,ne=new m(function(se,ee){P.ready().then(function(){var we=P._dbInfo;we.db.transaction(function(De){Q(De,we,"SELECT * FROM "+we.storeName,[],function(Te,Ne){for(var Le=Ne.rows,qe=Le.length,st=0;st<qe;st++){var Rt=Le.item(st),Nt=Rt.value;if(Nt&&(Nt=we.serializer.deserialize(Nt)),Nt=j(Nt,Rt.key,st+1),Nt!==void 0){se(Nt);return}}se()},function(Te,Ne){ee(Ne)})})}).catch(ee)});return w(ne,X),ne}function D(j,X,P,ne){var se=this;j=R(j);var ee=new m(function(we,De){se.ready().then(function(){X===void 0&&(X=null);var Te=X,Ne=se._dbInfo;Ne.serializer.serialize(X,function(Le,qe){qe?De(qe):Ne.db.transaction(function(st){Q(st,Ne,"INSERT OR REPLACE INTO "+Ne.storeName+" (key, value) VALUES (?, ?)",[j,Le],function(){we(Te)},function(Rt,Nt){De(Nt)})},function(st){if(st.code===st.QUOTA_ERR){if(ne>0){we(D.apply(se,[j,Te,P,ne-1]));return}De(st)}})})}).catch(De)});return w(ee,P),ee}function q(j,X,P){return D.apply(this,[j,X,P,1])}function b(j,X){var P=this;j=R(j);var ne=new m(function(se,ee){P.ready().then(function(){var we=P._dbInfo;we.db.transaction(function(De){Q(De,we,"DELETE FROM "+we.storeName+" WHERE key = ?",[j],function(){se()},function(Te,Ne){ee(Ne)})})}).catch(ee)});return w(ne,X),ne}function Y(j){var X=this,P=new m(function(ne,se){X.ready().then(function(){var ee=X._dbInfo;ee.db.transaction(function(we){Q(we,ee,"DELETE FROM "+ee.storeName,[],function(){ne()},function(De,Te){se(Te)})})}).catch(se)});return w(P,j),P}function ie(j){var X=this,P=new m(function(ne,se){X.ready().then(function(){var ee=X._dbInfo;ee.db.transaction(function(we){Q(we,ee,"SELECT COUNT(key) as c FROM "+ee.storeName,[],function(De,Te){var Ne=Te.rows.item(0).c;ne(Ne)},function(De,Te){se(Te)})})}).catch(se)});return w(P,j),P}function B(j,X){var P=this,ne=new m(function(se,ee){P.ready().then(function(){var we=P._dbInfo;we.db.transaction(function(De){Q(De,we,"SELECT key FROM "+we.storeName+" WHERE id = ? LIMIT 1",[j+1],function(Te,Ne){var Le=Ne.rows.length?Ne.rows.item(0).key:null;se(Le)},function(Te,Ne){ee(Ne)})})}).catch(ee)});return w(ne,X),ne}function Z(j){var X=this,P=new m(function(ne,se){X.ready().then(function(){var ee=X._dbInfo;ee.db.transaction(function(we){Q(we,ee,"SELECT key FROM "+ee.storeName,[],function(De,Te){for(var Ne=[],Le=0;Le<Te.rows.length;Le++)Ne.push(Te.rows.item(Le).key);ne(Ne)},function(De,Te){se(Te)})})}).catch(se)});return w(P,j),P}function ue(j){return new m(function(X,P){j.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(se,ee){for(var we=[],De=0;De<ee.rows.length;De++)we.push(ee.rows.item(De).name);X({db:j,storeNames:we})},function(se,ee){P(ee)})},function(ne){P(ne)})})}function Be(j,X){X=T.apply(this,arguments);var P=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||P.name,j.storeName=j.storeName||P.storeName);var ne=this,se;return j.name?se=new m(function(ee){var we;j.name===P.name?we=ne._dbInfo.db:we=openDatabase(j.name,"","",0),j.storeName?ee({db:we,storeNames:[j.storeName]}):ee(ue(we))}).then(function(ee){return new m(function(we,De){ee.db.transaction(function(Te){function Ne(Rt){return new m(function(Nt,Gt){Te.executeSql("DROP TABLE IF EXISTS "+Rt,[],function(){Nt()},function(ti,Ii){Gt(Ii)})})}for(var Le=[],qe=0,st=ee.storeNames.length;qe<st;qe++)Le.push(Ne(ee.storeNames[qe]));m.all(Le).then(function(){we()}).catch(function(Rt){De(Rt)})},function(Te){De(Te)})})}):se=m.reject("Invalid arguments"),w(se,X),se}var Oe={_driver:"webSQLStorage",_initStorage:Fe,_support:lt(),iterate:y,getItem:be,setItem:q,removeItem:b,clear:Y,length:ie,key:B,keys:Z,dropInstance:Be};function je(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qe(j,X){var P=j.name+"/";return j.storeName!==X.storeName&&(P+=j.storeName+"/"),P}function ui(){var j="_localforage_support_test";try{return localStorage.setItem(j,!0),localStorage.removeItem(j),!1}catch{return!0}}function vt(){return!ui()||localStorage.length>0}function rt(j){var X=this,P={};if(j)for(var ne in j)P[ne]=j[ne];return P.keyPrefix=Qe(j,X._defaultConfig),vt()?(X._dbInfo=P,P.serializer=Ee,m.resolve()):m.reject()}function Tt(j){var X=this,P=X.ready().then(function(){for(var ne=X._dbInfo.keyPrefix,se=localStorage.length-1;se>=0;se--){var ee=localStorage.key(se);ee.indexOf(ne)===0&&localStorage.removeItem(ee)}});return w(P,j),P}function ft(j,X){var P=this;j=R(j);var ne=P.ready().then(function(){var se=P._dbInfo,ee=localStorage.getItem(se.keyPrefix+j);return ee&&(ee=se.serializer.deserialize(ee)),ee});return w(ne,X),ne}function Zt(j,X){var P=this,ne=P.ready().then(function(){for(var se=P._dbInfo,ee=se.keyPrefix,we=ee.length,De=localStorage.length,Te=1,Ne=0;Ne<De;Ne++){var Le=localStorage.key(Ne);if(Le.indexOf(ee)===0){var qe=localStorage.getItem(Le);if(qe&&(qe=se.serializer.deserialize(qe)),qe=j(qe,Le.substring(we),Te++),qe!==void 0)return qe}}});return w(ne,X),ne}function fi(j,X){var P=this,ne=P.ready().then(function(){var se=P._dbInfo,ee;try{ee=localStorage.key(j)}catch{ee=null}return ee&&(ee=ee.substring(se.keyPrefix.length)),ee});return w(ne,X),ne}function Mi(j){var X=this,P=X.ready().then(function(){for(var ne=X._dbInfo,se=localStorage.length,ee=[],we=0;we<se;we++){var De=localStorage.key(we);De.indexOf(ne.keyPrefix)===0&&ee.push(De.substring(ne.keyPrefix.length))}return ee});return w(P,j),P}function It(j){var X=this,P=X.keys().then(function(ne){return ne.length});return w(P,j),P}function Dt(j,X){var P=this;j=R(j);var ne=P.ready().then(function(){var se=P._dbInfo;localStorage.removeItem(se.keyPrefix+j)});return w(ne,X),ne}function ri(j,X,P){var ne=this;j=R(j);var se=ne.ready().then(function(){X===void 0&&(X=null);var ee=X;return new m(function(we,De){var Te=ne._dbInfo;Te.serializer.serialize(X,function(Ne,Le){if(Le)De(Le);else try{localStorage.setItem(Te.keyPrefix+j,Ne),we(ee)}catch(qe){(qe.name==="QuotaExceededError"||qe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&De(qe),De(qe)}})})});return w(se,P),se}function Fi(j,X){if(X=T.apply(this,arguments),j=typeof j!="function"&&j||{},!j.name){var P=this.config();j.name=j.name||P.name,j.storeName=j.storeName||P.storeName}var ne=this,se;return j.name?se=new m(function(ee){j.storeName?ee(Qe(j,ne._defaultConfig)):ee(j.name+"/")}).then(function(ee){for(var we=localStorage.length-1;we>=0;we--){var De=localStorage.key(we);De.indexOf(ee)===0&&localStorage.removeItem(De)}}):se=m.reject("Invalid arguments"),w(se,X),se}var di={_driver:"localStorageWrapper",_initStorage:rt,_support:je(),iterate:Zt,getItem:ft,setItem:ri,removeItem:Dt,clear:Tt,length:It,key:fi,keys:Mi,dropInstance:Fi},fn=function(X,P){return X===P||typeof X=="number"&&typeof P=="number"&&isNaN(X)&&isNaN(P)},ju=function(X,P){for(var ne=X.length,se=0;se<ne;){if(fn(X[se],P))return!0;se++}return!1},ds=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"},sr={},Uo={},dn={INDEXEDDB:nt,WEBSQL:Oe,LOCALSTORAGE:di},ua=[dn.INDEXEDDB._driver,dn.WEBSQL._driver,dn.LOCALSTORAGE._driver],Pi=["dropInstance"],Ur=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Pi),zo={description:"",driver:ua.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function or(j,X){j[X]=function(){var P=arguments;return j.ready().then(function(){return j[X].apply(j,P)})}}function zr(){for(var j=1;j<arguments.length;j++){var X=arguments[j];if(X)for(var P in X)X.hasOwnProperty(P)&&(ds(X[P])?arguments[0][P]=X[P].slice():arguments[0][P]=X[P])}return arguments[0]}var ps=function(){function j(X){l(this,j);for(var P in dn)if(dn.hasOwnProperty(P)){var ne=dn[P],se=ne._driver;this[P]=se,sr[se]||this.defineDriver(ne)}this._defaultConfig=zr({},zo),this._config=zr({},this._defaultConfig,X),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return j.prototype.config=function(P){if((typeof P>"u"?"undefined":o(P))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in P){if(ne==="storeName"&&(P[ne]=P[ne].replace(/\W/g,"_")),ne==="version"&&typeof P[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=P[ne]}return"driver"in P&&P.driver?this.setDriver(this._config.driver):!0}else return typeof P=="string"?this._config[P]:this._config},j.prototype.defineDriver=function(P,ne,se){var ee=new m(function(we,De){try{var Te=P._driver,Ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!P._driver){De(Ne);return}for(var Le=Ur.concat("_initStorage"),qe=0,st=Le.length;qe<st;qe++){var Rt=Le[qe],Nt=!ju(Pi,Rt);if((Nt||P[Rt])&&typeof P[Rt]!="function"){De(Ne);return}}var Gt=function(){for(var lr=function(ms){return function(){var ys=new Error("Method "+ms+" is not implemented by the current driver"),Ln=m.reject(ys);return w(Ln,arguments[arguments.length-1]),Ln}},Fr=0,Iu=Pi.length;Fr<Iu;Fr++){var vs=Pi[Fr];P[vs]||(P[vs]=lr(vs))}};Gt();var ti=function(lr){sr[Te]&&console.info("Redefining LocalForage driver: "+Te),sr[Te]=P,Uo[Te]=lr,we()};"_support"in P?P._support&&typeof P._support=="function"?P._support().then(ti,De):ti(!!P._support):ti(!0)}catch(Ii){De(Ii)}});return x(ee,ne,se),ee},j.prototype.driver=function(){return this._driver||null},j.prototype.getDriver=function(P,ne,se){var ee=sr[P]?m.resolve(sr[P]):m.reject(new Error("Driver not found."));return x(ee,ne,se),ee},j.prototype.getSerializer=function(P){var ne=m.resolve(Ee);return x(ne,P),ne},j.prototype.ready=function(P){var ne=this,se=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return x(se,P,P),se},j.prototype.setDriver=function(P,ne,se){var ee=this;ds(P)||(P=[P]);var we=this._getSupportedDrivers(P);function De(){ee._config.driver=ee.driver()}function Te(qe){return ee._extend(qe),De(),ee._ready=ee._initStorage(ee._config),ee._ready}function Ne(qe){return function(){var st=0;function Rt(){for(;st<qe.length;){var Nt=qe[st];return st++,ee._dbInfo=null,ee._ready=null,ee.getDriver(Nt).then(Te).catch(Rt)}De();var Gt=new Error("No available storage method found.");return ee._driverSet=m.reject(Gt),ee._driverSet}return Rt()}}var Le=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=Le.then(function(){var qe=we[0];return ee._dbInfo=null,ee._ready=null,ee.getDriver(qe).then(function(st){ee._driver=st._driver,De(),ee._wrapLibraryMethodsWithReady(),ee._initDriver=Ne(we)})}).catch(function(){De();var qe=new Error("No available storage method found.");return ee._driverSet=m.reject(qe),ee._driverSet}),x(this._driverSet,ne,se),this._driverSet},j.prototype.supports=function(P){return!!Uo[P]},j.prototype._extend=function(P){zr(this,P)},j.prototype._getSupportedDrivers=function(P){for(var ne=[],se=0,ee=P.length;se<ee;se++){var we=P[se];this.supports(we)&&ne.push(we)}return ne},j.prototype._wrapLibraryMethodsWithReady=function(){for(var P=0,ne=Ur.length;P<ne;P++)or(this,Ur[P])},j.prototype.createInstance=function(P){return new j(P)},j}(),Mu=new ps;r.exports=Mu},{3:3}]},{},[4])(4)})}(Pf)),Pf.exports}var $A=GA();const K0=rr($A);class Tb{constructor(e,i,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=i||No,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof K0>"u"&&(e=K0),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let i=navigator.onLine;this.online=i,i?this.emit("online",this):this.emit("offline",this)}add(e,i){let r=e.resources.map(a=>{let{href:o}=a,l=this.resolver(o),h=window.encodeURIComponent(l);return this.storage.getItem(h).then(f=>!f||i?this.requester(l,"binary").then(p=>this.storage.setItem(h,p)):f)});return Promise.all(r)}put(e,i,r){let a=window.encodeURIComponent(e);return this.storage.getItem(a).then(o=>o||this.requester(e,"binary",i,r).then(l=>this.storage.setItem(a,l)))}request(e,i,r,a){return this.online?this.requester(e,i,r,a).then(o=>(this.put(e),o)):this.retrieve(e,i)}retrieve(e,i){new Et;var r,a=new nr(e);return i||(i=a.extension),i=="blob"?r=this.getBlob(e):r=this.getText(e),r.then(o=>{var l=new Et,h;return o?(h=this.handleResponse(o,i),l.resolve(h)):l.reject({message:"File not found in storage: "+e,stack:new Error().stack}),l.promise})}handleResponse(e,i){var r;return i=="json"?r=JSON.parse(e):Oo(i)?r=On(e,"text/xml"):i=="xhtml"?r=On(e,"application/xhtml+xml"):i=="html"||i=="htm"?r=On(e,"text/html"):r=e,r}getBlob(e,i){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(a){if(a)return i=i||rs.lookup(e),new Blob([a],{type:i})})}getText(e,i){let r=window.encodeURIComponent(e);return i=i||rs.lookup(e),this.storage.getItem(r).then(function(a){var o=new Et,l=new FileReader,h;if(a)return h=new Blob([a],{type:i}),l.addEventListener("loadend",()=>{o.resolve(l.result)}),l.readAsText(h,i),o.promise})}getBase64(e,i){let r=window.encodeURIComponent(e);return i=i||rs.lookup(e),this.storage.getItem(r).then(a=>{var o=new Et,l=new FileReader,h;if(a)return h=new Blob([a],{type:i}),l.addEventListener("loadend",()=>{o.resolve(l.result)}),l.readAsDataURL(h,i),o.promise})}createUrl(e,i){var r=new Et,a=window.URL||window.webkitURL||window.mozURL,o,l,h=i&&i.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(h?(l=this.getBase64(e),l&&l.then((function(f){this.urlCache[e]=f,r.resolve(f)}).bind(this))):(l=this.getBlob(e),l&&l.then((function(f){o=a.createObjectURL(f),this.urlCache[e]=o,r.resolve(o)}).bind(this))),l||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var i=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&i.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let i in this.urlCache)e.revokeObjectURL(i);this.urlCache={},this.removeListeners()}}Bn(Tb.prototype);class qf{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const i=Yt(e,"display_options");return i?(ir(i,"option").forEach(a=>{let o="";switch(a.childNodes.length&&(o=a.childNodes[0].nodeValue),a.attributes.name.value){case"interactive":this.interactive=o;break;case"fixed-layout":this.fixedLayout=o;break;case"open-to-spread":this.openToSpread=o;break;case"orientation-lock":this.orientationLock=o;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const Q0="META-INF/container.xml",YA="META-INF/com.apple.ibooks.display-options.xml",yn={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class Rd{constructor(e,i){typeof i>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(i=e,e=void 0),this.settings=Oi(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Oi(this.settings,i),this.opening=new Et,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Et,spine:new Et,metadata:new Et,cover:new Et,navigation:new Et,pageList:new Et,resources:new Et,displayOptions:new Et},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||No,this.spine=new oA,this.locations=new _b(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var a=new Error("Cannot load book at "+e);this.emit(Pe.BOOK.OPEN_FAILED,a)})}open(e,i){var r,a=i||this.determineType(e);return a===yn.BINARY?(this.archived=!0,this.url=new _n("/",""),r=this.openEpub(e)):a===yn.BASE64?(this.archived=!0,this.url=new _n("/",""),r=this.openEpub(e,a)):a===yn.EPUB?(this.archived=!0,this.url=new _n("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):a==yn.OPF?(this.url=new _n(e),r=this.openPackaging(this.url.Path.toString())):a==yn.MANIFEST?(this.url=new _n(e),r=this.openManifest(this.url.Path.toString())):(this.url=new _n(e),r=this.openContainer(Q0).then(this.openPackaging.bind(this))),r}openEpub(e,i){return this.unarchive(e,i||this.settings.encoding).then(()=>this.openContainer(Q0)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(i=>(this.container=new lA(i),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new nr(e),this.load(e).then(i=>(this.packaging=new D0(i),this.unpack(this.packaging)))}openManifest(e){return this.path=new nr(e),this.load(e).then(i=>(this.packaging=new D0,this.packaging.load(i),this.unpack(this.packaging)))}load(e){var i=this.resolve(e);return this.archived?this.archive.request(i):this.request(i,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,i){if(e){var r=e,a=e.indexOf("://")>-1;return a?e:(this.path&&(r=this.path.resolve(e)),i!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var i=e;return e?(this.settings.canonical?i=this.settings.canonical(e):i=this.resolve(e,!0),i):""}determineType(e){var i,r,a;if(this.settings.encoding==="base64")return yn.BASE64;if(typeof e!="string")return yn.BINARY;if(i=new _n(e),r=i.path(),a=r.extension,a&&(a=a.replace(/\?.*$/,"")),!a)return yn.DIRECTORY;if(a==="epub")return yn.EPUB;if(a==="opf")return yn.OPF;if(a==="json")return yn.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(YA)).then(i=>{this.displayOptions=new qf(i),this.loading.displayOptions.resolve(this.displayOptions)}).catch(i=>{this.displayOptions=new qf,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new qf,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new fA(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(i=>{console.error(i)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let i=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((a,o)=>{this.navigation=new xf(r),e.pageList&&(this.pageList=new Sf(e.pageList)),a(this.navigation)}):i?this.load(i,"xml").then(a=>(this.navigation=new xf(a),this.pageList=new Sf(a),this.navigation)):new Promise((a,o)=>{this.navigation=new xf,this.pageList=new Sf,a(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,i){return this.rendition=new Dd(this,i),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,i){return this.archive=new HA,this.archive.open(e,i)}store(e){let i=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,a=this.settings.requestMethod||No.bind(this);return this.storage=new Tb(e,a,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let o=(l,h)=>{h.output=this.resources.substitute(l,h.url)};this.resources.settings.replacements=i||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new _n("/",""),this.spine.hooks.serialize.register(o)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(o)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,i)=>{i.output=this.resources.substitute(e,i.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var i=new xt(e),r=this.spine.get(i.spinePos),a=this.load.bind(this);return r?r.load(a).then(function(o){var l=i.toRange(r.document);return l}):new Promise((o,l)=>{l("CFI could not be found")})}key(e){var i=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Lu}:${i}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}Bn(Rd.prototype);function la(c,e){return new Rd(c,e)}la.VERSION=Lu;typeof global<"u"&&(global.EPUBJS_VERSION=Lu);la.Book=Rd;la.Rendition=Dd;la.Contents=kd;la.CFI=xt;la.utils=JS;function ZA(){const c=ar(),{titulo:e}=c.state||{},i=te.useRef(),r=c.state.caminhoEbook;console.log(r);const a=te.useRef(),o=te.useRef(),[l,h]=te.useState(100),[f,p]=te.useState(!1),[v,m]=te.useState(0),[w,x]=te.useState(!1),[R,T]=te.useState(!1),[_,E]=te.useState(!1),[S,A]=te.useState([]),z=Lo(),{usuario:C}=Au();return C||z("/"),te.useEffect(()=>{const N=la(r),F=N.renderTo(i.current,{width:"100%",height:484,allowScriptedContent:!0});return F.display(),o.current=N,a.current=F,F.themes.register("dark",{body:{background:"#141414",color:"#e0e0e0"}}),F.themes.register("light",{body:{background:"#e0e0e0",color:"#141414"}}),N.ready.then(()=>N.locations.generate(1e3)),N.loaded.navigation.then(({toc:V})=>A(V)),F.on("relocated",V=>{const I=V.start.cfi;m(N.locations.percentageFromCfi(I))}),()=>{N.destroy()}},[r]),te.useEffect(()=>{var N;(N=a.current)==null||N.themes.fontSize(`${l}%`)},[l]),te.useEffect(()=>{var F;(F=a.current)==null||F.themes.select(f?"dark":"light"),T(!0);const N=setTimeout(()=>{E(!_),T(!1)},500);return()=>clearTimeout(N)},[f]),O.jsxs("div",{id:"livro",style:f?{background:"#141414",color:"#f0f0f0"}:{background:"#e0e0e0",color:"#141414"},children:[O.jsxs("div",{id:"flex-start-book",children:[O.jsx(as,{to:"/profile",children:O.jsx("img",{src:"/img/Back.svg",alt:"Voltar para o perfil"})}),O.jsx("span",{id:"sumary",onClick:()=>x(!0),children:O.jsx("img",{src:"/img/Sumary.svg",alt:"Abrir sumário"})}),O.jsx("p",{children:e}),O.jsx("button",{onClick:()=>h(N=>Math.max(N-10,80)),children:O.jsx("img",{src:"/img/DecreaseFontSize.svg",alt:"Diminuir tamanho da fonte"})}),O.jsx("button",{onClick:()=>h(N=>Math.min(N+10,150)),children:O.jsx("img",{src:"/img/IncreaseFontSize.svg",alt:"Aumentar tamanho da fonte"})}),O.jsx("button",{onClick:()=>p(!f),children:O.jsx("img",{className:`image-fade ${R?"hidden":""}`,src:_?"/img/DarkMode.svg":"/img/LightMode.svg",alt:"Alternar entre modo claro e escuro"})})]}),O.jsx("div",{ref:i}),O.jsxs("div",{id:"flex-end-book",children:[O.jsx("button",{onClick:()=>{var N;return(N=a.current)==null?void 0:N.prev()},children:"Voltar página"}),O.jsx("p",{children:`${(v*100).toFixed(1)}% lido`}),O.jsx("button",{onClick:()=>{var N;return(N=a.current)==null?void 0:N.next()},children:"Avançar página"})]}),w&&O.jsx("div",{id:"sumary-open",className:"modal",onClick:()=>x(!1),children:O.jsxs("div",{className:"modal-content",style:f?{background:"#cccccc",color:"#141414"}:{background:"#141414",color:"#f0f0f0"},onClick:N=>N.stopPropagation(),children:[O.jsx("h2",{children:"Sumário"}),O.jsx("ul",{children:S.map(N=>O.jsx("li",{children:O.jsx("button",{style:f?{background:"#141414",color:"#f0f0f0"}:{background:"#f0f0f0",color:"#141414"},onClick:()=>a.current.display(N.href),children:N.label})},N.href))})]})})]})}z_.createRoot(document.getElementById("root")).render(O.jsx(h1,{children:O.jsx(p1,{children:O.jsx(v1,{children:O.jsx(t1,{children:O.jsxs(Ow,{children:[O.jsx(nu,{path:"/",element:O.jsx(iE,{})}),O.jsx(nu,{path:"/profile",element:O.jsx(ES,{})}),O.jsx(nu,{path:"/livro",element:O.jsx(ZA,{})})]})})})})}));
